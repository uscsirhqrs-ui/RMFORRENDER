(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var qT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ap(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dm={exports:{}},Yu={};var Nb;function yN(){if(Nb)return Yu;Nb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var u in o)u!=="key"&&(c[u]=o[u])}else c=o;return o=c.ref,{$$typeof:e,type:i,key:f,ref:o!==void 0?o:null,props:c}}return Yu.Fragment=t,Yu.jsx=n,Yu.jsxs=n,Yu}var jb;function vN(){return jb||(jb=1,Dm.exports=yN()),Dm.exports}var s=vN(),Fm={exports:{}},Kt={};var Sb;function wN(){if(Sb)return Kt;Sb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=j&&U[j]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function C(U,_,L){this.props=U,this.context=_,this.refs=E,this.updater=L||A}C.prototype.isReactComponent={},C.prototype.setState=function(U,_){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,_,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function I(){}I.prototype=C.prototype;function G(U,_,L){this.props=U,this.context=_,this.refs=E,this.updater=L||A}var D=G.prototype=new I;D.constructor=G,T(D,C.prototype),D.isPureReactComponent=!0;var te=Array.isArray;function de(){}var Y={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function R(U,_,L){var q=L.ref;return{$$typeof:e,type:U,key:_,ref:q!==void 0?q:null,props:L}}function V(U,_){return R(U.type,_,U.props)}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function z(U){var _={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(L){return _[L]})}var ee=/\/+/g;function le(U,_){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):_.toString(36)}function ve(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(de,de):(U.status="pending",U.then(function(_){U.status==="pending"&&(U.status="fulfilled",U.value=_)},function(_){U.status==="pending"&&(U.status="rejected",U.reason=_)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ae(U,_,L,q,B){var re=typeof U;(re==="undefined"||re==="boolean")&&(U=null);var oe=!1;if(U===null)oe=!0;else switch(re){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(U.$$typeof){case e:case t:oe=!0;break;case p:return oe=U._init,ae(oe(U._payload),_,L,q,B)}}if(oe)return B=B(U),oe=q===""?"."+le(U,0):q,te(B)?(L="",oe!=null&&(L=oe.replace(ee,"$&/")+"/"),ae(B,_,L,"",function(ye){return ye})):B!=null&&(F(B)&&(B=V(B,L+(B.key==null||U&&U.key===B.key?"":(""+B.key).replace(ee,"$&/")+"/")+oe)),_.push(B)),1;oe=0;var Q=q===""?".":q+":";if(te(U))for(var ue=0;ue<U.length;ue++)q=U[ue],re=Q+le(q,ue),oe+=ae(q,_,L,re,B);else if(ue=y(U),typeof ue=="function")for(U=ue.call(U),ue=0;!(q=U.next()).done;)q=q.value,re=Q+le(q,ue++),oe+=ae(q,_,L,re,B);else if(re==="object"){if(typeof U.then=="function")return ae(ve(U),_,L,q,B);throw _=String(U),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return oe}function se(U,_,L){if(U==null)return U;var q=[],B=0;return ae(U,q,"","",function(re){return _.call(L,re,B++)}),q}function Z(U){if(U._status===-1){var _=U._result;_=_(),_.then(function(L){(U._status===0||U._status===-1)&&(U._status=1,U._result=L)},function(L){(U._status===0||U._status===-1)&&(U._status=2,U._result=L)}),U._status===-1&&(U._status=0,U._result=_)}if(U._status===1)return U._result.default;throw U._result}var J=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},fe={map:se,forEach:function(U,_,L){se(U,function(){_.apply(this,arguments)},L)},count:function(U){var _=0;return se(U,function(){_++}),_},toArray:function(U){return se(U,function(_){return _})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Kt.Activity=w,Kt.Children=fe,Kt.Component=C,Kt.Fragment=n,Kt.Profiler=o,Kt.PureComponent=G,Kt.StrictMode=i,Kt.Suspense=h,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return Y.H.useMemoCache(U)}},Kt.cache=function(U){return function(){return U.apply(null,arguments)}},Kt.cacheSignal=function(){return null},Kt.cloneElement=function(U,_,L){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var q=T({},U.props),B=U.key;if(_!=null)for(re in _.key!==void 0&&(B=""+_.key),_)!O.call(_,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&_.ref===void 0||(q[re]=_[re]);var re=arguments.length-2;if(re===1)q.children=L;else if(1<re){for(var oe=Array(re),Q=0;Q<re;Q++)oe[Q]=arguments[Q+2];q.children=oe}return R(U.type,B,q)},Kt.createContext=function(U){return U={$$typeof:f,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},Kt.createElement=function(U,_,L){var q,B={},re=null;if(_!=null)for(q in _.key!==void 0&&(re=""+_.key),_)O.call(_,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(B[q]=_[q]);var oe=arguments.length-2;if(oe===1)B.children=L;else if(1<oe){for(var Q=Array(oe),ue=0;ue<oe;ue++)Q[ue]=arguments[ue+2];B.children=Q}if(U&&U.defaultProps)for(q in oe=U.defaultProps,oe)B[q]===void 0&&(B[q]=oe[q]);return R(U,re,B)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(U){return{$$typeof:u,render:U}},Kt.isValidElement=F,Kt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:Z}},Kt.memo=function(U,_){return{$$typeof:m,type:U,compare:_===void 0?null:_}},Kt.startTransition=function(U){var _=Y.T,L={};Y.T=L;try{var q=U(),B=Y.S;B!==null&&B(L,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(de,J)}catch(re){J(re)}finally{_!==null&&L.types!==null&&(_.types=L.types),Y.T=_}},Kt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Kt.use=function(U){return Y.H.use(U)},Kt.useActionState=function(U,_,L){return Y.H.useActionState(U,_,L)},Kt.useCallback=function(U,_){return Y.H.useCallback(U,_)},Kt.useContext=function(U){return Y.H.useContext(U)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(U,_){return Y.H.useDeferredValue(U,_)},Kt.useEffect=function(U,_){return Y.H.useEffect(U,_)},Kt.useEffectEvent=function(U){return Y.H.useEffectEvent(U)},Kt.useId=function(){return Y.H.useId()},Kt.useImperativeHandle=function(U,_,L){return Y.H.useImperativeHandle(U,_,L)},Kt.useInsertionEffect=function(U,_){return Y.H.useInsertionEffect(U,_)},Kt.useLayoutEffect=function(U,_){return Y.H.useLayoutEffect(U,_)},Kt.useMemo=function(U,_){return Y.H.useMemo(U,_)},Kt.useOptimistic=function(U,_){return Y.H.useOptimistic(U,_)},Kt.useReducer=function(U,_,L){return Y.H.useReducer(U,_,L)},Kt.useRef=function(U){return Y.H.useRef(U)},Kt.useState=function(U){return Y.H.useState(U)},Kt.useSyncExternalStore=function(U,_,L){return Y.H.useSyncExternalStore(U,_,L)},Kt.useTransition=function(){return Y.H.useTransition()},Kt.version="19.2.0",Kt}var Ab;function kp(){return Ab||(Ab=1,Fm.exports=wN()),Fm.exports}var k=kp();const Uc=Ap(k);var Pm={exports:{}},Xu={},Um={exports:{}},Bm={};var kb;function NN(){return kb||(kb=1,(function(e){function t(ae,se){var Z=ae.length;ae.push(se);e:for(;0<Z;){var J=Z-1>>>1,fe=ae[J];if(0<o(fe,se))ae[J]=se,ae[Z]=fe,Z=J;else break e}}function n(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var se=ae[0],Z=ae.pop();if(Z!==se){ae[0]=Z;e:for(var J=0,fe=ae.length,U=fe>>>1;J<U;){var _=2*(J+1)-1,L=ae[_],q=_+1,B=ae[q];if(0>o(L,Z))q<fe&&0>o(B,L)?(ae[J]=B,ae[q]=Z,J=q):(ae[J]=L,ae[_]=Z,J=_);else if(q<fe&&0>o(B,Z))ae[J]=B,ae[q]=Z,J=q;else break e}}return se}function o(ae,se){var Z=ae.sortIndex-se.sortIndex;return Z!==0?Z:ae.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,u=f.now();e.unstable_now=function(){return f.now()-u}}var h=[],m=[],p=1,w=null,j=3,y=!1,A=!1,T=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function D(ae){for(var se=n(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=ae)i(m),se.sortIndex=se.expirationTime,t(h,se);else break;se=n(m)}}function te(ae){if(T=!1,D(ae),!A)if(n(h)!==null)A=!0,de||(de=!0,z());else{var se=n(m);se!==null&&ve(te,se.startTime-ae)}}var de=!1,Y=-1,O=5,R=-1;function V(){return E?!0:!(e.unstable_now()-R<O)}function F(){if(E=!1,de){var ae=e.unstable_now();R=ae;var se=!0;try{e:{A=!1,T&&(T=!1,I(Y),Y=-1),y=!0;var Z=j;try{t:{for(D(ae),w=n(h);w!==null&&!(w.expirationTime>ae&&V());){var J=w.callback;if(typeof J=="function"){w.callback=null,j=w.priorityLevel;var fe=J(w.expirationTime<=ae);if(ae=e.unstable_now(),typeof fe=="function"){w.callback=fe,D(ae),se=!0;break t}w===n(h)&&i(h),D(ae)}else i(h);w=n(h)}if(w!==null)se=!0;else{var U=n(m);U!==null&&ve(te,U.startTime-ae),se=!1}}break e}finally{w=null,j=Z,y=!1}se=void 0}}finally{se?z():de=!1}}}var z;if(typeof G=="function")z=function(){G(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,le=ee.port2;ee.port1.onmessage=F,z=function(){le.postMessage(null)}}else z=function(){C(F,0)};function ve(ae,se){Y=C(function(){ae(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_next=function(ae){switch(j){case 1:case 2:case 3:var se=3;break;default:se=j}var Z=j;j=se;try{return ae()}finally{j=Z}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(ae,se){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Z=j;j=ae;try{return se()}finally{j=Z}},e.unstable_scheduleCallback=function(ae,se,Z){var J=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?J+Z:J):Z=J,ae){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Z+fe,ae={id:p++,callback:se,priorityLevel:ae,startTime:Z,expirationTime:fe,sortIndex:-1},Z>J?(ae.sortIndex=Z,t(m,ae),n(h)===null&&ae===n(m)&&(T?(I(Y),Y=-1):T=!0,ve(te,Z-J))):(ae.sortIndex=fe,t(h,ae),A||y||(A=!0,de||(de=!0,z()))),ae},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(ae){var se=j;return function(){var Z=j;j=se;try{return ae.apply(this,arguments)}finally{j=Z}}}})(Bm)),Bm}var _b;function jN(){return _b||(_b=1,Um.exports=NN()),Um.exports}var zm={exports:{}},Ar={};var Eb;function SN(){if(Eb)return Ar;Eb=1;var e=kp();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(h,m,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:h,containerInfo:m,implementation:p}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ar.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(h,m,null,p)},Ar.flushSync=function(h){var m=f.T,p=i.p;try{if(f.T=null,i.p=2,h)return h()}finally{f.T=m,i.p=p,i.d.f()}},Ar.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Ar.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ar.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,w=u(p,m.crossOrigin),j=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:j,fetchPriority:y}):p==="script"&&i.d.X(h,{crossOrigin:w,integrity:j,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ar.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Ar.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,w=u(p,m.crossOrigin);i.d.L(h,p,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ar.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=u(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Ar.requestFormReset=function(h){i.d.r(h)},Ar.unstable_batchedUpdates=function(h,m){return h(m)},Ar.useFormState=function(h,m,p){return f.H.useFormState(h,m,p)},Ar.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ar.version="19.2.0",Ar}var Cb;function y5(){if(Cb)return zm.exports;Cb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zm.exports=SN(),zm.exports}var Lb;function AN(){if(Lb)return Xu;Lb=1;var e=jN(),t=kp(),n=y5();function i(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var r=a,l=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(l=r.return),a=r.return;while(a)}return r.tag===3?l:null}function f(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function u(a){if(a.tag===31){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function h(a){if(c(a)!==a)throw Error(i(188))}function m(a){var r=a.alternate;if(!r){if(r=c(a),r===null)throw Error(i(188));return r!==a?null:a}for(var l=a,d=r;;){var x=l.return;if(x===null)break;var v=x.alternate;if(v===null){if(d=x.return,d!==null){l=d;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===l)return h(x),a;if(v===d)return h(x),r;v=v.sibling}throw Error(i(188))}if(l.return!==d.return)l=x,d=v;else{for(var P=!1,ne=x.child;ne;){if(ne===l){P=!0,l=x,d=v;break}if(ne===d){P=!0,d=x,l=v;break}ne=ne.sibling}if(!P){for(ne=v.child;ne;){if(ne===l){P=!0,l=v,d=x;break}if(ne===d){P=!0,d=v,l=x;break}ne=ne.sibling}if(!P)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?a:r}function p(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=p(a),r!==null)return r;a=a.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),G=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Symbol.for("react.client.reference");function le(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ee?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case te:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case G:return a.displayName||"Context";case I:return(a._context.displayName||"Context")+".Consumer";case D:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Y:return r=a.displayName||null,r!==null?r:le(a.type)||"Memo";case O:r=a._payload,a=a._init;try{return le(a(r))}catch{}}return null}var ve=Array.isArray,ae=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},J=[],fe=-1;function U(a){return{current:a}}function _(a){0>fe||(a.current=J[fe],J[fe]=null,fe--)}function L(a,r){fe++,J[fe]=a.current,a.current=r}var q=U(null),B=U(null),re=U(null),oe=U(null);function Q(a,r){switch(L(re,r),L(B,a),L(q,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?Gx(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=Gx(r),a=Vx(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}_(q),L(q,a)}function ue(){_(q),_(B),_(re)}function ye(a){a.memoizedState!==null&&L(oe,a);var r=q.current,l=Vx(r,a.type);r!==l&&(L(B,a),L(q,l))}function ke(a){B.current===a&&(_(q),_(B)),oe.current===a&&(_(oe),$u._currentValue=Z)}var Ne,pe;function Fe(a){if(Ne===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ne=r&&r[1]||"",pe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+a+pe}var X=!1;function We(a,r){if(!a||X)return"";X=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Ke){var $e=Ke}Reflect.construct(a,[],it)}else{try{it.call()}catch(Ke){$e=Ke}a.call(it.prototype)}}else{try{throw Error()}catch(Ke){$e=Ke}(it=a())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Ke){if(Ke&&$e&&typeof Ke.stack=="string")return[Ke.stack,$e.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),P=v[0],ne=v[1];if(P&&ne){var Se=P.split(`
`),He=ne.split(`
`);for(x=d=0;d<Se.length&&!Se[d].includes("DetermineComponentFrameRoot");)d++;for(;x<He.length&&!He[x].includes("DetermineComponentFrameRoot");)x++;if(d===Se.length||x===He.length)for(d=Se.length-1,x=He.length-1;1<=d&&0<=x&&Se[d]!==He[x];)x--;for(;1<=d&&0<=x;d--,x--)if(Se[d]!==He[x]){if(d!==1||x!==1)do if(d--,x--,0>x||Se[d]!==He[x]){var et=`
`+Se[d].replace(" at new "," at ");return a.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",a.displayName)),et}while(1<=d&&0<=x);break}}}finally{X=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Fe(l):""}function xe(a,r){switch(a.tag){case 26:case 27:case 5:return Fe(a.type);case 16:return Fe("Lazy");case 13:return a.child!==r&&r!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return We(a.type,!1);case 11:return We(a.type.render,!1);case 1:return We(a.type,!0);case 31:return Fe("Activity");default:return""}}function Ue(a){try{var r="",l=null;do r+=xe(a,l),l=a,a=a.return;while(a);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Re=Object.prototype.hasOwnProperty,ze=e.unstable_scheduleCallback,rt=e.unstable_cancelCallback,dt=e.unstable_shouldYield,gt=e.unstable_requestPaint,Ee=e.unstable_now,Le=e.unstable_getCurrentPriorityLevel,Xe=e.unstable_ImmediatePriority,Ze=e.unstable_UserBlockingPriority,we=e.unstable_NormalPriority,Be=e.unstable_LowPriority,Ge=e.unstable_IdlePriority,ut=e.log,je=e.unstable_setDisableYieldValue,Ve=null,lt=null;function ht(a){if(typeof ut=="function"&&je(a),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Ve,a)}catch{}}var bt=Math.clz32?Math.clz32:Dt,yt=Math.log,na=Math.LN2;function Dt(a){return a>>>=0,a===0?32:31-(yt(a)/na|0)|0}var Ht=256,ja=262144,be=4194304;function tt(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function vt(a,r,l){var d=a.pendingLanes;if(d===0)return 0;var x=0,v=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var ne=d&134217727;return ne!==0?(d=ne&~v,d!==0?x=tt(d):(P&=ne,P!==0?x=tt(P):l||(l=ne&~a,l!==0&&(x=tt(l))))):(ne=d&~v,ne!==0?x=tt(ne):P!==0?x=tt(P):l||(l=d&~a,l!==0&&(x=tt(l)))),x===0?0:r!==0&&r!==x&&(r&v)===0&&(v=x&-x,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:x}function ra(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function Bt(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var a=be;return be<<=1,(be&62914560)===0&&(be=4194304),a}function ln(a){for(var r=[],l=0;31>l;l++)r.push(a);return r}function Mt(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ti(a,r,l,d,x,v){var P=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var ne=a.entanglements,Se=a.expirationTimes,He=a.hiddenUpdates;for(l=P&~l;0<l;){var et=31-bt(l),it=1<<et;ne[et]=0,Se[et]=-1;var $e=He[et];if($e!==null)for(He[et]=null,et=0;et<$e.length;et++){var Ke=$e[et];Ke!==null&&(Ke.lane&=-536870913)}l&=~it}d!==0&&Os(a,d,0),v!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=v&~(P&~r))}function Os(a,r,l){a.pendingLanes|=r,a.suspendedLanes&=~r;var d=31-bt(r);a.entangledLanes|=r,a.entanglements[d]=a.entanglements[d]|1073741824|l&261930}function Or(a,r){var l=a.entangledLanes|=r;for(a=a.entanglements;l;){var d=31-bt(l),x=1<<d;x&r|a[d]&r&&(a[d]|=r),l&=~x}}function Mr(a,r){var l=r&-r;return l=(l&42)!==0?1:Ga(l),(l&(a.suspendedLanes|r))!==0?0:l}function Ga(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function xn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Fn(){var a=se.p;return a!==0?a:(a=window.event,a===void 0?32:gb(a.type))}function Bi(a,r){var l=se.p;try{return se.p=a,r()}finally{se.p=l}}var fr=Math.random().toString(36).slice(2),Ca="__reactFiber$"+fr,Va="__reactProps$"+fr,ar="__reactContainer$"+fr,Dr="__reactEvents$"+fr,Vr="__reactListeners$"+fr,vo="__reactHandles$"+fr,hs="__reactResources$"+fr,ms="__reactMarker$"+fr;function zi(a){delete a[Ca],delete a[Va],delete a[Dr],delete a[Vr],delete a[vo]}function gs(a){var r=a[Ca];if(r)return r;for(var l=a.parentNode;l;){if(r=l[ar]||l[Ca]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(a=Qx(a);a!==null;){if(l=a[Ca])return l;a=Qx(a)}return r}a=l,l=a.parentNode}return null}function ps(a){if(a=a[Ca]||a[ar]){var r=a.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return a}return null}function wo(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(i(33))}function Ms(a){var r=a[hs];return r||(r=a[hs]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function cn(a){a[ms]=!0}var tc=new Set,Fr={};function xs(a,r){ai(a,r),ai(a+"Capture",r)}function ai(a,r){for(Fr[a]=r,a=0;a<r.length;a++)tc.add(r[a])}var ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},rc={};function Yc(a){return Re.call(rc,a)?!0:Re.call(nc,a)?!1:ac.test(a)?rc[a]=!0:(nc[a]=!0,!1)}function Pr(a,r,l){if(Yc(r))if(l===null)a.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+l)}}function ni(a,r,l){if(l===null)a.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+l)}}function bs(a,r,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(r,l,""+d)}}function ya(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function sc(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ds(a,r,l){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,r);if(!a.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,v=d.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return x.call(this)},set:function(P){l=""+P,v.call(this,P)}}),Object.defineProperty(a,r,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(P){l=""+P},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function Ii(a){if(!a._valueTracker){var r=sc(a)?"checked":"value";a._valueTracker=Ds(a,r,""+a[r])}}function ic(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return a&&(d=sc(a)?a.checked?"true":"false":a.value),a=d,a!==l?(r.setValue(a),!0):!1}function hr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var _n=/[\n"\\]/g;function bn(a){return a.replace(_n,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function dl(a,r,l,d,x,v,P,ne){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),r!=null?P==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+ya(r)):a.value!==""+ya(r)&&(a.value=""+ya(r)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),r!=null?oc(a,P,ya(r)):l!=null?oc(a,P,ya(l)):d!=null&&a.removeAttribute("value"),x==null&&v!=null&&(a.defaultChecked=!!v),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?a.name=""+ya(ne):a.removeAttribute("name")}function Xc(a,r,l,d,x,v,P,ne){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){Ii(a);return}l=l!=null?""+ya(l):"",r=r!=null?""+ya(r):l,ne||r===a.value||(a.value=r),a.defaultValue=r}d=d??x,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=ne?a.checked:!!d,a.defaultChecked=!!d,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),Ii(a)}function oc(a,r,l){r==="number"&&hr(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function mr(a,r,l,d){if(a=a.options,r){r={};for(var x=0;x<l.length;x++)r["$"+l[x]]=!0;for(l=0;l<a.length;l++)x=r.hasOwnProperty("$"+a[l].value),a[l].selected!==x&&(a[l].selected=x),x&&d&&(a[l].defaultSelected=!0)}else{for(l=""+ya(l),r=null,x=0;x<a.length;x++){if(a[x].value===l){a[x].selected=!0,d&&(a[x].defaultSelected=!0);return}r!==null||a[x].disabled||(r=a[x])}r!==null&&(r.selected=!0)}}function lc(a,r,l){if(r!=null&&(r=""+ya(r),r!==a.value&&(a.value=r),l==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=l!=null?""+ya(l):""}function cc(a,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(i(92));if(ve(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=ya(r),a.defaultValue=l,d=a.textContent,d===l&&d!==""&&d!==null&&(a.value=d),Ii(a)}function ys(a,r){if(r){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=r;return}}a.textContent=r}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kc(a,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":d?a.setProperty(r,l):typeof l!="number"||l===0||No.has(r)?r==="float"?a.cssFloat=l:a[r]=(""+l).trim():a[r]=l+"px"}function Jc(a,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(a=a.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var x in r)d=r[x],r.hasOwnProperty(x)&&l[x]!==d&&Kc(a,x,d)}else for(var v in r)r.hasOwnProperty(v)&&Kc(a,v,r[v])}function dc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(a){return Zc.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function vs(){}var ri=null;function jo(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var qi=null,zt=null;function Qc(a){var r=ps(a);if(r&&(a=r.stateNode)){var l=a[Va]||null;e:switch(a=r.stateNode,r.type){case"input":if(dl(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==a&&d.form===a.form){var x=d[Va]||null;if(!x)throw Error(i(90));dl(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===a.form&&ic(d)}break e;case"textarea":lc(a,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&mr(a,!!l.multiple,r,!1)}}}var fc=!1;function ed(a,r,l){if(fc)return a(r,l);fc=!0;try{var d=a(r);return d}finally{if(fc=!1,(qi!==null||zt!==null)&&(eh(),qi&&(r=qi,a=zt,zt=qi=null,Qc(r),a)))for(r=0;r<a.length;r++)Qc(a[r])}}function Ur(a,r){var l=a.stateNode;if(l===null)return null;var d=l[Va]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hc=!1;if(Hn)try{var So={};Object.defineProperty(So,"passive",{get:function(){hc=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{hc=!1}var Br=null,Ao=null,Fs=null;function td(){if(Fs)return Fs;var a,r=Ao,l=r.length,d,x="value"in Br?Br.value:Br.textContent,v=x.length;for(a=0;a<l&&r[a]===x[a];a++);var P=l-a;for(d=1;d<=P&&r[l-d]===x[v-d];d++);return Fs=x.slice(a,1<d?1-d:void 0)}function Wr(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function ul(){return!0}function fl(){return!1}function Pn(a){function r(l,d,x,v,P){this._reactName=l,this._targetInst=x,this.type=d,this.nativeEvent=v,this.target=P,this.currentTarget=null;for(var ne in a)a.hasOwnProperty(ne)&&(l=a[ne],this[ne]=l?l(v):v[ne]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ul:fl,this.isPropagationStopped=fl,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),r}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=Pn(Ps),si=w({},Ps,{view:0,detail:0}),hl=Pn(si),ko,ii,oi,_o=w({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$t,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==oi&&(oi&&a.type==="mousemove"?(ko=a.screenX-oi.screenX,ii=a.screenY-oi.screenY):ii=ko=0,oi=a),ko)},movementY:function(a){return"movementY"in a?a.movementY:ii}}),mc=Pn(_o),li=w({},_o,{dataTransfer:0}),ci=Pn(li),ad=w({},si,{relatedTarget:0}),di=Pn(ad),nd=w({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),N=Pn(nd),H=w({},Ps,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ge=Pn(H),Ae=w({},Ps,{data:0}),Oe=Pn(Ae),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ct={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},At={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rt(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=At[a])?!!r[a]:!1}function $t(){return Rt}var Yt=w({},si,{key:function(a){if(a.key){var r=at[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=Wr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ct[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$t,charCode:function(a){return a.type==="keypress"?Wr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Wr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),fa=Pn(Yt),Wa=w({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dn=Pn(Wa),Da=w({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$t}),En=Pn(Da),yn=w({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),$n=Pn(yn),ui=w({},_o,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ws=Pn(ui),fi=w({},Ps,{newState:0,oldState:0}),gc=Pn(fi),ml=[9,13,27,32],Us=Hn&&"CompositionEvent"in window,Ns=null;Hn&&"documentMode"in document&&(Ns=document.documentMode);var Eo=Hn&&"TextEvent"in window&&!Ns,hi=Hn&&(!Us||Ns&&8<Ns&&11>=Ns),Un=" ",Hi=!1;function $i(a,r){switch(a){case"keyup":return ml.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Bs=!1;function gr(a,r){switch(a){case"compositionend":return gl(r);case"keypress":return r.which!==32?null:(Hi=!0,Un);case"textInput":return a=r.data,a===Un&&Hi?null:a;default:return null}}function mi(a,r){if(Bs)return a==="compositionend"||!Us&&$i(a,r)?(a=td(),Fs=Ao=Br=null,Bs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hi&&r.locale!=="ko"?null:r.data;default:return null}}var pl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pc(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!pl[a.type]:r==="textarea"}function zr(a,r,l,d){qi?zt?zt.push(d):zt=[d]:qi=d,r=oh(r,"onChange"),0<r.length&&(l=new Yr("onChange","change",null,l,d),a.push({event:l,listeners:r}))}var js=null,gi=null;function xc(a){Bx(a,0)}function Ss(a){var r=wo(a);if(ic(r))return a}function Gi(a,r){if(a==="change")return r}var jr=!1;if(Hn){var pr;if(Hn){var zs="oninput"in document;if(!zs){var Is=document.createElement("div");Is.setAttribute("oninput","return;"),zs=typeof Is.oninput=="function"}pr=zs}else pr=!1;jr=pr&&(!document.documentMode||9<document.documentMode)}function pi(){js&&(js.detachEvent("onpropertychange",xl),gi=js=null)}function xl(a){if(a.propertyName==="value"&&Ss(gi)){var r=[];zr(r,gi,a,jo(a)),ed(xc,r)}}function bl(a,r,l){a==="focusin"?(pi(),js=r,gi=l,js.attachEvent("onpropertychange",xl)):a==="focusout"&&pi()}function un(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ss(gi)}function rd(a,r){if(a==="click")return Ss(r)}function qs(a,r){if(a==="input"||a==="change")return Ss(r)}function Hs(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var Gn=typeof Object.is=="function"?Object.is:Hs;function xi(a,r){if(Gn(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var l=Object.keys(a),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var x=l[d];if(!Re.call(r,x)||!Gn(a[x],r[x]))return!1}return!0}function yl(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function vl(a,r){var l=yl(a);a=0;for(var d;l;){if(l.nodeType===3){if(d=a+l.textContent.length,a<=r&&d>=r)return{node:l,offset:r-a};a=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=yl(l)}}function bi(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?bi(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function yi(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=hr(a.document);r instanceof a.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)a=r.contentWindow;else break;r=hr(a.document)}return r}function $s(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var Co=Hn&&"documentMode"in document&&11>=document.documentMode,Ir=null,vi=null,nr=null,Xr=!1;function va(a,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xr||Ir==null||Ir!==hr(d)||(d=Ir,"selectionStart"in d&&$s(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),nr&&xi(nr,d)||(nr=d,d=oh(vi,"onSelect"),0<d.length&&(r=new Yr("onSelect","select",null,r,l),a.push({event:r,listeners:d}),r.target=Ir)))}function ha(a,r){var l={};return l[a.toLowerCase()]=r.toLowerCase(),l["Webkit"+a]="webkit"+r,l["Moz"+a]="moz"+r,l}var Fa={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},fn={},Gs={};Hn&&(Gs=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function As(a){if(fn[a])return fn[a];if(!Fa[a])return a;var r=Fa[a],l;for(l in r)if(r.hasOwnProperty(l)&&l in Gs)return fn[a]=r[l];return a}var Lo=As("animationend"),bc=As("animationiteration"),hu=As("animationstart"),Lf=As("transitionrun"),Rf=As("transitionstart"),Tf=As("transitioncancel"),mu=As("transitionend"),gu=new Map,Ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ro.push("scrollEnd");function Kr(a,r){gu.set(a,r),xs(r,[a])}var yc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},qr=[],To=0,sd=0;function vc(){for(var a=To,r=sd=To=0;r<a;){var l=qr[r];qr[r++]=null;var d=qr[r];qr[r++]=null;var x=qr[r];qr[r++]=null;var v=qr[r];if(qr[r++]=null,d!==null&&x!==null){var P=d.pending;P===null?x.next=x:(x.next=P.next,P.next=x),d.pending=x}v!==0&&Nc(l,x,v)}}function wc(a,r,l,d){qr[To++]=a,qr[To++]=r,qr[To++]=l,qr[To++]=d,sd|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function id(a,r,l,d){return wc(a,r,l,d),rr(a)}function wi(a,r){return wc(a,null,null,r),rr(a)}function Nc(a,r,l){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l);for(var x=!1,v=a.return;v!==null;)v.childLanes|=l,d=v.alternate,d!==null&&(d.childLanes|=l),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(x=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,x&&r!==null&&(x=31-bt(l),a=v.hiddenUpdates,d=a[x],d===null?a[x]=[r]:d.push(r),r.lane=l|536870912),v):null}function rr(a){if(50<Pu)throw Pu=0,sm=null,Error(i(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var Vn={};function od(a,r,l,d){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(a,r,l,d){return new od(a,r,l,d)}function ld(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Jr(a,r){var l=a.alternate;return l===null?(l=sr(a.tag,r,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=r,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,r=a.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function jc(a,r){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,r=l.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function wl(a,r,l,d,x,v){var P=0;if(d=a,typeof a=="function")ld(a)&&(P=1);else if(typeof a=="string")P=oN(a,l,q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=sr(31,l,r,x),a.elementType=R,a.lanes=v,a;case T:return Vi(l.children,x,v,r);case E:P=8,x|=24;break;case C:return a=sr(12,l,r,x|2),a.elementType=C,a.lanes=v,a;case te:return a=sr(13,l,r,x),a.elementType=te,a.lanes=v,a;case de:return a=sr(19,l,r,x),a.elementType=de,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case G:P=10;break e;case I:P=9;break e;case D:P=11;break e;case Y:P=14;break e;case O:P=16,d=null;break e}P=29,l=Error(i(130,a===null?"null":typeof a,"")),d=null}return r=sr(P,l,r,x),r.elementType=a,r.type=d,r.lanes=v,r}function Vi(a,r,l,d){return a=sr(7,a,d,r),a.lanes=l,a}function Sc(a,r,l){return a=sr(6,a,null,r),a.lanes=l,a}function cd(a){var r=sr(18,null,null,0);return r.stateNode=a,r}function Nl(a,r,l){return r=sr(4,a.children!==null?a.children:[],a.key,r),r.lanes=l,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var dd=new WeakMap;function Zr(a,r){if(typeof a=="object"&&a!==null){var l=dd.get(a);return l!==void 0?l:(r={value:a,source:r,stack:Ue(r)},dd.set(a,r),r)}return{value:a,source:r,stack:Ue(r)}}var jl=[],Oo=0,ud=null,Ac=0,Qr=[],es=0,Wi=null,ts=1,as="";function Hr(a,r){jl[Oo++]=Ac,jl[Oo++]=ud,ud=a,Ac=r}function Of(a,r,l){Qr[es++]=ts,Qr[es++]=as,Qr[es++]=Wi,Wi=a;var d=ts;a=as;var x=32-bt(d)-1;d&=~(1<<x),l+=1;var v=32-bt(r)+x;if(30<v){var P=x-x%5;v=(d&(1<<P)-1).toString(32),d>>=P,x-=P,ts=1<<32-bt(r)+x|l<<x|d,as=v+a}else ts=1<<v|l<<x|d,as=a}function pu(a){a.return!==null&&(Hr(a,1),Of(a,1,0))}function fd(a){for(;a===ud;)ud=jl[--Oo],jl[Oo]=null,Ac=jl[--Oo],jl[Oo]=null;for(;a===Wi;)Wi=Qr[--es],Qr[es]=null,as=Qr[--es],Qr[es]=null,ts=Qr[--es],Qr[es]=null}function Mf(a,r){Qr[es++]=ts,Qr[es++]=as,Qr[es++]=Wi,ts=r.id,as=r.overflow,Wi=a}var Wn=null,Ia=null,oa=!1,xr=null,en=!1,ks=Error(i(519));function Yi(a){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(Zr(r,a)),ks}function xu(a){var r=a.stateNode,l=a.type,d=a.memoizedProps;switch(r[Ca]=a,r[Va]=d,l){case"dialog":ca("cancel",r),ca("close",r);break;case"iframe":case"object":case"embed":ca("load",r);break;case"video":case"audio":for(l=0;l<Bu.length;l++)ca(Bu[l],r);break;case"source":ca("error",r);break;case"img":case"image":case"link":ca("error",r),ca("load",r);break;case"details":ca("toggle",r);break;case"input":ca("invalid",r),Xc(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ca("invalid",r);break;case"textarea":ca("invalid",r),cc(r,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||Hx(r.textContent,l)?(d.popover!=null&&(ca("beforetoggle",r),ca("toggle",r)),d.onScroll!=null&&ca("scroll",r),d.onScrollEnd!=null&&ca("scrollend",r),d.onClick!=null&&(r.onclick=vs),r=!0):r=!1,r||Yi(a,!0)}function Ni(a){for(Wn=a.return;Wn;)switch(Wn.tag){case 5:case 31:case 13:en=!1;return;case 27:case 3:en=!0;return;default:Wn=Wn.return}}function Yn(a){if(a!==Wn)return!1;if(!oa)return Ni(a),oa=!0,!1;var r=a.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||vm(a.type,a.memoizedProps)),l=!l),l&&Ia&&Yi(a),Ni(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Ia=Zx(a)}else if(r===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Ia=Zx(a)}else r===27?(r=Ia,Ul(a.type)?(a=Am,Am=null,Ia=a):Ia=r):Ia=Wn?Xs(a.stateNode.nextSibling):null;return!0}function Mo(){Ia=Wn=null,oa=!1}function bu(){var a=xr;return a!==null&&(ls===null?ls=a:ls.push.apply(ls,a),xr=null),a}function Sl(a){xr===null?xr=[a]:xr.push(a)}var hd=U(null),Xi=null,Vs=null;function Ki(a,r,l){L(hd,r._currentValue),r._currentValue=l}function ns(a){a._currentValue=hd.current,_(hd)}function Al(a,r,l){for(;a!==null;){var d=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),a===l)break;a=a.return}}function Do(a,r,l,d){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var v=x.dependencies;if(v!==null){var P=x.child;v=v.firstContext;e:for(;v!==null;){var ne=v;v=x;for(var Se=0;Se<r.length;Se++)if(ne.context===r[Se]){v.lanes|=l,ne=v.alternate,ne!==null&&(ne.lanes|=l),Al(v.return,l,a),d||(P=null);break e}v=ne.next}}else if(x.tag===18){if(P=x.return,P===null)throw Error(i(341));P.lanes|=l,v=P.alternate,v!==null&&(v.lanes|=l),Al(P,l,a),P=null}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===a){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}}function Ji(a,r,l,d){a=null;for(var x=r,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var P=x.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var ne=x.type;Gn(x.pendingProps.value,P.value)||(a!==null?a.push(ne):a=[ne])}}else if(x===oe.current){if(P=x.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push($u):a=[$u])}x=x.return}a!==null&&Do(r,a,l,d),r.flags|=262144}function md(a){for(a=a.firstContext;a!==null;){if(!Gn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zi(a){Xi=a,Vs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xn(a){return Df(Xi,a)}function gd(a,r){return Xi===null&&Zi(a),Df(a,r)}function Df(a,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Vs===null){if(a===null)throw Error(i(308));Vs=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else Vs=Vs.next=r;return l}var S0=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(l,d){a.push(d)}};this.abort=function(){r.aborted=!0,a.forEach(function(l){return l()})}},A0=e.unstable_scheduleCallback,k0=e.unstable_NormalPriority,hn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kl(){return{controller:new S0,data:new Map,refCount:0}}function kc(a){a.refCount--,a.refCount===0&&A0(k0,function(){a.controller.abort()})}var _c=null,pd=0,g=0,b=null;function S(a,r){if(_c===null){var l=_c=[];pd=0,g=um(),b={status:"pending",value:void 0,then:function(d){l.push(d)}}}return pd++,r.then(M,M),r}function M(){if(--pd===0&&_c!==null){b!==null&&(b.status="fulfilled");var a=_c;_c=null,g=0,b=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function $(a,r){var l=[],d={status:"pending",value:null,reason:null,then:function(x){l.push(x)}};return a.then(function(){d.status="fulfilled",d.value=r;for(var x=0;x<l.length;x++)(0,l[x])(r)},function(x){for(d.status="rejected",d.reason=x,x=0;x<l.length;x++)(0,l[x])(void 0)}),d}var W=ae.S;ae.S=function(a,r){hx=Ee(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&S(a,r),W!==null&&W(a,r)};var K=U(null);function ie(){var a=K.current;return a!==null?a:Ha.pooledCache}function ce(a,r){r===null?L(K,K.current):L(K,r.pool)}function me(){var a=ie();return a===null?null:{parent:hn._currentValue,pool:a}}var _e=Error(i(460)),Ie=Error(i(474)),he=Error(i(542)),Te={then:function(){}};function De(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Qe(a,r,l){switch(l=a[l],l===void 0?a.push(r):l!==r&&(r.then(vs,vs),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,ft(a),a;default:if(typeof r.status=="string")r.then(vs,vs);else{if(a=Ha,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=r,a.status="pending",a.then(function(d){if(r.status==="pending"){var x=r;x.status="fulfilled",x.value=d}},function(d){if(r.status==="pending"){var x=r;x.status="rejected",x.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,ft(a),a}throw Je=r,_e}}function Pe(a){try{var r=a._init;return r(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Je=l,_e):l}}var Je=null;function nt(){if(Je===null)throw Error(i(459));var a=Je;return Je=null,a}function ft(a){if(a===_e||a===he)throw Error(i(483))}var ot=null,_t=0;function Nt(a){var r=_t;return _t+=1,ot===null&&(ot=[]),Qe(ot,a,r)}function Vt(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function St(a,r){throw r.$$typeof===j?Error(i(525)):(a=Object.prototype.toString.call(r),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function ia(a){function r(Me,Ce){if(a){var qe=Me.deletions;qe===null?(Me.deletions=[Ce],Me.flags|=16):qe.push(Ce)}}function l(Me,Ce){if(!a)return null;for(;Ce!==null;)r(Me,Ce),Ce=Ce.sibling;return null}function d(Me){for(var Ce=new Map;Me!==null;)Me.key!==null?Ce.set(Me.key,Me):Ce.set(Me.index,Me),Me=Me.sibling;return Ce}function x(Me,Ce){return Me=Jr(Me,Ce),Me.index=0,Me.sibling=null,Me}function v(Me,Ce,qe){return Me.index=qe,a?(qe=Me.alternate,qe!==null?(qe=qe.index,qe<Ce?(Me.flags|=67108866,Ce):qe):(Me.flags|=67108866,Ce)):(Me.flags|=1048576,Ce)}function P(Me){return a&&Me.alternate===null&&(Me.flags|=67108866),Me}function ne(Me,Ce,qe,st){return Ce===null||Ce.tag!==6?(Ce=Sc(qe,Me.mode,st),Ce.return=Me,Ce):(Ce=x(Ce,qe),Ce.return=Me,Ce)}function Se(Me,Ce,qe,st){var Ut=qe.type;return Ut===T?et(Me,Ce,qe.props.children,st,qe.key):Ce!==null&&(Ce.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===O&&Pe(Ut)===Ce.type)?(Ce=x(Ce,qe.props),Vt(Ce,qe),Ce.return=Me,Ce):(Ce=wl(qe.type,qe.key,qe.props,null,Me.mode,st),Vt(Ce,qe),Ce.return=Me,Ce)}function He(Me,Ce,qe,st){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==qe.containerInfo||Ce.stateNode.implementation!==qe.implementation?(Ce=Nl(qe,Me.mode,st),Ce.return=Me,Ce):(Ce=x(Ce,qe.children||[]),Ce.return=Me,Ce)}function et(Me,Ce,qe,st,Ut){return Ce===null||Ce.tag!==7?(Ce=Vi(qe,Me.mode,st,Ut),Ce.return=Me,Ce):(Ce=x(Ce,qe),Ce.return=Me,Ce)}function it(Me,Ce,qe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=Sc(""+Ce,Me.mode,qe),Ce.return=Me,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case y:return qe=wl(Ce.type,Ce.key,Ce.props,null,Me.mode,qe),Vt(qe,Ce),qe.return=Me,qe;case A:return Ce=Nl(Ce,Me.mode,qe),Ce.return=Me,Ce;case O:return Ce=Pe(Ce),it(Me,Ce,qe)}if(ve(Ce)||z(Ce))return Ce=Vi(Ce,Me.mode,qe,null),Ce.return=Me,Ce;if(typeof Ce.then=="function")return it(Me,Nt(Ce),qe);if(Ce.$$typeof===G)return it(Me,gd(Me,Ce),qe);St(Me,Ce)}return null}function $e(Me,Ce,qe,st){var Ut=Ce!==null?Ce.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Ut!==null?null:ne(Me,Ce,""+qe,st);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case y:return qe.key===Ut?Se(Me,Ce,qe,st):null;case A:return qe.key===Ut?He(Me,Ce,qe,st):null;case O:return qe=Pe(qe),$e(Me,Ce,qe,st)}if(ve(qe)||z(qe))return Ut!==null?null:et(Me,Ce,qe,st,null);if(typeof qe.then=="function")return $e(Me,Ce,Nt(qe),st);if(qe.$$typeof===G)return $e(Me,Ce,gd(Me,qe),st);St(Me,qe)}return null}function Ke(Me,Ce,qe,st,Ut){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Me=Me.get(qe)||null,ne(Ce,Me,""+st,Ut);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case y:return Me=Me.get(st.key===null?qe:st.key)||null,Se(Ce,Me,st,Ut);case A:return Me=Me.get(st.key===null?qe:st.key)||null,He(Ce,Me,st,Ut);case O:return st=Pe(st),Ke(Me,Ce,qe,st,Ut)}if(ve(st)||z(st))return Me=Me.get(qe)||null,et(Ce,Me,st,Ut,null);if(typeof st.then=="function")return Ke(Me,Ce,qe,Nt(st),Ut);if(st.$$typeof===G)return Ke(Me,Ce,qe,gd(Ce,st),Ut);St(Ce,st)}return null}function kt(Me,Ce,qe,st){for(var Ut=null,Sa=null,Tt=Ce,ea=Ce=0,ua=null;Tt!==null&&ea<qe.length;ea++){Tt.index>ea?(ua=Tt,Tt=null):ua=Tt.sibling;var Aa=$e(Me,Tt,qe[ea],st);if(Aa===null){Tt===null&&(Tt=ua);break}a&&Tt&&Aa.alternate===null&&r(Me,Tt),Ce=v(Aa,Ce,ea),Sa===null?Ut=Aa:Sa.sibling=Aa,Sa=Aa,Tt=ua}if(ea===qe.length)return l(Me,Tt),oa&&Hr(Me,ea),Ut;if(Tt===null){for(;ea<qe.length;ea++)Tt=it(Me,qe[ea],st),Tt!==null&&(Ce=v(Tt,Ce,ea),Sa===null?Ut=Tt:Sa.sibling=Tt,Sa=Tt);return oa&&Hr(Me,ea),Ut}for(Tt=d(Tt);ea<qe.length;ea++)ua=Ke(Tt,Me,ea,qe[ea],st),ua!==null&&(a&&ua.alternate!==null&&Tt.delete(ua.key===null?ea:ua.key),Ce=v(ua,Ce,ea),Sa===null?Ut=ua:Sa.sibling=ua,Sa=ua);return a&&Tt.forEach(function(Hl){return r(Me,Hl)}),oa&&Hr(Me,ea),Ut}function qt(Me,Ce,qe,st){if(qe==null)throw Error(i(151));for(var Ut=null,Sa=null,Tt=Ce,ea=Ce=0,ua=null,Aa=qe.next();Tt!==null&&!Aa.done;ea++,Aa=qe.next()){Tt.index>ea?(ua=Tt,Tt=null):ua=Tt.sibling;var Hl=$e(Me,Tt,Aa.value,st);if(Hl===null){Tt===null&&(Tt=ua);break}a&&Tt&&Hl.alternate===null&&r(Me,Tt),Ce=v(Hl,Ce,ea),Sa===null?Ut=Hl:Sa.sibling=Hl,Sa=Hl,Tt=ua}if(Aa.done)return l(Me,Tt),oa&&Hr(Me,ea),Ut;if(Tt===null){for(;!Aa.done;ea++,Aa=qe.next())Aa=it(Me,Aa.value,st),Aa!==null&&(Ce=v(Aa,Ce,ea),Sa===null?Ut=Aa:Sa.sibling=Aa,Sa=Aa);return oa&&Hr(Me,ea),Ut}for(Tt=d(Tt);!Aa.done;ea++,Aa=qe.next())Aa=Ke(Tt,Me,ea,Aa.value,st),Aa!==null&&(a&&Aa.alternate!==null&&Tt.delete(Aa.key===null?ea:Aa.key),Ce=v(Aa,Ce,ea),Sa===null?Ut=Aa:Sa.sibling=Aa,Sa=Aa);return a&&Tt.forEach(function(bN){return r(Me,bN)}),oa&&Hr(Me,ea),Ut}function za(Me,Ce,qe,st){if(typeof qe=="object"&&qe!==null&&qe.type===T&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case y:e:{for(var Ut=qe.key;Ce!==null;){if(Ce.key===Ut){if(Ut=qe.type,Ut===T){if(Ce.tag===7){l(Me,Ce.sibling),st=x(Ce,qe.props.children),st.return=Me,Me=st;break e}}else if(Ce.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===O&&Pe(Ut)===Ce.type){l(Me,Ce.sibling),st=x(Ce,qe.props),Vt(st,qe),st.return=Me,Me=st;break e}l(Me,Ce);break}else r(Me,Ce);Ce=Ce.sibling}qe.type===T?(st=Vi(qe.props.children,Me.mode,st,qe.key),st.return=Me,Me=st):(st=wl(qe.type,qe.key,qe.props,null,Me.mode,st),Vt(st,qe),st.return=Me,Me=st)}return P(Me);case A:e:{for(Ut=qe.key;Ce!==null;){if(Ce.key===Ut)if(Ce.tag===4&&Ce.stateNode.containerInfo===qe.containerInfo&&Ce.stateNode.implementation===qe.implementation){l(Me,Ce.sibling),st=x(Ce,qe.children||[]),st.return=Me,Me=st;break e}else{l(Me,Ce);break}else r(Me,Ce);Ce=Ce.sibling}st=Nl(qe,Me.mode,st),st.return=Me,Me=st}return P(Me);case O:return qe=Pe(qe),za(Me,Ce,qe,st)}if(ve(qe))return kt(Me,Ce,qe,st);if(z(qe)){if(Ut=z(qe),typeof Ut!="function")throw Error(i(150));return qe=Ut.call(qe),qt(Me,Ce,qe,st)}if(typeof qe.then=="function")return za(Me,Ce,Nt(qe),st);if(qe.$$typeof===G)return za(Me,Ce,gd(Me,qe),st);St(Me,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Ce!==null&&Ce.tag===6?(l(Me,Ce.sibling),st=x(Ce,qe),st.return=Me,Me=st):(l(Me,Ce),st=Sc(qe,Me.mode,st),st.return=Me,Me=st),P(Me)):l(Me,Ce)}return function(Me,Ce,qe,st){try{_t=0;var Ut=za(Me,Ce,qe,st);return ot=null,Ut}catch(Tt){if(Tt===_e||Tt===he)throw Tt;var Sa=sr(29,Tt,null,Me.mode);return Sa.lanes=st,Sa.return=Me,Sa}finally{}}}var qa=ia(!0),Xt=ia(!1),jt=!1;function pt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ya(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function It(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Zt(a,r,l){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Ea&2)!==0){var x=d.pending;return x===null?r.next=r:(r.next=x.next,x.next=r),d.pending=r,r=rr(a),Nc(a,null,l),r}return wc(a,d,r,l),rr(a)}function ka(a,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=a.pendingLanes,l|=d,r.lanes=l,Or(a,l)}}function Cn(a,r){var l=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var x=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var P={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?x=v=P:v=v.next=P,l=l.next}while(l!==null);v===null?x=v=r:v=v.next=r}else x=v=r;l={baseState:d.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=r:a.next=r,l.lastBaseUpdate=r}var Kn=!1;function Pa(){if(Kn){var a=b;if(a!==null)throw a}}function vn(a,r,l,d){Kn=!1;var x=a.updateQueue;jt=!1;var v=x.firstBaseUpdate,P=x.lastBaseUpdate,ne=x.shared.pending;if(ne!==null){x.shared.pending=null;var Se=ne,He=Se.next;Se.next=null,P===null?v=He:P.next=He,P=Se;var et=a.alternate;et!==null&&(et=et.updateQueue,ne=et.lastBaseUpdate,ne!==P&&(ne===null?et.firstBaseUpdate=He:ne.next=He,et.lastBaseUpdate=Se))}if(v!==null){var it=x.baseState;P=0,et=He=Se=null,ne=v;do{var $e=ne.lane&-536870913,Ke=$e!==ne.lane;if(Ke?(da&$e)===$e:(d&$e)===$e){$e!==0&&$e===g&&(Kn=!0),et!==null&&(et=et.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var kt=a,qt=ne;$e=r;var za=l;switch(qt.tag){case 1:if(kt=qt.payload,typeof kt=="function"){it=kt.call(za,it,$e);break e}it=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=qt.payload,$e=typeof kt=="function"?kt.call(za,it,$e):kt,$e==null)break e;it=w({},it,$e);break e;case 2:jt=!0}}$e=ne.callback,$e!==null&&(a.flags|=64,Ke&&(a.flags|=8192),Ke=x.callbacks,Ke===null?x.callbacks=[$e]:Ke.push($e))}else Ke={lane:$e,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},et===null?(He=et=Ke,Se=it):et=et.next=Ke,P|=$e;if(ne=ne.next,ne===null){if(ne=x.shared.pending,ne===null)break;Ke=ne,ne=Ke.next,Ke.next=null,x.lastBaseUpdate=Ke,x.shared.pending=null}}while(!0);et===null&&(Se=it),x.baseState=Se,x.firstBaseUpdate=He,x.lastBaseUpdate=et,v===null&&(x.shared.lanes=0),Ol|=P,a.lanes=P,a.memoizedState=it}}function ir(a,r){if(typeof a!="function")throw Error(i(191,a));a.call(r)}function wn(a,r){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)ir(l[a],r)}var aa=U(null),ga=U(0);function Xa(a,r){a=Go,L(ga,a),L(aa,r),Go=a|r.baseLanes}function wa(){L(ga,Go),L(aa,aa.current)}function Ln(){Go=ga.current,_(aa),_(ga)}var Ka=U(null),pa=null;function mn(a){var r=a.alternate;L(ma,ma.current&1),L(Ka,a),pa===null&&(r===null||aa.current!==null||r.memoizedState!==null)&&(pa=a)}function _a(a){L(ma,ma.current),L(Ka,a),pa===null&&(pa=a)}function Nn(a){a.tag===22?(L(ma,ma.current),L(Ka,a),pa===null&&(pa=a)):jn()}function jn(){L(ma,ma.current),L(Ka,Ka.current)}function La(a){_(Ka),pa===a&&(pa=null),_(ma)}var ma=U(0);function or(a){for(var r=a;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jm(l)||Sm(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tn=0,Ft=null,Pt=null,xa=null,Sr=!1,rs=!1,br=!1,Sn=0,Qi=0,eo=null,xd=0;function Ua(){throw Error(i(321))}function yu(a,r){if(r===null)return!1;for(var l=0;l<r.length&&l<a.length;l++)if(!Gn(a[l],r[l]))return!1;return!0}function vu(a,r,l,d,x,v){return tn=v,Ft=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ae.H=a===null||a.memoizedState===null?S1:M0,br=!1,v=l(d,x),br=!1,rs&&(v=ji(r,l,d,x)),bd(a),v}function bd(a){ae.H=Eu;var r=Pt!==null&&Pt.next!==null;if(tn=0,xa=Pt=Ft=null,Sr=!1,Qi=0,eo=null,r)throw Error(i(300));a===null||zn||(a=a.dependencies,a!==null&&md(a)&&(zn=!0))}function ji(a,r,l,d){Ft=a;var x=0;do{if(rs&&(eo=null),Qi=0,rs=!1,25<=x)throw Error(i(301));if(x+=1,xa=Pt=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ae.H=A1,v=r(l,d)}while(rs);return v}function _0(){var a=ae.H,r=a.useState()[0];return r=typeof r.then=="function"?to(r):r,a=a.useState()[0],(Pt!==null?Pt.memoizedState:null)!==a&&(Ft.flags|=1024),r}function wu(){var a=Sn!==0;return Sn=0,a}function Nu(a,r,l){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~l}function yd(a){if(Sr){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}Sr=!1}tn=0,xa=Pt=Ft=null,rs=!1,Qi=Sn=0,eo=null}function Bn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xa===null?Ft.memoizedState=xa=a:xa=xa.next=a,xa}function an(){if(Pt===null){var a=Ft.alternate;a=a!==null?a.memoizedState:null}else a=Pt.next;var r=xa===null?Ft.memoizedState:xa.next;if(r!==null)xa=r,Pt=a;else{if(a===null)throw Ft.alternate===null?Error(i(467)):Error(i(310));Pt=a,a={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},xa===null?Ft.memoizedState=xa=a:xa=xa.next=a}return xa}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(a){var r=Qi;return Qi+=1,eo===null&&(eo=[]),a=Qe(eo,a,r),r=Ft,(xa===null?r.memoizedState:xa.next)===null&&(r=r.alternate,ae.H=r===null||r.memoizedState===null?S1:M0),a}function _l(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return to(a);if(a.$$typeof===G)return Xn(a)}throw Error(i(438,String(a)))}function Fo(a){var r=null,l=Ft.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=Ft.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(x){return x.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Ec(),Ft.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(a),d=0;d<a;d++)l[d]=V;return r.index++,l}function Ws(a,r){return typeof r=="function"?r(a):r}function vd(a){var r=an();return El(r,Pt,a)}function El(a,r,l){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var x=a.baseQueue,v=d.pending;if(v!==null){if(x!==null){var P=x.next;x.next=v.next,v.next=P}r.baseQueue=x=v,d.pending=null}if(v=a.baseState,x===null)a.memoizedState=v;else{r=x.next;var ne=P=null,Se=null,He=r,et=!1;do{var it=He.lane&-536870913;if(it!==He.lane?(da&it)===it:(tn&it)===it){var $e=He.revertLane;if($e===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),it===g&&(et=!0);else if((tn&$e)===$e){He=He.next,$e===g&&(et=!0);continue}else it={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Se===null?(ne=Se=it,P=v):Se=Se.next=it,Ft.lanes|=$e,Ol|=$e;it=He.action,br&&l(v,it),v=He.hasEagerState?He.eagerState:l(v,it)}else $e={lane:it,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Se===null?(ne=Se=$e,P=v):Se=Se.next=$e,Ft.lanes|=it,Ol|=it;He=He.next}while(He!==null&&He!==r);if(Se===null?P=v:Se.next=ne,!Gn(v,a.memoizedState)&&(zn=!0,et&&(l=b,l!==null)))throw l;a.memoizedState=v,a.baseState=P,a.baseQueue=Se,d.lastRenderedState=v}return x===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function wd(a){var r=an(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=l.dispatch,x=l.pending,v=r.memoizedState;if(x!==null){l.pending=null;var P=x=x.next;do v=a(v,P.action),P=P.next;while(P!==x);Gn(v,r.memoizedState)||(zn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,d]}function Nd(a,r,l){var d=Ft,x=an(),v=oa;if(v){if(l===void 0)throw Error(i(407));l=l()}else l=r();var P=!Gn((Pt||x).memoizedState,l);if(P&&(x.memoizedState=l,zn=!0),x=x.queue,E0(Su.bind(null,d,x,a),[a]),x.getSnapshot!==r||P||xa!==null&&xa.memoizedState.tag&1){if(d.flags|=2048,Uo(9,{destroy:void 0},ju.bind(null,d,x,l,r),null),Ha===null)throw Error(i(349));v||(tn&127)!==0||Si(d,r,l)}return l}function Si(a,r,l){a.flags|=16384,a={getSnapshot:r,value:l},r=Ft.updateQueue,r===null?(r=Ec(),Ft.updateQueue=r,r.stores=[a]):(l=r.stores,l===null?r.stores=[a]:l.push(a))}function ju(a,r,l,d){r.value=l,r.getSnapshot=d,Ff(r)&&Au(a)}function Su(a,r,l){return l(function(){Ff(r)&&Au(a)})}function Ff(a){var r=a.getSnapshot;a=a.value;try{var l=r();return!Gn(a,l)}catch{return!0}}function Au(a){var r=wi(a,2);r!==null&&cs(r,a,2)}function ao(a){var r=Bn();if(typeof a=="function"){var l=a;if(a=l(),br){ht(!0);try{l()}finally{ht(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:a},r}function Pf(a,r,l,d){return a.baseState=l,El(a,Pt,typeof d=="function"?d:Ws)}function Uf(a,r,l,d,x){if(qf(a))throw Error(i(485));if(a=r.action,a!==null){var v={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){v.listeners.push(P)}};ae.T!==null?l(!0):v.isTransition=!1,d(v),l=r.pending,l===null?(v.next=r.pending=v,Bf(r,v)):(v.next=l.next,r.pending=l.next=v)}}function Bf(a,r){var l=r.action,d=r.payload,x=a.state;if(r.isTransition){var v=ae.T,P={};ae.T=P;try{var ne=l(x,d),Se=ae.S;Se!==null&&Se(P,ne),ku(a,r,ne)}catch(He){Po(a,r,He)}finally{v!==null&&P.types!==null&&(v.types=P.types),ae.T=v}}else try{v=l(x,d),ku(a,r,v)}catch(He){Po(a,r,He)}}function ku(a,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){zf(a,r,d)},function(d){return Po(a,r,d)}):zf(a,r,l)}function zf(a,r,l){r.status="fulfilled",r.value=l,jd(r),a.state=l,r=a.pending,r!==null&&(l=r.next,l===r?a.pending=null:(l=l.next,r.next=l,Bf(a,l)))}function Po(a,r,l){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,jd(r),r=r.next;while(r!==d)}a.action=null}function jd(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function Cc(a,r){return r}function Ys(a,r){if(oa){var l=Ha.formState;if(l!==null){e:{var d=Ft;if(oa){if(Ia){t:{for(var x=Ia,v=en;x.nodeType!==8;){if(!v){x=null;break t}if(x=Xs(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Ia=Xs(x.nextSibling),d=x.data==="F!";break e}}Yi(d)}d=!1}d&&(r=l[0])}}return l=Bn(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:r},l.queue=d,l=w1.bind(null,Ft,d),d.dispatch=l,d=ao(!1),v=O0.bind(null,Ft,!1,d.queue),d=Bn(),x={state:r,dispatch:null,action:a,pending:null},d.queue=x,l=Uf.bind(null,Ft,x,v,l),x.dispatch=l,d.memoizedState=a,[r,l,!1]}function Ai(a){var r=an();return ki(r,Pt,a)}function ki(a,r,l){if(r=El(a,r,Cc)[0],a=vd(Ws)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=to(r)}catch(P){throw P===_e?he:P}else d=r;r=an();var x=r.queue,v=x.dispatch;return l!==r.memoizedState&&(Ft.flags|=2048,Uo(9,{destroy:void 0},Sd.bind(null,x,l),null)),[d,v,a]}function Sd(a,r){a.action=r}function Ad(a){var r=an(),l=Pt;if(l!==null)return ki(r,l,a);an(),r=r.memoizedState,l=an();var d=l.queue.dispatch;return l.memoizedState=a,[r,d,!1]}function Uo(a,r,l,d){return a={tag:a,create:l,deps:d,inst:r,next:null},r=Ft.updateQueue,r===null&&(r=Ec(),Ft.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=a.next=a:(d=l.next,l.next=a,a.next=d,r.lastEffect=a),a}function If(){return an().memoizedState}function Cl(a,r,l,d){var x=Bn();Ft.flags|=a,x.memoizedState=Uo(1|r,{destroy:void 0},l,d===void 0?null:d)}function Ll(a,r,l,d){var x=an();d=d===void 0?null:d;var v=x.memoizedState.inst;Pt!==null&&d!==null&&yu(d,Pt.memoizedState.deps)?x.memoizedState=Uo(r,v,l,d):(Ft.flags|=a,x.memoizedState=Uo(1|r,v,l,d))}function o1(a,r){Cl(8390656,8,a,r)}function E0(a,r){Ll(2048,8,a,r)}function f4(a){Ft.flags|=4;var r=Ft.updateQueue;if(r===null)r=Ec(),Ft.updateQueue=r,r.events=[a];else{var l=r.events;l===null?r.events=[a]:l.push(a)}}function l1(a){var r=an().memoizedState;return f4({ref:r,nextImpl:a}),function(){if((Ea&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function c1(a,r){return Ll(4,2,a,r)}function d1(a,r){return Ll(4,4,a,r)}function u1(a,r){if(typeof r=="function"){a=a();var l=r(a);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function f1(a,r,l){l=l!=null?l.concat([a]):null,Ll(4,4,u1.bind(null,r,a),l)}function C0(){}function h1(a,r){var l=an();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&yu(r,d[1])?d[0]:(l.memoizedState=[a,r],a)}function m1(a,r){var l=an();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&yu(r,d[1]))return d[0];if(d=a(),br){ht(!0);try{a()}finally{ht(!1)}}return l.memoizedState=[d,r],d}function L0(a,r,l){return l===void 0||(tn&1073741824)!==0&&(da&261930)===0?a.memoizedState=r:(a.memoizedState=l,a=gx(),Ft.lanes|=a,Ol|=a,l)}function g1(a,r,l,d){return Gn(l,r)?l:aa.current!==null?(a=L0(a,l,d),Gn(a,r)||(zn=!0),a):(tn&42)===0||(tn&1073741824)!==0&&(da&261930)===0?(zn=!0,a.memoizedState=l):(a=gx(),Ft.lanes|=a,Ol|=a,r)}function p1(a,r,l,d,x){var v=se.p;se.p=v!==0&&8>v?v:8;var P=ae.T,ne={};ae.T=ne,O0(a,!1,r,l);try{var Se=x(),He=ae.S;if(He!==null&&He(ne,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var et=$(Se,d);_u(a,r,et,Cs(a))}else _u(a,r,d,Cs(a))}catch(it){_u(a,r,{then:function(){},status:"rejected",reason:it},Cs())}finally{se.p=v,P!==null&&ne.types!==null&&(P.types=ne.types),ae.T=P}}function h4(){}function R0(a,r,l,d){if(a.tag!==5)throw Error(i(476));var x=x1(a).queue;p1(a,x,r,Z,l===null?h4:function(){return b1(a),l(d)})}function x1(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:Z},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:l},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function b1(a){var r=x1(a);r.next===null&&(r=a.alternate.memoizedState),_u(a,r.next.queue,{},Cs())}function T0(){return Xn($u)}function y1(){return an().memoizedState}function v1(){return an().memoizedState}function m4(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var l=Cs();a=It(l);var d=Zt(r,a,l);d!==null&&(cs(d,r,l),ka(d,r,l)),r={cache:kl()},a.payload=r;return}r=r.return}}function g4(a,r,l){var d=Cs();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qf(a)?N1(r,l):(l=id(a,r,l,d),l!==null&&(cs(l,a,d),j1(l,r,d)))}function w1(a,r,l){var d=Cs();_u(a,r,l,d)}function _u(a,r,l,d){var x={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(qf(a))N1(r,x);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var P=r.lastRenderedState,ne=v(P,l);if(x.hasEagerState=!0,x.eagerState=ne,Gn(ne,P))return wc(a,r,x,0),Ha===null&&vc(),!1}catch{}finally{}if(l=id(a,r,x,d),l!==null)return cs(l,a,d),j1(l,r,d),!0}return!1}function O0(a,r,l,d){if(d={lane:2,revertLane:um(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},qf(a)){if(r)throw Error(i(479))}else r=id(a,l,d,2),r!==null&&cs(r,a,2)}function qf(a){var r=a.alternate;return a===Ft||r!==null&&r===Ft}function N1(a,r){rs=Sr=!0;var l=a.pending;l===null?r.next=r:(r.next=l.next,l.next=r),a.pending=r}function j1(a,r,l){if((l&4194048)!==0){var d=r.lanes;d&=a.pendingLanes,l|=d,r.lanes=l,Or(a,l)}}var Eu={readContext:Xn,use:_l,useCallback:Ua,useContext:Ua,useEffect:Ua,useImperativeHandle:Ua,useLayoutEffect:Ua,useInsertionEffect:Ua,useMemo:Ua,useReducer:Ua,useRef:Ua,useState:Ua,useDebugValue:Ua,useDeferredValue:Ua,useTransition:Ua,useSyncExternalStore:Ua,useId:Ua,useHostTransitionStatus:Ua,useFormState:Ua,useActionState:Ua,useOptimistic:Ua,useMemoCache:Ua,useCacheRefresh:Ua};Eu.useEffectEvent=Ua;var S1={readContext:Xn,use:_l,useCallback:function(a,r){return Bn().memoizedState=[a,r===void 0?null:r],a},useContext:Xn,useEffect:o1,useImperativeHandle:function(a,r,l){l=l!=null?l.concat([a]):null,Cl(4194308,4,u1.bind(null,r,a),l)},useLayoutEffect:function(a,r){return Cl(4194308,4,a,r)},useInsertionEffect:function(a,r){Cl(4,2,a,r)},useMemo:function(a,r){var l=Bn();r=r===void 0?null:r;var d=a();if(br){ht(!0);try{a()}finally{ht(!1)}}return l.memoizedState=[d,r],d},useReducer:function(a,r,l){var d=Bn();if(l!==void 0){var x=l(r);if(br){ht(!0);try{l(r)}finally{ht(!1)}}}else x=r;return d.memoizedState=d.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},d.queue=a,a=a.dispatch=g4.bind(null,Ft,a),[d.memoizedState,a]},useRef:function(a){var r=Bn();return a={current:a},r.memoizedState=a},useState:function(a){a=ao(a);var r=a.queue,l=w1.bind(null,Ft,r);return r.dispatch=l,[a.memoizedState,l]},useDebugValue:C0,useDeferredValue:function(a,r){var l=Bn();return L0(l,a,r)},useTransition:function(){var a=ao(!1);return a=p1.bind(null,Ft,a.queue,!0,!1),Bn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,l){var d=Ft,x=Bn();if(oa){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Ha===null)throw Error(i(349));(da&127)!==0||Si(d,r,l)}x.memoizedState=l;var v={value:l,getSnapshot:r};return x.queue=v,o1(Su.bind(null,d,v,a),[a]),d.flags|=2048,Uo(9,{destroy:void 0},ju.bind(null,d,v,l,r),null),l},useId:function(){var a=Bn(),r=Ha.identifierPrefix;if(oa){var l=as,d=ts;l=(d&~(1<<32-bt(d)-1)).toString(32)+l,r="_"+r+"R_"+l,l=Sn++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=xd++,r="_"+r+"r_"+l.toString(32)+"_";return a.memoizedState=r},useHostTransitionStatus:T0,useFormState:Ys,useActionState:Ys,useOptimistic:function(a){var r=Bn();r.memoizedState=r.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=O0.bind(null,Ft,!0,l),l.dispatch=r,[a,r]},useMemoCache:Fo,useCacheRefresh:function(){return Bn().memoizedState=m4.bind(null,Ft)},useEffectEvent:function(a){var r=Bn(),l={impl:a};return r.memoizedState=l,function(){if((Ea&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},M0={readContext:Xn,use:_l,useCallback:h1,useContext:Xn,useEffect:E0,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:d1,useMemo:m1,useReducer:vd,useRef:If,useState:function(){return vd(Ws)},useDebugValue:C0,useDeferredValue:function(a,r){var l=an();return g1(l,Pt.memoizedState,a,r)},useTransition:function(){var a=vd(Ws)[0],r=an().memoizedState;return[typeof a=="boolean"?a:to(a),r]},useSyncExternalStore:Nd,useId:y1,useHostTransitionStatus:T0,useFormState:Ai,useActionState:Ai,useOptimistic:function(a,r){var l=an();return Pf(l,Pt,a,r)},useMemoCache:Fo,useCacheRefresh:v1};M0.useEffectEvent=l1;var A1={readContext:Xn,use:_l,useCallback:h1,useContext:Xn,useEffect:E0,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:d1,useMemo:m1,useReducer:wd,useRef:If,useState:function(){return wd(Ws)},useDebugValue:C0,useDeferredValue:function(a,r){var l=an();return Pt===null?L0(l,a,r):g1(l,Pt.memoizedState,a,r)},useTransition:function(){var a=wd(Ws)[0],r=an().memoizedState;return[typeof a=="boolean"?a:to(a),r]},useSyncExternalStore:Nd,useId:y1,useHostTransitionStatus:T0,useFormState:Ad,useActionState:Ad,useOptimistic:function(a,r){var l=an();return Pt!==null?Pf(l,Pt,a,r):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:Fo,useCacheRefresh:v1};A1.useEffectEvent=l1;function D0(a,r,l,d){r=a.memoizedState,l=l(d,r),l=l==null?r:w({},r,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var F0={enqueueSetState:function(a,r,l){a=a._reactInternals;var d=Cs(),x=It(d);x.payload=r,l!=null&&(x.callback=l),r=Zt(a,x,d),r!==null&&(cs(r,a,d),ka(r,a,d))},enqueueReplaceState:function(a,r,l){a=a._reactInternals;var d=Cs(),x=It(d);x.tag=1,x.payload=r,l!=null&&(x.callback=l),r=Zt(a,x,d),r!==null&&(cs(r,a,d),ka(r,a,d))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var l=Cs(),d=It(l);d.tag=2,r!=null&&(d.callback=r),r=Zt(a,d,l),r!==null&&(cs(r,a,l),ka(r,a,l))}};function k1(a,r,l,d,x,v,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,v,P):r.prototype&&r.prototype.isPureReactComponent?!xi(l,d)||!xi(x,v):!0}function _1(a,r,l,d){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==a&&F0.enqueueReplaceState(r,r.state,null)}function Lc(a,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(a=a.defaultProps){l===r&&(l=w({},l));for(var x in a)l[x]===void 0&&(l[x]=a[x])}return l}function E1(a){yc(a)}function C1(a){console.error(a)}function L1(a){yc(a)}function Hf(a,r){try{var l=a.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function R1(a,r,l){try{var d=a.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function P0(a,r,l){return l=It(l),l.tag=3,l.payload={element:null},l.callback=function(){Hf(a,r)},l}function T1(a){return a=It(a),a.tag=3,a}function O1(a,r,l,d){var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var v=d.value;a.payload=function(){return x(v)},a.callback=function(){R1(r,l,d)}}var P=l.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){R1(r,l,d),typeof x!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var ne=d.stack;this.componentDidCatch(d.value,{componentStack:ne!==null?ne:""})})}function p4(a,r,l,d,x){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&Ji(r,l,x,!0),l=Ka.current,l!==null){switch(l.tag){case 31:case 13:return pa===null?th():l.alternate===null&&An===0&&(An=3),l.flags&=-257,l.flags|=65536,l.lanes=x,d===Te?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),lm(a,d,x)),!1;case 22:return l.flags|=65536,d===Te?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),lm(a,d,x)),!1}throw Error(i(435,l.tag))}return lm(a,d,x),th(),!1}if(oa)return r=Ka.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=x,d!==ks&&(a=Error(i(422),{cause:d}),Sl(Zr(a,l)))):(d!==ks&&(r=Error(i(423),{cause:d}),Sl(Zr(r,l))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,d=Zr(d,l),x=P0(a.stateNode,d,x),Cn(a,x),An!==4&&(An=2)),!1;var v=Error(i(520),{cause:d});if(v=Zr(v,l),Fu===null?Fu=[v]:Fu.push(v),An!==4&&(An=2),r===null)return!0;d=Zr(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,a=x&-x,l.lanes|=a,a=P0(l.stateNode,d,a),Cn(l,a),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ml===null||!Ml.has(v))))return l.flags|=65536,x&=-x,l.lanes|=x,x=T1(x),O1(x,a,l,d),Cn(l,x),!1}l=l.return}while(l!==null);return!1}var U0=Error(i(461)),zn=!1;function yr(a,r,l,d){r.child=a===null?Xt(r,null,l,d):qa(r,a.child,l,d)}function M1(a,r,l,d,x){l=l.render;var v=r.ref;if("ref"in d){var P={};for(var ne in d)ne!=="ref"&&(P[ne]=d[ne])}else P=d;return Zi(r),d=vu(a,r,l,P,v,x),ne=wu(),a!==null&&!zn?(Nu(a,r,x),Bo(a,r,x)):(oa&&ne&&pu(r),r.flags|=1,yr(a,r,d,x),r.child)}function D1(a,r,l,d,x){if(a===null){var v=l.type;return typeof v=="function"&&!ld(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,F1(a,r,v,d,x)):(a=wl(l.type,null,d,r,r.mode,x),a.ref=r.ref,a.return=r,r.child=a)}if(v=a.child,!V0(a,x)){var P=v.memoizedProps;if(l=l.compare,l=l!==null?l:xi,l(P,d)&&a.ref===r.ref)return Bo(a,r,x)}return r.flags|=1,a=Jr(v,d),a.ref=r.ref,a.return=r,r.child=a}function F1(a,r,l,d,x){if(a!==null){var v=a.memoizedProps;if(xi(v,d)&&a.ref===r.ref)if(zn=!1,r.pendingProps=d=v,V0(a,x))(a.flags&131072)!==0&&(zn=!0);else return r.lanes=a.lanes,Bo(a,r,x)}return B0(a,r,l,d,x)}function P1(a,r,l,d){var x=d.children,v=a!==null?a.memoizedState:null;if(a===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,a!==null){for(d=r.child=a.child,x=0;d!==null;)x=x|d.lanes|d.childLanes,d=d.sibling;d=x&~v}else d=0,r.child=null;return U1(a,r,v,l,d)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&ce(r,v!==null?v.cachePool:null),v!==null?Xa(r,v):wa(),Nn(r);else return d=r.lanes=536870912,U1(a,r,v!==null?v.baseLanes|l:l,l,d)}else v!==null?(ce(r,v.cachePool),Xa(r,v),jn(),r.memoizedState=null):(a!==null&&ce(r,null),wa(),jn());return yr(a,r,x,l),r.child}function Cu(a,r){return a!==null&&a.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function U1(a,r,l,d,x){var v=ie();return v=v===null?null:{parent:hn._currentValue,pool:v},r.memoizedState={baseLanes:l,cachePool:v},a!==null&&ce(r,null),wa(),Nn(r),a!==null&&Ji(a,r,d,!0),r.childLanes=x,null}function $f(a,r){return r=Vf({mode:r.mode,children:r.children},a.mode),r.ref=a.ref,a.child=r,r.return=a,r}function B1(a,r,l){return qa(r,a.child,null,l),a=$f(r,r.pendingProps),a.flags|=2,La(r),r.memoizedState=null,a}function x4(a,r,l){var d=r.pendingProps,x=(r.flags&128)!==0;if(r.flags&=-129,a===null){if(oa){if(d.mode==="hidden")return a=$f(r,d),r.lanes=536870912,Cu(null,a);if(_a(r),(a=Ia)?(a=Jx(a,en),a=a!==null&&a.data==="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:Wi!==null?{id:ts,overflow:as}:null,retryLane:536870912,hydrationErrors:null},l=cd(a),l.return=r,r.child=l,Wn=r,Ia=null)):a=null,a===null)throw Yi(r);return r.lanes=536870912,null}return $f(r,d)}var v=a.memoizedState;if(v!==null){var P=v.dehydrated;if(_a(r),x)if(r.flags&256)r.flags&=-257,r=B1(a,r,l);else if(r.memoizedState!==null)r.child=a.child,r.flags|=128,r=null;else throw Error(i(558));else if(zn||Ji(a,r,l,!1),x=(l&a.childLanes)!==0,zn||x){if(d=Ha,d!==null&&(P=Mr(d,l),P!==0&&P!==v.retryLane))throw v.retryLane=P,wi(a,P),cs(d,a,P),U0;th(),r=B1(a,r,l)}else a=v.treeContext,Ia=Xs(P.nextSibling),Wn=r,oa=!0,xr=null,en=!1,a!==null&&Mf(r,a),r=$f(r,d),r.flags|=4096;return r}return a=Jr(a.child,{mode:d.mode,children:d.children}),a.ref=r.ref,r.child=a,a.return=r,a}function Gf(a,r){var l=r.ref;if(l===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(a===null||a.ref!==l)&&(r.flags|=4194816)}}function B0(a,r,l,d,x){return Zi(r),l=vu(a,r,l,d,void 0,x),d=wu(),a!==null&&!zn?(Nu(a,r,x),Bo(a,r,x)):(oa&&d&&pu(r),r.flags|=1,yr(a,r,l,x),r.child)}function z1(a,r,l,d,x,v){return Zi(r),r.updateQueue=null,l=ji(r,d,l,x),bd(a),d=wu(),a!==null&&!zn?(Nu(a,r,v),Bo(a,r,v)):(oa&&d&&pu(r),r.flags|=1,yr(a,r,l,v),r.child)}function I1(a,r,l,d,x){if(Zi(r),r.stateNode===null){var v=Vn,P=l.contextType;typeof P=="object"&&P!==null&&(v=Xn(P)),v=new l(d,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=F0,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=d,v.state=r.memoizedState,v.refs={},pt(r),P=l.contextType,v.context=typeof P=="object"&&P!==null?Xn(P):Vn,v.state=r.memoizedState,P=l.getDerivedStateFromProps,typeof P=="function"&&(D0(r,l,P,d),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(P=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),P!==v.state&&F0.enqueueReplaceState(v,v.state,null),vn(r,d,v,x),Pa(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(a===null){v=r.stateNode;var ne=r.memoizedProps,Se=Lc(l,ne);v.props=Se;var He=v.context,et=l.contextType;P=Vn,typeof et=="object"&&et!==null&&(P=Xn(et));var it=l.getDerivedStateFromProps;et=typeof it=="function"||typeof v.getSnapshotBeforeUpdate=="function",ne=r.pendingProps!==ne,et||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(ne||He!==P)&&_1(r,v,d,P),jt=!1;var $e=r.memoizedState;v.state=$e,vn(r,d,v,x),Pa(),He=r.memoizedState,ne||$e!==He||jt?(typeof it=="function"&&(D0(r,l,it,d),He=r.memoizedState),(Se=jt||k1(r,l,Se,d,$e,He,P))?(et||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=He),v.props=d,v.state=He,v.context=P,d=Se):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{v=r.stateNode,Ya(a,r),P=r.memoizedProps,et=Lc(l,P),v.props=et,it=r.pendingProps,$e=v.context,He=l.contextType,Se=Vn,typeof He=="object"&&He!==null&&(Se=Xn(He)),ne=l.getDerivedStateFromProps,(He=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P!==it||$e!==Se)&&_1(r,v,d,Se),jt=!1,$e=r.memoizedState,v.state=$e,vn(r,d,v,x),Pa();var Ke=r.memoizedState;P!==it||$e!==Ke||jt||a!==null&&a.dependencies!==null&&md(a.dependencies)?(typeof ne=="function"&&(D0(r,l,ne,d),Ke=r.memoizedState),(et=jt||k1(r,l,et,d,$e,Ke,Se)||a!==null&&a.dependencies!==null&&md(a.dependencies))?(He||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,Ke,Se),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,Ke,Se)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||P===a.memoizedProps&&$e===a.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&$e===a.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=Ke),v.props=d,v.state=Ke,v.context=Se,d=et):(typeof v.componentDidUpdate!="function"||P===a.memoizedProps&&$e===a.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&$e===a.memoizedState||(r.flags|=1024),d=!1)}return v=d,Gf(a,r),d=(r.flags&128)!==0,v||d?(v=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,a!==null&&d?(r.child=qa(r,a.child,null,x),r.child=qa(r,null,l,x)):yr(a,r,l,x),r.memoizedState=v.state,a=r.child):a=Bo(a,r,x),a}function q1(a,r,l,d){return Mo(),r.flags|=256,yr(a,r,l,d),r.child}var z0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function I0(a){return{baseLanes:a,cachePool:me()}}function q0(a,r,l){return a=a!==null?a.childLanes&~l:0,r&&(a|=Es),a}function H1(a,r,l){var d=r.pendingProps,x=!1,v=(r.flags&128)!==0,P;if((P=v)||(P=a!==null&&a.memoizedState===null?!1:(ma.current&2)!==0),P&&(x=!0,r.flags&=-129),P=(r.flags&32)!==0,r.flags&=-33,a===null){if(oa){if(x?mn(r):jn(),(a=Ia)?(a=Jx(a,en),a=a!==null&&a.data!=="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:Wi!==null?{id:ts,overflow:as}:null,retryLane:536870912,hydrationErrors:null},l=cd(a),l.return=r,r.child=l,Wn=r,Ia=null)):a=null,a===null)throw Yi(r);return Sm(a)?r.lanes=32:r.lanes=536870912,null}var ne=d.children;return d=d.fallback,x?(jn(),x=r.mode,ne=Vf({mode:"hidden",children:ne},x),d=Vi(d,x,l,null),ne.return=r,d.return=r,ne.sibling=d,r.child=ne,d=r.child,d.memoizedState=I0(l),d.childLanes=q0(a,P,l),r.memoizedState=z0,Cu(null,d)):(mn(r),H0(r,ne))}var Se=a.memoizedState;if(Se!==null&&(ne=Se.dehydrated,ne!==null)){if(v)r.flags&256?(mn(r),r.flags&=-257,r=$0(a,r,l)):r.memoizedState!==null?(jn(),r.child=a.child,r.flags|=128,r=null):(jn(),ne=d.fallback,x=r.mode,d=Vf({mode:"visible",children:d.children},x),ne=Vi(ne,x,l,null),ne.flags|=2,d.return=r,ne.return=r,d.sibling=ne,r.child=d,qa(r,a.child,null,l),d=r.child,d.memoizedState=I0(l),d.childLanes=q0(a,P,l),r.memoizedState=z0,r=Cu(null,d));else if(mn(r),Sm(ne)){if(P=ne.nextSibling&&ne.nextSibling.dataset,P)var He=P.dgst;P=He,d=Error(i(419)),d.stack="",d.digest=P,Sl({value:d,source:null,stack:null}),r=$0(a,r,l)}else if(zn||Ji(a,r,l,!1),P=(l&a.childLanes)!==0,zn||P){if(P=Ha,P!==null&&(d=Mr(P,l),d!==0&&d!==Se.retryLane))throw Se.retryLane=d,wi(a,d),cs(P,a,d),U0;jm(ne)||th(),r=$0(a,r,l)}else jm(ne)?(r.flags|=192,r.child=a.child,r=null):(a=Se.treeContext,Ia=Xs(ne.nextSibling),Wn=r,oa=!0,xr=null,en=!1,a!==null&&Mf(r,a),r=H0(r,d.children),r.flags|=4096);return r}return x?(jn(),ne=d.fallback,x=r.mode,Se=a.child,He=Se.sibling,d=Jr(Se,{mode:"hidden",children:d.children}),d.subtreeFlags=Se.subtreeFlags&65011712,He!==null?ne=Jr(He,ne):(ne=Vi(ne,x,l,null),ne.flags|=2),ne.return=r,d.return=r,d.sibling=ne,r.child=d,Cu(null,d),d=r.child,ne=a.child.memoizedState,ne===null?ne=I0(l):(x=ne.cachePool,x!==null?(Se=hn._currentValue,x=x.parent!==Se?{parent:Se,pool:Se}:x):x=me(),ne={baseLanes:ne.baseLanes|l,cachePool:x}),d.memoizedState=ne,d.childLanes=q0(a,P,l),r.memoizedState=z0,Cu(a.child,d)):(mn(r),l=a.child,a=l.sibling,l=Jr(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,a!==null&&(P=r.deletions,P===null?(r.deletions=[a],r.flags|=16):P.push(a)),r.child=l,r.memoizedState=null,l)}function H0(a,r){return r=Vf({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function Vf(a,r){return a=sr(22,a,null,r),a.lanes=0,a}function $0(a,r,l){return qa(r,a.child,null,l),a=H0(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function $1(a,r,l){a.lanes|=r;var d=a.alternate;d!==null&&(d.lanes|=r),Al(a.return,r,l)}function G0(a,r,l,d,x,v){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:x,treeForkCount:v}:(P.isBackwards=r,P.rendering=null,P.renderingStartTime=0,P.last=d,P.tail=l,P.tailMode=x,P.treeForkCount=v)}function G1(a,r,l){var d=r.pendingProps,x=d.revealOrder,v=d.tail;d=d.children;var P=ma.current,ne=(P&2)!==0;if(ne?(P=P&1|2,r.flags|=128):P&=1,L(ma,P),yr(a,r,d,l),d=oa?Ac:0,!ne&&a!==null&&(a.flags&128)!==0)e:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$1(a,l,r);else if(a.tag===19)$1(a,l,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(x){case"forwards":for(l=r.child,x=null;l!==null;)a=l.alternate,a!==null&&or(a)===null&&(x=l),l=l.sibling;l=x,l===null?(x=r.child,r.child=null):(x=l.sibling,l.sibling=null),G0(r,!1,x,l,v,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,x=r.child,r.child=null;x!==null;){if(a=x.alternate,a!==null&&or(a)===null){r.child=x;break}a=x.sibling,x.sibling=l,l=x,x=a}G0(r,!0,l,null,v,d);break;case"together":G0(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function Bo(a,r,l){if(a!==null&&(r.dependencies=a.dependencies),Ol|=r.lanes,(l&r.childLanes)===0)if(a!==null){if(Ji(a,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(i(153));if(r.child!==null){for(a=r.child,l=Jr(a,a.pendingProps),r.child=l,l.return=r;a.sibling!==null;)a=a.sibling,l=l.sibling=Jr(a,a.pendingProps),l.return=r;l.sibling=null}return r.child}function V0(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&md(a)))}function b4(a,r,l){switch(r.tag){case 3:Q(r,r.stateNode.containerInfo),Ki(r,hn,a.memoizedState.cache),Mo();break;case 27:case 5:ye(r);break;case 4:Q(r,r.stateNode.containerInfo);break;case 10:Ki(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_a(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(mn(r),r.flags|=128,null):(l&r.child.childLanes)!==0?H1(a,r,l):(mn(r),a=Bo(a,r,l),a!==null?a.sibling:null);mn(r);break;case 19:var x=(a.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(Ji(a,r,l,!1),d=(l&r.childLanes)!==0),x){if(d)return G1(a,r,l);r.flags|=128}if(x=r.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),L(ma,ma.current),d)break;return null;case 22:return r.lanes=0,P1(a,r,l,r.pendingProps);case 24:Ki(r,hn,a.memoizedState.cache)}return Bo(a,r,l)}function V1(a,r,l){if(a!==null)if(a.memoizedProps!==r.pendingProps)zn=!0;else{if(!V0(a,l)&&(r.flags&128)===0)return zn=!1,b4(a,r,l);zn=(a.flags&131072)!==0}else zn=!1,oa&&(r.flags&1048576)!==0&&Of(r,Ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(a=Pe(r.elementType),r.type=a,typeof a=="function")ld(a)?(d=Lc(a,d),r.tag=1,r=I1(null,r,a,d,l)):(r.tag=0,r=B0(null,r,a,d,l));else{if(a!=null){var x=a.$$typeof;if(x===D){r.tag=11,r=M1(null,r,a,d,l);break e}else if(x===Y){r.tag=14,r=D1(null,r,a,d,l);break e}}throw r=le(a)||a,Error(i(306,r,""))}}return r;case 0:return B0(a,r,r.type,r.pendingProps,l);case 1:return d=r.type,x=Lc(d,r.pendingProps),I1(a,r,d,x,l);case 3:e:{if(Q(r,r.stateNode.containerInfo),a===null)throw Error(i(387));d=r.pendingProps;var v=r.memoizedState;x=v.element,Ya(a,r),vn(r,d,null,l);var P=r.memoizedState;if(d=P.cache,Ki(r,hn,d),d!==v.cache&&Do(r,[hn],l,!0),Pa(),d=P.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:P.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=q1(a,r,d,l);break e}else if(d!==x){x=Zr(Error(i(424)),r),Sl(x),r=q1(a,r,d,l);break e}else{switch(a=r.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ia=Xs(a.firstChild),Wn=r,oa=!0,xr=null,en=!0,l=Xt(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Mo(),d===x){r=Bo(a,r,l);break e}yr(a,r,d,l)}r=r.child}return r;case 26:return Gf(a,r),a===null?(l=nb(r.type,null,r.pendingProps,null))?r.memoizedState=l:oa||(l=r.type,a=r.pendingProps,d=lh(re.current).createElement(l),d[Ca]=r,d[Va]=a,vr(d,l,a),cn(d),r.stateNode=d):r.memoizedState=nb(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return ye(r),a===null&&oa&&(d=r.stateNode=eb(r.type,r.pendingProps,re.current),Wn=r,en=!0,x=Ia,Ul(r.type)?(Am=x,Ia=Xs(d.firstChild)):Ia=x),yr(a,r,r.pendingProps.children,l),Gf(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&oa&&((x=d=Ia)&&(d=Y4(d,r.type,r.pendingProps,en),d!==null?(r.stateNode=d,Wn=r,Ia=Xs(d.firstChild),en=!1,x=!0):x=!1),x||Yi(r)),ye(r),x=r.type,v=r.pendingProps,P=a!==null?a.memoizedProps:null,d=v.children,vm(x,v)?d=null:P!==null&&vm(x,P)&&(r.flags|=32),r.memoizedState!==null&&(x=vu(a,r,_0,null,null,l),$u._currentValue=x),Gf(a,r),yr(a,r,d,l),r.child;case 6:return a===null&&oa&&((a=l=Ia)&&(l=X4(l,r.pendingProps,en),l!==null?(r.stateNode=l,Wn=r,Ia=null,a=!0):a=!1),a||Yi(r)),null;case 13:return H1(a,r,l);case 4:return Q(r,r.stateNode.containerInfo),d=r.pendingProps,a===null?r.child=qa(r,null,d,l):yr(a,r,d,l),r.child;case 11:return M1(a,r,r.type,r.pendingProps,l);case 7:return yr(a,r,r.pendingProps,l),r.child;case 8:return yr(a,r,r.pendingProps.children,l),r.child;case 12:return yr(a,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,Ki(r,r.type,d.value),yr(a,r,d.children,l),r.child;case 9:return x=r.type._context,d=r.pendingProps.children,Zi(r),x=Xn(x),d=d(x),r.flags|=1,yr(a,r,d,l),r.child;case 14:return D1(a,r,r.type,r.pendingProps,l);case 15:return F1(a,r,r.type,r.pendingProps,l);case 19:return G1(a,r,l);case 31:return x4(a,r,l);case 22:return P1(a,r,l,r.pendingProps);case 24:return Zi(r),d=Xn(hn),a===null?(x=ie(),x===null&&(x=Ha,v=kl(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=l),x=v),r.memoizedState={parent:d,cache:x},pt(r),Ki(r,hn,x)):((a.lanes&l)!==0&&(Ya(a,r),vn(r,null,null,l),Pa()),x=a.memoizedState,v=r.memoizedState,x.parent!==d?(x={parent:d,cache:d},r.memoizedState=x,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=x),Ki(r,hn,d)):(d=v.cache,Ki(r,hn,d),d!==x.cache&&Do(r,[hn],l,!0))),yr(a,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function zo(a){a.flags|=4}function W0(a,r,l,d,x){if((r=(a.mode&32)!==0)&&(r=!1),r){if(a.flags|=16777216,(x&335544128)===x)if(a.stateNode.complete)a.flags|=8192;else if(yx())a.flags|=8192;else throw Je=Te,Ie}else a.flags&=-16777217}function W1(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!lb(r))if(yx())a.flags|=8192;else throw Je=Te,Ie}function Wf(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?on():536870912,a.lanes|=r,Cd|=r)}function Lu(a,r){if(!oa)switch(a.tailMode){case"hidden":r=a.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Ja(a){var r=a.alternate!==null&&a.alternate.child===a.child,l=0,d=0;if(r)for(var x=a.child;x!==null;)l|=x.lanes|x.childLanes,d|=x.subtreeFlags&65011712,d|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)l|=x.lanes|x.childLanes,d|=x.subtreeFlags,d|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=d,a.childLanes=l,r}function y4(a,r,l){var d=r.pendingProps;switch(fd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ja(r),null;case 1:return Ja(r),null;case 3:return l=r.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),ns(hn),ue(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Yn(r)?zo(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bu())),Ja(r),null;case 26:var x=r.type,v=r.memoizedState;return a===null?(zo(r),v!==null?(Ja(r),W1(r,v)):(Ja(r),W0(r,x,null,d,l))):v?v!==a.memoizedState?(zo(r),Ja(r),W1(r,v)):(Ja(r),r.flags&=-16777217):(a=a.memoizedProps,a!==d&&zo(r),Ja(r),W0(r,x,a,d,l)),null;case 27:if(ke(r),l=re.current,x=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==d&&zo(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return Ja(r),null}a=q.current,Yn(r)?xu(r):(a=eb(x,d,l),r.stateNode=a,zo(r))}return Ja(r),null;case 5:if(ke(r),x=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==d&&zo(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return Ja(r),null}if(v=q.current,Yn(r))xu(r);else{var P=lh(re.current);switch(v){case 1:v=P.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:v=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":v=P.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":v=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":v=P.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof d.is=="string"?P.createElement("select",{is:d.is}):P.createElement("select"),d.multiple?v.multiple=!0:d.size&&(v.size=d.size);break;default:v=typeof d.is=="string"?P.createElement(x,{is:d.is}):P.createElement(x)}}v[Ca]=r,v[Va]=d;e:for(P=r.child;P!==null;){if(P.tag===5||P.tag===6)v.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===r)break e;for(;P.sibling===null;){if(P.return===null||P.return===r)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}r.stateNode=v;e:switch(vr(v,x,d),x){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&zo(r)}}return Ja(r),W0(r,r.type,a===null?null:a.memoizedProps,r.pendingProps,l),null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==d&&zo(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(a=re.current,Yn(r)){if(a=r.stateNode,l=r.memoizedProps,d=null,x=Wn,x!==null)switch(x.tag){case 27:case 5:d=x.memoizedProps}a[Ca]=r,a=!!(a.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Hx(a.nodeValue,l)),a||Yi(r,!0)}else a=lh(a).createTextNode(d),a[Ca]=r,r.stateNode=a}return Ja(r),null;case 31:if(l=r.memoizedState,a===null||a.memoizedState!==null){if(d=Yn(r),l!==null){if(a===null){if(!d)throw Error(i(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Ca]=r}else Mo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ja(r),a=!1}else l=bu(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return r.flags&256?(La(r),r):(La(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Ja(r),null;case 13:if(d=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=Yn(r),d!==null&&d.dehydrated!==null){if(a===null){if(!x)throw Error(i(318));if(x=r.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[Ca]=r}else Mo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ja(r),x=!1}else x=bu(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return r.flags&256?(La(r),r):(La(r),null)}return La(r),(r.flags&128)!==0?(r.lanes=l,r):(l=d!==null,a=a!==null&&a.memoizedState!==null,l&&(d=r.child,x=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(x=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==x&&(d.flags|=2048)),l!==a&&l&&(r.child.flags|=8192),Wf(r,r.updateQueue),Ja(r),null);case 4:return ue(),a===null&&gm(r.stateNode.containerInfo),Ja(r),null;case 10:return ns(r.type),Ja(r),null;case 19:if(_(ma),d=r.memoizedState,d===null)return Ja(r),null;if(x=(r.flags&128)!==0,v=d.rendering,v===null)if(x)Lu(d,!1);else{if(An!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(v=or(a),v!==null){for(r.flags|=128,Lu(d,!1),a=v.updateQueue,r.updateQueue=a,Wf(r,a),r.subtreeFlags=0,a=l,l=r.child;l!==null;)jc(l,a),l=l.sibling;return L(ma,ma.current&1|2),oa&&Hr(r,d.treeForkCount),r.child}a=a.sibling}d.tail!==null&&Ee()>Zf&&(r.flags|=128,x=!0,Lu(d,!1),r.lanes=4194304)}else{if(!x)if(a=or(v),a!==null){if(r.flags|=128,x=!0,a=a.updateQueue,r.updateQueue=a,Wf(r,a),Lu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!oa)return Ja(r),null}else 2*Ee()-d.renderingStartTime>Zf&&l!==536870912&&(r.flags|=128,x=!0,Lu(d,!1),r.lanes=4194304);d.isBackwards?(v.sibling=r.child,r.child=v):(a=d.last,a!==null?a.sibling=v:r.child=v,d.last=v)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Ee(),a.sibling=null,l=ma.current,L(ma,x?l&1|2:l&1),oa&&Hr(r,d.treeForkCount),a):(Ja(r),null);case 22:case 23:return La(r),Ln(),d=r.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(Ja(r),r.subtreeFlags&6&&(r.flags|=8192)):Ja(r),l=r.updateQueue,l!==null&&Wf(r,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),a!==null&&_(K),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ns(hn),Ja(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function v4(a,r){switch(fd(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return ns(hn),ue(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return ke(r),null;case 31:if(r.memoizedState!==null){if(La(r),r.alternate===null)throw Error(i(340));Mo()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 13:if(La(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Mo()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return _(ma),null;case 4:return ue(),null;case 10:return ns(r.type),null;case 22:case 23:return La(r),Ln(),a!==null&&_(K),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return ns(hn),null;case 25:return null;default:return null}}function Y1(a,r){switch(fd(r),r.tag){case 3:ns(hn),ue();break;case 26:case 27:case 5:ke(r);break;case 4:ue();break;case 31:r.memoizedState!==null&&La(r);break;case 13:La(r);break;case 19:_(ma);break;case 10:ns(r.type);break;case 22:case 23:La(r),Ln(),a!==null&&_(K);break;case 24:ns(hn)}}function Ru(a,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var x=d.next;l=x;do{if((l.tag&a)===a){d=void 0;var v=l.create,P=l.inst;d=v(),P.destroy=d}l=l.next}while(l!==x)}}catch(ne){Ta(r,r.return,ne)}}function Rl(a,r,l){try{var d=r.updateQueue,x=d!==null?d.lastEffect:null;if(x!==null){var v=x.next;d=v;do{if((d.tag&a)===a){var P=d.inst,ne=P.destroy;if(ne!==void 0){P.destroy=void 0,x=r;var Se=l,He=ne;try{He()}catch(et){Ta(x,Se,et)}}}d=d.next}while(d!==v)}}catch(et){Ta(r,r.return,et)}}function X1(a){var r=a.updateQueue;if(r!==null){var l=a.stateNode;try{wn(r,l)}catch(d){Ta(a,a.return,d)}}}function K1(a,r,l){l.props=Lc(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(d){Ta(a,r,d)}}function Tu(a,r){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof l=="function"?a.refCleanup=l(d):l.current=d}}catch(x){Ta(a,r,x)}}function no(a,r){var l=a.ref,d=a.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(x){Ta(a,r,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(x){Ta(a,r,x)}else l.current=null}function J1(a){var r=a.type,l=a.memoizedProps,d=a.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(x){Ta(a,a.return,x)}}function Y0(a,r,l){try{var d=a.stateNode;q4(d,a.type,l,r),d[Va]=r}catch(x){Ta(a,a.return,x)}}function Z1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ul(a.type)||a.tag===4}function X0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Z1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ul(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function K0(a,r,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(a),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=vs));else if(d!==4&&(d===27&&Ul(a.type)&&(l=a.stateNode,r=null),a=a.child,a!==null))for(K0(a,r,l),a=a.sibling;a!==null;)K0(a,r,l),a=a.sibling}function Yf(a,r,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,r?l.insertBefore(a,r):l.appendChild(a);else if(d!==4&&(d===27&&Ul(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Yf(a,r,l),a=a.sibling;a!==null;)Yf(a,r,l),a=a.sibling}function Q1(a){var r=a.stateNode,l=a.memoizedProps;try{for(var d=a.type,x=r.attributes;x.length;)r.removeAttributeNode(x[0]);vr(r,d,l),r[Ca]=a,r[Va]=l}catch(v){Ta(a,a.return,v)}}var Io=!1,In=!1,J0=!1,ex=typeof WeakSet=="function"?WeakSet:Set,lr=null;function w4(a,r){if(a=a.containerInfo,bm=gh,a=yi(a),$s(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var x=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var P=0,ne=-1,Se=-1,He=0,et=0,it=a,$e=null;t:for(;;){for(var Ke;it!==l||x!==0&&it.nodeType!==3||(ne=P+x),it!==v||d!==0&&it.nodeType!==3||(Se=P+d),it.nodeType===3&&(P+=it.nodeValue.length),(Ke=it.firstChild)!==null;)$e=it,it=Ke;for(;;){if(it===a)break t;if($e===l&&++He===x&&(ne=P),$e===v&&++et===d&&(Se=P),(Ke=it.nextSibling)!==null)break;it=$e,$e=it.parentNode}it=Ke}l=ne===-1||Se===-1?null:{start:ne,end:Se}}else l=null}l=l||{start:0,end:0}}else l=null;for(ym={focusedElem:a,selectionRange:l},gh=!1,lr=r;lr!==null;)if(r=lr,a=r.child,(r.subtreeFlags&1028)!==0&&a!==null)a.return=r,lr=a;else for(;lr!==null;){switch(r=lr,v=r.alternate,a=r.flags,r.tag){case 0:if((a&4)!==0&&(a=r.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)x=a[l],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,l=r,x=v.memoizedProps,v=v.memoizedState,d=l.stateNode;try{var kt=Lc(l.type,x);a=d.getSnapshotBeforeUpdate(kt,v),d.__reactInternalSnapshotBeforeUpdate=a}catch(qt){Ta(l,l.return,qt)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,l=a.nodeType,l===9)Nm(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Nm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=r.sibling,a!==null){a.return=r.return,lr=a;break}lr=r.return}}function tx(a,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ho(a,l),d&4&&Ru(5,l);break;case 1:if(Ho(a,l),d&4)if(a=l.stateNode,r===null)try{a.componentDidMount()}catch(P){Ta(l,l.return,P)}else{var x=Lc(l.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(x,r,a.__reactInternalSnapshotBeforeUpdate)}catch(P){Ta(l,l.return,P)}}d&64&&X1(l),d&512&&Tu(l,l.return);break;case 3:if(Ho(a,l),d&64&&(a=l.updateQueue,a!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{wn(a,r)}catch(P){Ta(l,l.return,P)}}break;case 27:r===null&&d&4&&Q1(l);case 26:case 5:Ho(a,l),r===null&&d&4&&J1(l),d&512&&Tu(l,l.return);break;case 12:Ho(a,l);break;case 31:Ho(a,l),d&4&&rx(a,l);break;case 13:Ho(a,l),d&4&&sx(a,l),d&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=L4.bind(null,l),K4(a,l))));break;case 22:if(d=l.memoizedState!==null||Io,!d){r=r!==null&&r.memoizedState!==null||In,x=Io;var v=In;Io=d,(In=r)&&!v?$o(a,l,(l.subtreeFlags&8772)!==0):Ho(a,l),Io=x,In=v}break;case 30:break;default:Ho(a,l)}}function ax(a){var r=a.alternate;r!==null&&(a.alternate=null,ax(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&zi(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var nn=null,ss=!1;function qo(a,r,l){for(l=l.child;l!==null;)nx(a,r,l),l=l.sibling}function nx(a,r,l){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Ve,l)}catch{}switch(l.tag){case 26:In||no(l,r),qo(a,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:In||no(l,r);var d=nn,x=ss;Ul(l.type)&&(nn=l.stateNode,ss=!1),qo(a,r,l),Iu(l.stateNode),nn=d,ss=x;break;case 5:In||no(l,r);case 6:if(d=nn,x=ss,nn=null,qo(a,r,l),nn=d,ss=x,nn!==null)if(ss)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(l.stateNode)}catch(v){Ta(l,r,v)}else try{nn.removeChild(l.stateNode)}catch(v){Ta(l,r,v)}break;case 18:nn!==null&&(ss?(a=nn,Xx(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Pd(a)):Xx(nn,l.stateNode));break;case 4:d=nn,x=ss,nn=l.stateNode.containerInfo,ss=!0,qo(a,r,l),nn=d,ss=x;break;case 0:case 11:case 14:case 15:Rl(2,l,r),In||Rl(4,l,r),qo(a,r,l);break;case 1:In||(no(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&K1(l,r,d)),qo(a,r,l);break;case 21:qo(a,r,l);break;case 22:In=(d=In)||l.memoizedState!==null,qo(a,r,l),In=d;break;default:qo(a,r,l)}}function rx(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Pd(a)}catch(l){Ta(r,r.return,l)}}}function sx(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pd(a)}catch(l){Ta(r,r.return,l)}}function N4(a){switch(a.tag){case 31:case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new ex),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new ex),r;default:throw Error(i(435,a.tag))}}function Xf(a,r){var l=N4(a);r.forEach(function(d){if(!l.has(d)){l.add(d);var x=R4.bind(null,a,d);d.then(x,x)}})}function is(a,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var x=l[d],v=a,P=r,ne=P;e:for(;ne!==null;){switch(ne.tag){case 27:if(Ul(ne.type)){nn=ne.stateNode,ss=!1;break e}break;case 5:nn=ne.stateNode,ss=!1;break e;case 3:case 4:nn=ne.stateNode.containerInfo,ss=!0;break e}ne=ne.return}if(nn===null)throw Error(i(160));nx(v,P,x),nn=null,ss=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ix(r,a),r=r.sibling}var _i=null;function ix(a,r){var l=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:is(r,a),os(a),d&4&&(Rl(3,a,a.return),Ru(3,a),Rl(5,a,a.return));break;case 1:is(r,a),os(a),d&512&&(In||l===null||no(l,l.return)),d&64&&Io&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var x=_i;if(is(r,a),os(a),d&512&&(In||l===null||no(l,l.return)),d&4){var v=l!==null?l.memoizedState:null;if(d=a.memoizedState,l===null)if(d===null)if(a.stateNode===null){e:{d=a.type,l=a.memoizedProps,x=x.ownerDocument||x;t:switch(d){case"title":v=x.getElementsByTagName("title")[0],(!v||v[ms]||v[Ca]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(d),x.head.insertBefore(v,x.querySelector("head > title"))),vr(v,d,l),v[Ca]=a,cn(v),d=v;break e;case"link":var P=ib("link","href",x).get(d+(l.href||""));if(P){for(var ne=0;ne<P.length;ne++)if(v=P[ne],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){P.splice(ne,1);break t}}v=x.createElement(d),vr(v,d,l),x.head.appendChild(v);break;case"meta":if(P=ib("meta","content",x).get(d+(l.content||""))){for(ne=0;ne<P.length;ne++)if(v=P[ne],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){P.splice(ne,1);break t}}v=x.createElement(d),vr(v,d,l),x.head.appendChild(v);break;default:throw Error(i(468,d))}v[Ca]=a,cn(v),d=v}a.stateNode=d}else ob(x,a.type,a.stateNode);else a.stateNode=sb(x,d,a.memoizedProps);else v!==d?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,d===null?ob(x,a.type,a.stateNode):sb(x,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Y0(a,a.memoizedProps,l.memoizedProps)}break;case 27:is(r,a),os(a),d&512&&(In||l===null||no(l,l.return)),l!==null&&d&4&&Y0(a,a.memoizedProps,l.memoizedProps);break;case 5:if(is(r,a),os(a),d&512&&(In||l===null||no(l,l.return)),a.flags&32){x=a.stateNode;try{ys(x,"")}catch(kt){Ta(a,a.return,kt)}}d&4&&a.stateNode!=null&&(x=a.memoizedProps,Y0(a,x,l!==null?l.memoizedProps:x)),d&1024&&(J0=!0);break;case 6:if(is(r,a),os(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,l=a.stateNode;try{l.nodeValue=d}catch(kt){Ta(a,a.return,kt)}}break;case 3:if(uh=null,x=_i,_i=ch(r.containerInfo),is(r,a),_i=x,os(a),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Pd(r.containerInfo)}catch(kt){Ta(a,a.return,kt)}J0&&(J0=!1,ox(a));break;case 4:d=_i,_i=ch(a.stateNode.containerInfo),is(r,a),os(a),_i=d;break;case 12:is(r,a),os(a);break;case 31:is(r,a),os(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Xf(a,d)));break;case 13:is(r,a),os(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Jf=Ee()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Xf(a,d)));break;case 22:x=a.memoizedState!==null;var Se=l!==null&&l.memoizedState!==null,He=Io,et=In;if(Io=He||x,In=et||Se,is(r,a),In=et,Io=He,os(a),d&8192)e:for(r=a.stateNode,r._visibility=x?r._visibility&-2:r._visibility|1,x&&(l===null||Se||Io||In||Rc(a)),l=null,r=a;;){if(r.tag===5||r.tag===26){if(l===null){Se=l=r;try{if(v=Se.stateNode,x)P=v.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{ne=Se.stateNode;var it=Se.memoizedProps.style,$e=it!=null&&it.hasOwnProperty("display")?it.display:null;ne.style.display=$e==null||typeof $e=="boolean"?"":(""+$e).trim()}}catch(kt){Ta(Se,Se.return,kt)}}}else if(r.tag===6){if(l===null){Se=r;try{Se.stateNode.nodeValue=x?"":Se.memoizedProps}catch(kt){Ta(Se,Se.return,kt)}}}else if(r.tag===18){if(l===null){Se=r;try{var Ke=Se.stateNode;x?Kx(Ke,!0):Kx(Se.stateNode,!1)}catch(kt){Ta(Se,Se.return,kt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=a.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Xf(a,l))));break;case 19:is(r,a),os(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Xf(a,d)));break;case 30:break;case 21:break;default:is(r,a),os(a)}}function os(a){var r=a.flags;if(r&2){try{for(var l,d=a.return;d!==null;){if(Z1(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var x=l.stateNode,v=X0(a);Yf(a,v,x);break;case 5:var P=l.stateNode;l.flags&32&&(ys(P,""),l.flags&=-33);var ne=X0(a);Yf(a,ne,P);break;case 3:case 4:var Se=l.stateNode.containerInfo,He=X0(a);K0(a,He,Se);break;default:throw Error(i(161))}}catch(et){Ta(a,a.return,et)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function ox(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;ox(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function Ho(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)tx(a,r.alternate,r),r=r.sibling}function Rc(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:Rl(4,r,r.return),Rc(r);break;case 1:no(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&K1(r,r.return,l),Rc(r);break;case 27:Iu(r.stateNode);case 26:case 5:no(r,r.return),Rc(r);break;case 22:r.memoizedState===null&&Rc(r);break;case 30:Rc(r);break;default:Rc(r)}a=a.sibling}}function $o(a,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,x=a,v=r,P=v.flags;switch(v.tag){case 0:case 11:case 15:$o(x,v,l),Ru(4,v);break;case 1:if($o(x,v,l),d=v,x=d.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(He){Ta(d,d.return,He)}if(d=v,x=d.updateQueue,x!==null){var ne=d.stateNode;try{var Se=x.shared.hiddenCallbacks;if(Se!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Se.length;x++)ir(Se[x],ne)}catch(He){Ta(d,d.return,He)}}l&&P&64&&X1(v),Tu(v,v.return);break;case 27:Q1(v);case 26:case 5:$o(x,v,l),l&&d===null&&P&4&&J1(v),Tu(v,v.return);break;case 12:$o(x,v,l);break;case 31:$o(x,v,l),l&&P&4&&rx(x,v);break;case 13:$o(x,v,l),l&&P&4&&sx(x,v);break;case 22:v.memoizedState===null&&$o(x,v,l),Tu(v,v.return);break;case 30:break;default:$o(x,v,l)}r=r.sibling}}function Z0(a,r){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&kc(l))}function Q0(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&kc(a))}function Ei(a,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)lx(a,r,l,d),r=r.sibling}function lx(a,r,l,d){var x=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(a,r,l,d),x&2048&&Ru(9,r);break;case 1:Ei(a,r,l,d);break;case 3:Ei(a,r,l,d),x&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&kc(a)));break;case 12:if(x&2048){Ei(a,r,l,d),a=r.stateNode;try{var v=r.memoizedProps,P=v.id,ne=v.onPostCommit;typeof ne=="function"&&ne(P,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Se){Ta(r,r.return,Se)}}else Ei(a,r,l,d);break;case 31:Ei(a,r,l,d);break;case 13:Ei(a,r,l,d);break;case 23:break;case 22:v=r.stateNode,P=r.alternate,r.memoizedState!==null?v._visibility&2?Ei(a,r,l,d):Ou(a,r):v._visibility&2?Ei(a,r,l,d):(v._visibility|=2,kd(a,r,l,d,(r.subtreeFlags&10256)!==0||!1)),x&2048&&Z0(P,r);break;case 24:Ei(a,r,l,d),x&2048&&Q0(r.alternate,r);break;default:Ei(a,r,l,d)}}function kd(a,r,l,d,x){for(x=x&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=a,P=r,ne=l,Se=d,He=P.flags;switch(P.tag){case 0:case 11:case 15:kd(v,P,ne,Se,x),Ru(8,P);break;case 23:break;case 22:var et=P.stateNode;P.memoizedState!==null?et._visibility&2?kd(v,P,ne,Se,x):Ou(v,P):(et._visibility|=2,kd(v,P,ne,Se,x)),x&&He&2048&&Z0(P.alternate,P);break;case 24:kd(v,P,ne,Se,x),x&&He&2048&&Q0(P.alternate,P);break;default:kd(v,P,ne,Se,x)}r=r.sibling}}function Ou(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=a,d=r,x=d.flags;switch(d.tag){case 22:Ou(l,d),x&2048&&Z0(d.alternate,d);break;case 24:Ou(l,d),x&2048&&Q0(d.alternate,d);break;default:Ou(l,d)}r=r.sibling}}var Mu=8192;function _d(a,r,l){if(a.subtreeFlags&Mu)for(a=a.child;a!==null;)cx(a,r,l),a=a.sibling}function cx(a,r,l){switch(a.tag){case 26:_d(a,r,l),a.flags&Mu&&a.memoizedState!==null&&lN(l,_i,a.memoizedState,a.memoizedProps);break;case 5:_d(a,r,l);break;case 3:case 4:var d=_i;_i=ch(a.stateNode.containerInfo),_d(a,r,l),_i=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Mu,Mu=16777216,_d(a,r,l),Mu=d):_d(a,r,l));break;default:_d(a,r,l)}}function dx(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function Du(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];lr=d,fx(d,a)}dx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ux(a),a=a.sibling}function ux(a){switch(a.tag){case 0:case 11:case 15:Du(a),a.flags&2048&&Rl(9,a,a.return);break;case 3:Du(a);break;case 12:Du(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,Kf(a)):Du(a);break;default:Du(a)}}function Kf(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];lr=d,fx(d,a)}dx(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:Rl(8,r,r.return),Kf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Kf(r));break;default:Kf(r)}a=a.sibling}}function fx(a,r){for(;lr!==null;){var l=lr;switch(l.tag){case 0:case 11:case 15:Rl(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:kc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,lr=d;else e:for(l=a;lr!==null;){d=lr;var x=d.sibling,v=d.return;if(ax(d),d===l){lr=null;break e}if(x!==null){x.return=v,lr=x;break e}lr=v}}}var j4={getCacheForType:function(a){var r=Xn(hn),l=r.data.get(a);return l===void 0&&(l=a(),r.data.set(a,l)),l},cacheSignal:function(){return Xn(hn).controller.signal}},S4=typeof WeakMap=="function"?WeakMap:Map,Ea=0,Ha=null,la=null,da=0,Ra=0,_s=null,Tl=!1,Ed=!1,em=!1,Go=0,An=0,Ol=0,Tc=0,tm=0,Es=0,Cd=0,Fu=null,ls=null,am=!1,Jf=0,hx=0,Zf=1/0,Qf=null,Ml=null,Jn=0,Dl=null,Ld=null,Vo=0,nm=0,rm=null,mx=null,Pu=0,sm=null;function Cs(){return(Ea&2)!==0&&da!==0?da&-da:ae.T!==null?um():Fn()}function gx(){if(Es===0)if((da&536870912)===0||oa){var a=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),Es=a}else Es=536870912;return a=Ka.current,a!==null&&(a.flags|=32),Es}function cs(a,r,l){(a===Ha&&(Ra===2||Ra===9)||a.cancelPendingCommit!==null)&&(Rd(a,0),Fl(a,da,Es,!1)),Mt(a,l),((Ea&2)===0||a!==Ha)&&(a===Ha&&((Ea&2)===0&&(Tc|=l),An===4&&Fl(a,da,Es,!1)),ro(a))}function px(a,r,l){if((Ea&6)!==0)throw Error(i(327));var d=!l&&(r&127)===0&&(r&a.expiredLanes)===0||ra(a,r),x=d?_4(a,r):om(a,r,!0),v=d;do{if(x===0){Ed&&!d&&Fl(a,r,0,!1);break}else{if(l=a.current.alternate,v&&!A4(l)){x=om(a,r,!1),v=!1;continue}if(x===2){if(v=r,a.errorRecoveryDisabledLanes&v)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){r=P;e:{var ne=a;x=Fu;var Se=ne.current.memoizedState.isDehydrated;if(Se&&(Rd(ne,P).flags|=256),P=om(ne,P,!1),P!==2){if(em&&!Se){ne.errorRecoveryDisabledLanes|=v,Tc|=v,x=4;break e}v=ls,ls=x,v!==null&&(ls===null?ls=v:ls.push.apply(ls,v))}x=P}if(v=!1,x!==2)continue}}if(x===1){Rd(a,0),Fl(a,r,0,!0);break}e:{switch(d=a,v=x,v){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Fl(d,r,Es,!Tl);break e;case 2:ls=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(x=Jf+300-Ee(),10<x)){if(Fl(d,r,Es,!Tl),vt(d,0,!0)!==0)break e;Vo=r,d.timeoutHandle=Wx(xx.bind(null,d,l,ls,Qf,am,r,Es,Tc,Cd,Tl,v,"Throttled",-0,0),x);break e}xx(d,l,ls,Qf,am,r,Es,Tc,Cd,Tl,v,null,-0,0)}}break}while(!0);ro(a)}function xx(a,r,l,d,x,v,P,ne,Se,He,et,it,$e,Ke){if(a.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vs},cx(r,v,it);var kt=(v&62914560)===v?Jf-Ee():(v&4194048)===v?hx-Ee():0;if(kt=cN(it,kt),kt!==null){Vo=v,a.cancelPendingCommit=kt(Ax.bind(null,a,r,v,l,d,x,P,ne,Se,et,it,null,$e,Ke)),Fl(a,v,P,!He);return}}Ax(a,r,v,l,d,x,P,ne,Se)}function A4(a){for(var r=a;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var x=l[d],v=x.getSnapshot;x=x.value;try{if(!Gn(v(),x))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fl(a,r,l,d){r&=~tm,r&=~Tc,a.suspendedLanes|=r,a.pingedLanes&=~r,d&&(a.warmLanes|=r),d=a.expirationTimes;for(var x=r;0<x;){var v=31-bt(x),P=1<<v;d[v]=-1,x&=~P}l!==0&&Os(a,l,r)}function eh(){return(Ea&6)===0?(Uu(0),!1):!0}function im(){if(la!==null){if(Ra===0)var a=la.return;else a=la,Vs=Xi=null,yd(a),ot=null,_t=0,a=la;for(;a!==null;)Y1(a.alternate,a),a=a.return;la=null}}function Rd(a,r){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,G4(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Vo=0,im(),Ha=a,la=l=Jr(a.current,null),da=r,Ra=0,_s=null,Tl=!1,Ed=ra(a,r),em=!1,Cd=Es=tm=Tc=Ol=An=0,ls=Fu=null,am=!1,(r&8)!==0&&(r|=r&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=r;0<d;){var x=31-bt(d),v=1<<x;r|=a[x],d&=~v}return Go=r,vc(),l}function bx(a,r){Ft=null,ae.H=Eu,r===_e||r===he?(r=nt(),Ra=3):r===Ie?(r=nt(),Ra=4):Ra=r===U0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_s=r,la===null&&(An=1,Hf(a,Zr(r,a.current)))}function yx(){var a=Ka.current;return a===null?!0:(da&4194048)===da?pa===null:(da&62914560)===da||(da&536870912)!==0?a===pa:!1}function vx(){var a=ae.H;return ae.H=Eu,a===null?Eu:a}function wx(){var a=ae.A;return ae.A=j4,a}function th(){An=4,Tl||(da&4194048)!==da&&Ka.current!==null||(Ed=!0),(Ol&134217727)===0&&(Tc&134217727)===0||Ha===null||Fl(Ha,da,Es,!1)}function om(a,r,l){var d=Ea;Ea|=2;var x=vx(),v=wx();(Ha!==a||da!==r)&&(Qf=null,Rd(a,r)),r=!1;var P=An;e:do try{if(Ra!==0&&la!==null){var ne=la,Se=_s;switch(Ra){case 8:im(),P=6;break e;case 3:case 2:case 9:case 6:Ka.current===null&&(r=!0);var He=Ra;if(Ra=0,_s=null,Td(a,ne,Se,He),l&&Ed){P=0;break e}break;default:He=Ra,Ra=0,_s=null,Td(a,ne,Se,He)}}k4(),P=An;break}catch(et){bx(a,et)}while(!0);return r&&a.shellSuspendCounter++,Vs=Xi=null,Ea=d,ae.H=x,ae.A=v,la===null&&(Ha=null,da=0,vc()),P}function k4(){for(;la!==null;)Nx(la)}function _4(a,r){var l=Ea;Ea|=2;var d=vx(),x=wx();Ha!==a||da!==r?(Qf=null,Zf=Ee()+500,Rd(a,r)):Ed=ra(a,r);e:do try{if(Ra!==0&&la!==null){r=la;var v=_s;t:switch(Ra){case 1:Ra=0,_s=null,Td(a,r,v,1);break;case 2:case 9:if(De(v)){Ra=0,_s=null,jx(r);break}r=function(){Ra!==2&&Ra!==9||Ha!==a||(Ra=7),ro(a)},v.then(r,r);break e;case 3:Ra=7;break e;case 4:Ra=5;break e;case 7:De(v)?(Ra=0,_s=null,jx(r)):(Ra=0,_s=null,Td(a,r,v,7));break;case 5:var P=null;switch(la.tag){case 26:P=la.memoizedState;case 5:case 27:var ne=la;if(P?lb(P):ne.stateNode.complete){Ra=0,_s=null;var Se=ne.sibling;if(Se!==null)la=Se;else{var He=ne.return;He!==null?(la=He,ah(He)):la=null}break t}}Ra=0,_s=null,Td(a,r,v,5);break;case 6:Ra=0,_s=null,Td(a,r,v,6);break;case 8:im(),An=6;break e;default:throw Error(i(462))}}E4();break}catch(et){bx(a,et)}while(!0);return Vs=Xi=null,ae.H=d,ae.A=x,Ea=l,la!==null?0:(Ha=null,da=0,vc(),An)}function E4(){for(;la!==null&&!dt();)Nx(la)}function Nx(a){var r=V1(a.alternate,a,Go);a.memoizedProps=a.pendingProps,r===null?ah(a):la=r}function jx(a){var r=a,l=r.alternate;switch(r.tag){case 15:case 0:r=z1(l,r,r.pendingProps,r.type,void 0,da);break;case 11:r=z1(l,r,r.pendingProps,r.type.render,r.ref,da);break;case 5:yd(r);default:Y1(l,r),r=la=jc(r,Go),r=V1(l,r,Go)}a.memoizedProps=a.pendingProps,r===null?ah(a):la=r}function Td(a,r,l,d){Vs=Xi=null,yd(r),ot=null,_t=0;var x=r.return;try{if(p4(a,x,r,l,da)){An=1,Hf(a,Zr(l,a.current)),la=null;return}}catch(v){if(x!==null)throw la=x,v;An=1,Hf(a,Zr(l,a.current)),la=null;return}r.flags&32768?(oa||d===1?a=!0:Ed||(da&536870912)!==0?a=!1:(Tl=a=!0,(d===2||d===9||d===3||d===6)&&(d=Ka.current,d!==null&&d.tag===13&&(d.flags|=16384))),Sx(r,a)):ah(r)}function ah(a){var r=a;do{if((r.flags&32768)!==0){Sx(r,Tl);return}a=r.return;var l=y4(r.alternate,r,Go);if(l!==null){la=l;return}if(r=r.sibling,r!==null){la=r;return}la=r=a}while(r!==null);An===0&&(An=5)}function Sx(a,r){do{var l=v4(a.alternate,a);if(l!==null){l.flags&=32767,la=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(a=a.sibling,a!==null)){la=a;return}la=a=l}while(a!==null);An=6,la=null}function Ax(a,r,l,d,x,v,P,ne,Se){a.cancelPendingCommit=null;do nh();while(Jn!==0);if((Ea&6)!==0)throw Error(i(327));if(r!==null){if(r===a.current)throw Error(i(177));if(v=r.lanes|r.childLanes,v|=sd,ti(a,l,v,P,ne,Se),a===Ha&&(la=Ha=null,da=0),Ld=r,Dl=a,Vo=l,nm=v,rm=x,mx=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,T4(we,function(){return Lx(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=ae.T,ae.T=null,x=se.p,se.p=2,P=Ea,Ea|=4;try{w4(a,r,l)}finally{Ea=P,se.p=x,ae.T=d}}Jn=1,kx(),_x(),Ex()}}function kx(){if(Jn===1){Jn=0;var a=Dl,r=Ld,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=ae.T,ae.T=null;var d=se.p;se.p=2;var x=Ea;Ea|=4;try{ix(r,a);var v=ym,P=yi(a.containerInfo),ne=v.focusedElem,Se=v.selectionRange;if(P!==ne&&ne&&ne.ownerDocument&&bi(ne.ownerDocument.documentElement,ne)){if(Se!==null&&$s(ne)){var He=Se.start,et=Se.end;if(et===void 0&&(et=He),"selectionStart"in ne)ne.selectionStart=He,ne.selectionEnd=Math.min(et,ne.value.length);else{var it=ne.ownerDocument||document,$e=it&&it.defaultView||window;if($e.getSelection){var Ke=$e.getSelection(),kt=ne.textContent.length,qt=Math.min(Se.start,kt),za=Se.end===void 0?qt:Math.min(Se.end,kt);!Ke.extend&&qt>za&&(P=za,za=qt,qt=P);var Me=vl(ne,qt),Ce=vl(ne,za);if(Me&&Ce&&(Ke.rangeCount!==1||Ke.anchorNode!==Me.node||Ke.anchorOffset!==Me.offset||Ke.focusNode!==Ce.node||Ke.focusOffset!==Ce.offset)){var qe=it.createRange();qe.setStart(Me.node,Me.offset),Ke.removeAllRanges(),qt>za?(Ke.addRange(qe),Ke.extend(Ce.node,Ce.offset)):(qe.setEnd(Ce.node,Ce.offset),Ke.addRange(qe))}}}}for(it=[],Ke=ne;Ke=Ke.parentNode;)Ke.nodeType===1&&it.push({element:Ke,left:Ke.scrollLeft,top:Ke.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<it.length;ne++){var st=it[ne];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}gh=!!bm,ym=bm=null}finally{Ea=x,se.p=d,ae.T=l}}a.current=r,Jn=2}}function _x(){if(Jn===2){Jn=0;var a=Dl,r=Ld,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=ae.T,ae.T=null;var d=se.p;se.p=2;var x=Ea;Ea|=4;try{tx(a,r.alternate,r)}finally{Ea=x,se.p=d,ae.T=l}}Jn=3}}function Ex(){if(Jn===4||Jn===3){Jn=0,gt();var a=Dl,r=Ld,l=Vo,d=mx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jn=5:(Jn=0,Ld=Dl=null,Cx(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(Ml=null),xn(l),r=r.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Ve,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=ae.T,x=se.p,se.p=2,ae.T=null;try{for(var v=a.onRecoverableError,P=0;P<d.length;P++){var ne=d[P];v(ne.value,{componentStack:ne.stack})}}finally{ae.T=r,se.p=x}}(Vo&3)!==0&&nh(),ro(a),x=a.pendingLanes,(l&261930)!==0&&(x&42)!==0?a===sm?Pu++:(Pu=0,sm=a):Pu=0,Uu(0)}}function Cx(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,kc(r)))}function nh(){return kx(),_x(),Ex(),Lx()}function Lx(){if(Jn!==5)return!1;var a=Dl,r=nm;nm=0;var l=xn(Vo),d=ae.T,x=se.p;try{se.p=32>l?32:l,ae.T=null,l=rm,rm=null;var v=Dl,P=Vo;if(Jn=0,Ld=Dl=null,Vo=0,(Ea&6)!==0)throw Error(i(331));var ne=Ea;if(Ea|=4,ux(v.current),lx(v,v.current,P,l),Ea=ne,Uu(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Ve,v)}catch{}return!0}finally{se.p=x,ae.T=d,Cx(a,r)}}function Rx(a,r,l){r=Zr(l,r),r=P0(a.stateNode,r,2),a=Zt(a,r,2),a!==null&&(Mt(a,2),ro(a))}function Ta(a,r,l){if(a.tag===3)Rx(a,a,l);else for(;r!==null;){if(r.tag===3){Rx(r,a,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ml===null||!Ml.has(d))){a=Zr(l,a),l=T1(2),d=Zt(r,l,2),d!==null&&(O1(l,d,r,a),Mt(d,2),ro(d));break}}r=r.return}}function lm(a,r,l){var d=a.pingCache;if(d===null){d=a.pingCache=new S4;var x=new Set;d.set(r,x)}else x=d.get(r),x===void 0&&(x=new Set,d.set(r,x));x.has(l)||(em=!0,x.add(l),a=C4.bind(null,a,r,l),r.then(a,a))}function C4(a,r,l){var d=a.pingCache;d!==null&&d.delete(r),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Ha===a&&(da&l)===l&&(An===4||An===3&&(da&62914560)===da&&300>Ee()-Jf?(Ea&2)===0&&Rd(a,0):tm|=l,Cd===da&&(Cd=0)),ro(a)}function Tx(a,r){r===0&&(r=on()),a=wi(a,r),a!==null&&(Mt(a,r),ro(a))}function L4(a){var r=a.memoizedState,l=0;r!==null&&(l=r.retryLane),Tx(a,l)}function R4(a,r){var l=0;switch(a.tag){case 31:case 13:var d=a.stateNode,x=a.memoizedState;x!==null&&(l=x.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),Tx(a,l)}function T4(a,r){return ze(a,r)}var rh=null,Od=null,cm=!1,sh=!1,dm=!1,Pl=0;function ro(a){a!==Od&&a.next===null&&(Od===null?rh=Od=a:Od=Od.next=a),sh=!0,cm||(cm=!0,M4())}function Uu(a,r){if(!dm&&sh){dm=!0;do for(var l=!1,d=rh;d!==null;){if(a!==0){var x=d.pendingLanes;if(x===0)var v=0;else{var P=d.suspendedLanes,ne=d.pingedLanes;v=(1<<31-bt(42|a)+1)-1,v&=x&~(P&~ne),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Fx(d,v))}else v=da,v=vt(d,d===Ha?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||ra(d,v)||(l=!0,Fx(d,v));d=d.next}while(l);dm=!1}}function O4(){Ox()}function Ox(){sh=cm=!1;var a=0;Pl!==0&&$4()&&(a=Pl);for(var r=Ee(),l=null,d=rh;d!==null;){var x=d.next,v=Mx(d,r);v===0?(d.next=null,l===null?rh=x:l.next=x,x===null&&(Od=l)):(l=d,(a!==0||(v&3)!==0)&&(sh=!0)),d=x}Jn!==0&&Jn!==5||Uu(a),Pl!==0&&(Pl=0)}function Mx(a,r){for(var l=a.suspendedLanes,d=a.pingedLanes,x=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var P=31-bt(v),ne=1<<P,Se=x[P];Se===-1?((ne&l)===0||(ne&d)!==0)&&(x[P]=Bt(ne,r)):Se<=r&&(a.expiredLanes|=ne),v&=~ne}if(r=Ha,l=da,l=vt(a,a===r?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,l===0||a===r&&(Ra===2||Ra===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&rt(d),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||ra(a,l)){if(r=l&-l,r===a.callbackPriority)return r;switch(d!==null&&rt(d),xn(l)){case 2:case 8:l=Ze;break;case 32:l=we;break;case 268435456:l=Ge;break;default:l=we}return d=Dx.bind(null,a),l=ze(l,d),a.callbackPriority=r,a.callbackNode=l,r}return d!==null&&d!==null&&rt(d),a.callbackPriority=2,a.callbackNode=null,2}function Dx(a,r){if(Jn!==0&&Jn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(nh()&&a.callbackNode!==l)return null;var d=da;return d=vt(a,a===Ha?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(px(a,d,r),Mx(a,Ee()),a.callbackNode!=null&&a.callbackNode===l?Dx.bind(null,a):null)}function Fx(a,r){if(nh())return null;px(a,r,!0)}function M4(){V4(function(){(Ea&6)!==0?ze(Xe,O4):Ox()})}function um(){if(Pl===0){var a=g;a===0&&(a=Ht,Ht<<=1,(Ht&261888)===0&&(Ht=256)),Pl=a}return Pl}function Px(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Nr(""+a)}function Ux(a,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,a.id&&l.setAttribute("form",a.id),r.parentNode.insertBefore(l,r),a=new FormData(a),l.parentNode.removeChild(l),a}function D4(a,r,l,d,x){if(r==="submit"&&l&&l.stateNode===x){var v=Px((x[Va]||null).action),P=d.submitter;P&&(r=(r=P[Va]||null)?Px(r.formAction):P.getAttribute("formAction"),r!==null&&(v=r,P=null));var ne=new Yr("action","action",null,d,x);a.push({event:ne,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Pl!==0){var Se=P?Ux(x,P):new FormData(x);R0(l,{pending:!0,data:Se,method:x.method,action:v},null,Se)}}else typeof v=="function"&&(ne.preventDefault(),Se=P?Ux(x,P):new FormData(x),R0(l,{pending:!0,data:Se,method:x.method,action:v},v,Se))},currentTarget:x}]})}}for(var fm=0;fm<Ro.length;fm++){var hm=Ro[fm],F4=hm.toLowerCase(),P4=hm[0].toUpperCase()+hm.slice(1);Kr(F4,"on"+P4)}Kr(Lo,"onAnimationEnd"),Kr(bc,"onAnimationIteration"),Kr(hu,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(Lf,"onTransitionRun"),Kr(Rf,"onTransitionStart"),Kr(Tf,"onTransitionCancel"),Kr(mu,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function Bx(a,r){r=(r&4)!==0;for(var l=0;l<a.length;l++){var d=a[l],x=d.event;d=d.listeners;e:{var v=void 0;if(r)for(var P=d.length-1;0<=P;P--){var ne=d[P],Se=ne.instance,He=ne.currentTarget;if(ne=ne.listener,Se!==v&&x.isPropagationStopped())break e;v=ne,x.currentTarget=He;try{v(x)}catch(et){yc(et)}x.currentTarget=null,v=Se}else for(P=0;P<d.length;P++){if(ne=d[P],Se=ne.instance,He=ne.currentTarget,ne=ne.listener,Se!==v&&x.isPropagationStopped())break e;v=ne,x.currentTarget=He;try{v(x)}catch(et){yc(et)}x.currentTarget=null,v=Se}}}}function ca(a,r){var l=r[Dr];l===void 0&&(l=r[Dr]=new Set);var d=a+"__bubble";l.has(d)||(zx(r,a,2,!1),l.add(d))}function mm(a,r,l){var d=0;r&&(d|=4),zx(l,a,d,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function gm(a){if(!a[ih]){a[ih]=!0,tc.forEach(function(l){l!=="selectionchange"&&(U4.has(l)||mm(l,!1,a),mm(l,!0,a))});var r=a.nodeType===9?a:a.ownerDocument;r===null||r[ih]||(r[ih]=!0,mm("selectionchange",!1,r))}}function zx(a,r,l,d){switch(gb(r)){case 2:var x=fN;break;case 8:x=hN;break;default:x=Lm}l=x.bind(null,r,l,a),x=void 0,!hc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(x=!0),d?x!==void 0?a.addEventListener(r,l,{capture:!0,passive:x}):a.addEventListener(r,l,!0):x!==void 0?a.addEventListener(r,l,{passive:x}):a.addEventListener(r,l,!1)}function pm(a,r,l,d,x){var v=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var P=d.tag;if(P===3||P===4){var ne=d.stateNode.containerInfo;if(ne===x)break;if(P===4)for(P=d.return;P!==null;){var Se=P.tag;if((Se===3||Se===4)&&P.stateNode.containerInfo===x)return;P=P.return}for(;ne!==null;){if(P=gs(ne),P===null)return;if(Se=P.tag,Se===5||Se===6||Se===26||Se===27){d=v=P;continue e}ne=ne.parentNode}}d=d.return}ed(function(){var He=v,et=jo(l),it=[];e:{var $e=gu.get(a);if($e!==void 0){var Ke=Yr,kt=a;switch(a){case"keypress":if(Wr(l)===0)break e;case"keydown":case"keyup":Ke=fa;break;case"focusin":kt="focus",Ke=di;break;case"focusout":kt="blur",Ke=di;break;case"beforeblur":case"afterblur":Ke=di;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=ci;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=En;break;case Lo:case bc:case hu:Ke=N;break;case mu:Ke=$n;break;case"scroll":case"scrollend":Ke=hl;break;case"wheel":Ke=ws;break;case"copy":case"cut":case"paste":Ke=ge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=dn;break;case"toggle":case"beforetoggle":Ke=gc}var qt=(r&4)!==0,za=!qt&&(a==="scroll"||a==="scrollend"),Me=qt?$e!==null?$e+"Capture":null:$e;qt=[];for(var Ce=He,qe;Ce!==null;){var st=Ce;if(qe=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||qe===null||Me===null||(st=Ur(Ce,Me),st!=null&&qt.push(zu(Ce,st,qe))),za)break;Ce=Ce.return}0<qt.length&&($e=new Ke($e,kt,null,l,et),it.push({event:$e,listeners:qt}))}}if((r&7)===0){e:{if($e=a==="mouseover"||a==="pointerover",Ke=a==="mouseout"||a==="pointerout",$e&&l!==ri&&(kt=l.relatedTarget||l.fromElement)&&(gs(kt)||kt[ar]))break e;if((Ke||$e)&&($e=et.window===et?et:($e=et.ownerDocument)?$e.defaultView||$e.parentWindow:window,Ke?(kt=l.relatedTarget||l.toElement,Ke=He,kt=kt?gs(kt):null,kt!==null&&(za=c(kt),qt=kt.tag,kt!==za||qt!==5&&qt!==27&&qt!==6)&&(kt=null)):(Ke=null,kt=He),Ke!==kt)){if(qt=mc,st="onMouseLeave",Me="onMouseEnter",Ce="mouse",(a==="pointerout"||a==="pointerover")&&(qt=dn,st="onPointerLeave",Me="onPointerEnter",Ce="pointer"),za=Ke==null?$e:wo(Ke),qe=kt==null?$e:wo(kt),$e=new qt(st,Ce+"leave",Ke,l,et),$e.target=za,$e.relatedTarget=qe,st=null,gs(et)===He&&(qt=new qt(Me,Ce+"enter",kt,l,et),qt.target=qe,qt.relatedTarget=za,st=qt),za=st,Ke&&kt)t:{for(qt=B4,Me=Ke,Ce=kt,qe=0,st=Me;st;st=qt(st))qe++;st=0;for(var Ut=Ce;Ut;Ut=qt(Ut))st++;for(;0<qe-st;)Me=qt(Me),qe--;for(;0<st-qe;)Ce=qt(Ce),st--;for(;qe--;){if(Me===Ce||Ce!==null&&Me===Ce.alternate){qt=Me;break t}Me=qt(Me),Ce=qt(Ce)}qt=null}else qt=null;Ke!==null&&Ix(it,$e,Ke,qt,!1),kt!==null&&za!==null&&Ix(it,za,kt,qt,!0)}}e:{if($e=He?wo(He):window,Ke=$e.nodeName&&$e.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&$e.type==="file")var Sa=Gi;else if(pc($e))if(jr)Sa=qs;else{Sa=un;var Tt=bl}else Ke=$e.nodeName,!Ke||Ke.toLowerCase()!=="input"||$e.type!=="checkbox"&&$e.type!=="radio"?He&&dc(He.elementType)&&(Sa=Gi):Sa=rd;if(Sa&&(Sa=Sa(a,He))){zr(it,Sa,l,et);break e}Tt&&Tt(a,$e,He),a==="focusout"&&He&&$e.type==="number"&&He.memoizedProps.value!=null&&oc($e,"number",$e.value)}switch(Tt=He?wo(He):window,a){case"focusin":(pc(Tt)||Tt.contentEditable==="true")&&(Ir=Tt,vi=He,nr=null);break;case"focusout":nr=vi=Ir=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":Xr=!1,va(it,l,et);break;case"selectionchange":if(Co)break;case"keydown":case"keyup":va(it,l,et)}var ea;if(Us)e:{switch(a){case"compositionstart":var ua="onCompositionStart";break e;case"compositionend":ua="onCompositionEnd";break e;case"compositionupdate":ua="onCompositionUpdate";break e}ua=void 0}else Bs?$i(a,l)&&(ua="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(ua="onCompositionStart");ua&&(hi&&l.locale!=="ko"&&(Bs||ua!=="onCompositionStart"?ua==="onCompositionEnd"&&Bs&&(ea=td()):(Br=et,Ao="value"in Br?Br.value:Br.textContent,Bs=!0)),Tt=oh(He,ua),0<Tt.length&&(ua=new Oe(ua,a,null,l,et),it.push({event:ua,listeners:Tt}),ea?ua.data=ea:(ea=gl(l),ea!==null&&(ua.data=ea)))),(ea=Eo?gr(a,l):mi(a,l))&&(ua=oh(He,"onBeforeInput"),0<ua.length&&(Tt=new Oe("onBeforeInput","beforeinput",null,l,et),it.push({event:Tt,listeners:ua}),Tt.data=ea)),D4(it,a,He,l,et)}Bx(it,r)})}function zu(a,r,l){return{instance:a,listener:r,currentTarget:l}}function oh(a,r){for(var l=r+"Capture",d=[];a!==null;){var x=a,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Ur(a,l),x!=null&&d.unshift(zu(a,x,v)),x=Ur(a,r),x!=null&&d.push(zu(a,x,v))),a.tag===3)return d;a=a.return}return[]}function B4(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Ix(a,r,l,d,x){for(var v=r._reactName,P=[];l!==null&&l!==d;){var ne=l,Se=ne.alternate,He=ne.stateNode;if(ne=ne.tag,Se!==null&&Se===d)break;ne!==5&&ne!==26&&ne!==27||He===null||(Se=He,x?(He=Ur(l,v),He!=null&&P.unshift(zu(l,He,Se))):x||(He=Ur(l,v),He!=null&&P.push(zu(l,He,Se)))),l=l.return}P.length!==0&&a.push({event:r,listeners:P})}var z4=/\r\n?/g,I4=/\u0000|\uFFFD/g;function qx(a){return(typeof a=="string"?a:""+a).replace(z4,`
`).replace(I4,"")}function Hx(a,r){return r=qx(r),qx(a)===r}function Ba(a,r,l,d,x,v){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||ys(a,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&ys(a,""+d);break;case"className":ni(a,"class",d);break;case"tabIndex":ni(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(a,l,d);break;case"style":Jc(a,d,v);break;case"data":if(r!=="object"){ni(a,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){a.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=Nr(""+d),a.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Ba(a,r,"name",x.name,x,null),Ba(a,r,"formEncType",x.formEncType,x,null),Ba(a,r,"formMethod",x.formMethod,x,null),Ba(a,r,"formTarget",x.formTarget,x,null)):(Ba(a,r,"encType",x.encType,x,null),Ba(a,r,"method",x.method,x,null),Ba(a,r,"target",x.target,x,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=Nr(""+d),a.setAttribute(l,d);break;case"onClick":d!=null&&(a.onclick=vs);break;case"onScroll":d!=null&&ca("scroll",a);break;case"onScrollEnd":d!=null&&ca("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(x.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}l=Nr(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""+d):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":d===!0?a.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,d):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(l,d):a.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(l):a.setAttribute(l,d);break;case"popover":ca("beforetoggle",a),ca("toggle",a),Pr(a,"popover",d);break;case"xlinkActuate":bs(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":bs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":bs(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":bs(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":bs(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":bs(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":bs(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":bs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":bs(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Pr(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=uc.get(l)||l,Pr(a,l,d))}}function xm(a,r,l,d,x,v){switch(l){case"style":Jc(a,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(x.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"children":typeof d=="string"?ys(a,d):(typeof d=="number"||typeof d=="bigint")&&ys(a,""+d);break;case"onScroll":d!=null&&ca("scroll",a);break;case"onScrollEnd":d!=null&&ca("scrollend",a);break;case"onClick":d!=null&&(a.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(x=l.endsWith("Capture"),r=l.slice(2,x?l.length-7:void 0),v=a[Va]||null,v=v!=null?v[l]:null,typeof v=="function"&&a.removeEventListener(r,v,x),typeof d=="function")){typeof v!="function"&&v!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(r,d,x);break e}l in a?a[l]=d:d===!0?a.setAttribute(l,""):Pr(a,l,d)}}}function vr(a,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ca("error",a),ca("load",a);var d=!1,x=!1,v;for(v in l)if(l.hasOwnProperty(v)){var P=l[v];if(P!=null)switch(v){case"src":d=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ba(a,r,v,P,l,null)}}x&&Ba(a,r,"srcSet",l.srcSet,l,null),d&&Ba(a,r,"src",l.src,l,null);return;case"input":ca("invalid",a);var ne=v=P=x=null,Se=null,He=null;for(d in l)if(l.hasOwnProperty(d)){var et=l[d];if(et!=null)switch(d){case"name":x=et;break;case"type":P=et;break;case"checked":Se=et;break;case"defaultChecked":He=et;break;case"value":v=et;break;case"defaultValue":ne=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,r));break;default:Ba(a,r,d,et,l,null)}}Xc(a,v,ne,Se,He,P,x,!1);return;case"select":ca("invalid",a),d=P=v=null;for(x in l)if(l.hasOwnProperty(x)&&(ne=l[x],ne!=null))switch(x){case"value":v=ne;break;case"defaultValue":P=ne;break;case"multiple":d=ne;default:Ba(a,r,x,ne,l,null)}r=v,l=P,a.multiple=!!d,r!=null?mr(a,!!d,r,!1):l!=null&&mr(a,!!d,l,!0);return;case"textarea":ca("invalid",a),v=x=d=null;for(P in l)if(l.hasOwnProperty(P)&&(ne=l[P],ne!=null))switch(P){case"value":d=ne;break;case"defaultValue":x=ne;break;case"children":v=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(91));break;default:Ba(a,r,P,ne,l,null)}cc(a,d,x,v);return;case"option":for(Se in l)if(l.hasOwnProperty(Se)&&(d=l[Se],d!=null))switch(Se){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ba(a,r,Se,d,l,null)}return;case"dialog":ca("beforetoggle",a),ca("toggle",a),ca("cancel",a),ca("close",a);break;case"iframe":case"object":ca("load",a);break;case"video":case"audio":for(d=0;d<Bu.length;d++)ca(Bu[d],a);break;case"image":ca("error",a),ca("load",a);break;case"details":ca("toggle",a);break;case"embed":case"source":case"link":ca("error",a),ca("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(He in l)if(l.hasOwnProperty(He)&&(d=l[He],d!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ba(a,r,He,d,l,null)}return;default:if(dc(r)){for(et in l)l.hasOwnProperty(et)&&(d=l[et],d!==void 0&&xm(a,r,et,d,l,void 0));return}}for(ne in l)l.hasOwnProperty(ne)&&(d=l[ne],d!=null&&Ba(a,r,ne,d,l,null))}function q4(a,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,P=null,ne=null,Se=null,He=null,et=null;for(Ke in l){var it=l[Ke];if(l.hasOwnProperty(Ke)&&it!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":Se=it;default:d.hasOwnProperty(Ke)||Ba(a,r,Ke,null,d,it)}}for(var $e in d){var Ke=d[$e];if(it=l[$e],d.hasOwnProperty($e)&&(Ke!=null||it!=null))switch($e){case"type":v=Ke;break;case"name":x=Ke;break;case"checked":He=Ke;break;case"defaultChecked":et=Ke;break;case"value":P=Ke;break;case"defaultValue":ne=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,r));break;default:Ke!==it&&Ba(a,r,$e,Ke,d,it)}}dl(a,P,ne,Se,He,et,v,x);return;case"select":Ke=P=ne=$e=null;for(v in l)if(Se=l[v],l.hasOwnProperty(v)&&Se!=null)switch(v){case"value":break;case"multiple":Ke=Se;default:d.hasOwnProperty(v)||Ba(a,r,v,null,d,Se)}for(x in d)if(v=d[x],Se=l[x],d.hasOwnProperty(x)&&(v!=null||Se!=null))switch(x){case"value":$e=v;break;case"defaultValue":ne=v;break;case"multiple":P=v;default:v!==Se&&Ba(a,r,x,v,d,Se)}r=ne,l=P,d=Ke,$e!=null?mr(a,!!l,$e,!1):!!d!=!!l&&(r!=null?mr(a,!!l,r,!0):mr(a,!!l,l?[]:"",!1));return;case"textarea":Ke=$e=null;for(ne in l)if(x=l[ne],l.hasOwnProperty(ne)&&x!=null&&!d.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:Ba(a,r,ne,null,d,x)}for(P in d)if(x=d[P],v=l[P],d.hasOwnProperty(P)&&(x!=null||v!=null))switch(P){case"value":$e=x;break;case"defaultValue":Ke=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:x!==v&&Ba(a,r,P,x,d,v)}lc(a,$e,Ke);return;case"option":for(var kt in l)if($e=l[kt],l.hasOwnProperty(kt)&&$e!=null&&!d.hasOwnProperty(kt))switch(kt){case"selected":a.selected=!1;break;default:Ba(a,r,kt,null,d,$e)}for(Se in d)if($e=d[Se],Ke=l[Se],d.hasOwnProperty(Se)&&$e!==Ke&&($e!=null||Ke!=null))switch(Se){case"selected":a.selected=$e&&typeof $e!="function"&&typeof $e!="symbol";break;default:Ba(a,r,Se,$e,d,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in l)$e=l[qt],l.hasOwnProperty(qt)&&$e!=null&&!d.hasOwnProperty(qt)&&Ba(a,r,qt,null,d,$e);for(He in d)if($e=d[He],Ke=l[He],d.hasOwnProperty(He)&&$e!==Ke&&($e!=null||Ke!=null))switch(He){case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(i(137,r));break;default:Ba(a,r,He,$e,d,Ke)}return;default:if(dc(r)){for(var za in l)$e=l[za],l.hasOwnProperty(za)&&$e!==void 0&&!d.hasOwnProperty(za)&&xm(a,r,za,void 0,d,$e);for(et in d)$e=d[et],Ke=l[et],!d.hasOwnProperty(et)||$e===Ke||$e===void 0&&Ke===void 0||xm(a,r,et,$e,d,Ke);return}}for(var Me in l)$e=l[Me],l.hasOwnProperty(Me)&&$e!=null&&!d.hasOwnProperty(Me)&&Ba(a,r,Me,null,d,$e);for(it in d)$e=d[it],Ke=l[it],!d.hasOwnProperty(it)||$e===Ke||$e==null&&Ke==null||Ba(a,r,it,$e,d,Ke)}function $x(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H4(){if(typeof performance.getEntriesByType=="function"){for(var a=0,r=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var x=l[d],v=x.transferSize,P=x.initiatorType,ne=x.duration;if(v&&ne&&$x(P)){for(P=0,ne=x.responseEnd,d+=1;d<l.length;d++){var Se=l[d],He=Se.startTime;if(He>ne)break;var et=Se.transferSize,it=Se.initiatorType;et&&$x(it)&&(Se=Se.responseEnd,P+=et*(Se<ne?1:(ne-He)/(Se-He)))}if(--d,r+=8*(v+P)/(x.duration/1e3),a++,10<a)break}}if(0<a)return r/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var bm=null,ym=null;function lh(a){return a.nodeType===9?a:a.ownerDocument}function Gx(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vx(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function vm(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var wm=null;function $4(){var a=window.event;return a&&a.type==="popstate"?a===wm?!1:(wm=a,!0):(wm=null,!1)}var Wx=typeof setTimeout=="function"?setTimeout:void 0,G4=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,V4=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(a){return Yx.resolve(null).then(a).catch(W4)}:Wx;function W4(a){setTimeout(function(){throw a})}function Ul(a){return a==="head"}function Xx(a,r){var l=r,d=0;do{var x=l.nextSibling;if(a.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"||l==="/&"){if(d===0){a.removeChild(x),Pd(r);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Iu(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,Iu(l);for(var v=l.firstChild;v;){var P=v.nextSibling,ne=v.nodeName;v[ms]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=P}}else l==="body"&&Iu(a.ownerDocument.body);l=x}while(l);Pd(r)}function Kx(a,r){var l=a;a=0;do{var d=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=d}while(l)}function Nm(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Nm(l),zi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function Y4(a,r,l,d){for(;a.nodeType===1;){var x=l;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[ms])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Xs(a.nextSibling),a===null)break}return null}function X4(a,r,l){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Xs(a.nextSibling),a===null))return null;return a}function Jx(a,r){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!r||(a=Xs(a.nextSibling),a===null))return null;return a}function jm(a){return a.data==="$?"||a.data==="$~"}function Sm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function K4(a,r){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=r;else if(a.data!=="$?"||l.readyState!=="loading")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Xs(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return a}var Am=null;function Zx(a){a=a.nextSibling;for(var r=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(r===0)return Xs(a.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}a=a.nextSibling}return null}function Qx(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return a;r--}else l!=="/$"&&l!=="/&"||r++}a=a.previousSibling}return null}function eb(a,r,l){switch(r=lh(l),a){case"html":if(a=r.documentElement,!a)throw Error(i(452));return a;case"head":if(a=r.head,!a)throw Error(i(453));return a;case"body":if(a=r.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Iu(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);zi(a)}var Ks=new Map,tb=new Set;function ch(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Wo=se.d;se.d={f:J4,r:Z4,D:Q4,C:eN,L:tN,m:aN,X:rN,S:nN,M:sN};function J4(){var a=Wo.f(),r=eh();return a||r}function Z4(a){var r=ps(a);r!==null&&r.tag===5&&r.type==="form"?b1(r):Wo.r(a)}var Md=typeof document>"u"?null:document;function ab(a,r,l){var d=Md;if(d&&typeof r=="string"&&r){var x=bn(r);x='link[rel="'+a+'"][href="'+x+'"]',typeof l=="string"&&(x+='[crossorigin="'+l+'"]'),tb.has(x)||(tb.add(x),a={rel:a,crossOrigin:l,href:r},d.querySelector(x)===null&&(r=d.createElement("link"),vr(r,"link",a),cn(r),d.head.appendChild(r)))}}function Q4(a){Wo.D(a),ab("dns-prefetch",a,null)}function eN(a,r){Wo.C(a,r),ab("preconnect",a,r)}function tN(a,r,l){Wo.L(a,r,l);var d=Md;if(d&&a&&r){var x='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(x+='[imagesrcset="'+bn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(x+='[imagesizes="'+bn(l.imageSizes)+'"]')):x+='[href="'+bn(a)+'"]';var v=x;switch(r){case"style":v=Dd(a);break;case"script":v=Fd(a)}Ks.has(v)||(a=w({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:a,as:r},l),Ks.set(v,a),d.querySelector(x)!==null||r==="style"&&d.querySelector(qu(v))||r==="script"&&d.querySelector(Hu(v))||(r=d.createElement("link"),vr(r,"link",a),cn(r),d.head.appendChild(r)))}}function aN(a,r){Wo.m(a,r);var l=Md;if(l&&a){var d=r&&typeof r.as=="string"?r.as:"script",x='link[rel="modulepreload"][as="'+bn(d)+'"][href="'+bn(a)+'"]',v=x;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Fd(a)}if(!Ks.has(v)&&(a=w({rel:"modulepreload",href:a},r),Ks.set(v,a),l.querySelector(x)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Hu(v)))return}d=l.createElement("link"),vr(d,"link",a),cn(d),l.head.appendChild(d)}}}function nN(a,r,l){Wo.S(a,r,l);var d=Md;if(d&&a){var x=Ms(d).hoistableStyles,v=Dd(a);r=r||"default";var P=x.get(v);if(!P){var ne={loading:0,preload:null};if(P=d.querySelector(qu(v)))ne.loading=5;else{a=w({rel:"stylesheet",href:a,"data-precedence":r},l),(l=Ks.get(v))&&km(a,l);var Se=P=d.createElement("link");cn(Se),vr(Se,"link",a),Se._p=new Promise(function(He,et){Se.onload=He,Se.onerror=et}),Se.addEventListener("load",function(){ne.loading|=1}),Se.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,dh(P,r,d)}P={type:"stylesheet",instance:P,count:1,state:ne},x.set(v,P)}}}function rN(a,r){Wo.X(a,r);var l=Md;if(l&&a){var d=Ms(l).hoistableScripts,x=Fd(a),v=d.get(x);v||(v=l.querySelector(Hu(x)),v||(a=w({src:a,async:!0},r),(r=Ks.get(x))&&_m(a,r),v=l.createElement("script"),cn(v),vr(v,"link",a),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(x,v))}}function sN(a,r){Wo.M(a,r);var l=Md;if(l&&a){var d=Ms(l).hoistableScripts,x=Fd(a),v=d.get(x);v||(v=l.querySelector(Hu(x)),v||(a=w({src:a,async:!0,type:"module"},r),(r=Ks.get(x))&&_m(a,r),v=l.createElement("script"),cn(v),vr(v,"link",a),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(x,v))}}function nb(a,r,l,d){var x=(x=re.current)?ch(x):null;if(!x)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Dd(l.href),l=Ms(x).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Dd(l.href);var v=Ms(x).hoistableStyles,P=v.get(a);if(P||(x=x.ownerDocument||x,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,P),(v=x.querySelector(qu(a)))&&!v._p&&(P.instance=v,P.state.loading=5),Ks.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ks.set(a,l),v||iN(x,a,l,P.state))),r&&d===null)throw Error(i(528,""));return P}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fd(l),l=Ms(x).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Dd(a){return'href="'+bn(a)+'"'}function qu(a){return'link[rel="stylesheet"]['+a+"]"}function rb(a){return w({},a,{"data-precedence":a.precedence,precedence:null})}function iN(a,r,l,d){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=a.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),vr(r,"link",l),cn(r),a.head.appendChild(r))}function Fd(a){return'[src="'+bn(a)+'"]'}function Hu(a){return"script[async]"+a}function sb(a,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=a.querySelector('style[data-href~="'+bn(l.href)+'"]');if(d)return r.instance=d,cn(d),d;var x=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),cn(d),vr(d,"style",x),dh(d,l.precedence,a),r.instance=d;case"stylesheet":x=Dd(l.href);var v=a.querySelector(qu(x));if(v)return r.state.loading|=4,r.instance=v,cn(v),v;d=rb(l),(x=Ks.get(x))&&km(d,x),v=(a.ownerDocument||a).createElement("link"),cn(v);var P=v;return P._p=new Promise(function(ne,Se){P.onload=ne,P.onerror=Se}),vr(v,"link",d),r.state.loading|=4,dh(v,l.precedence,a),r.instance=v;case"script":return v=Fd(l.src),(x=a.querySelector(Hu(v)))?(r.instance=x,cn(x),x):(d=l,(x=Ks.get(v))&&(d=w({},l),_m(d,x)),a=a.ownerDocument||a,x=a.createElement("script"),cn(x),vr(x,"link",d),a.head.appendChild(x),r.instance=x);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,dh(d,l.precedence,a));return r.instance}function dh(a,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=d.length?d[d.length-1]:null,v=x,P=0;P<d.length;P++){var ne=d[P];if(ne.dataset.precedence===r)v=ne;else if(v!==x)break}v?v.parentNode.insertBefore(a,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(a,r.firstChild))}function km(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function _m(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var uh=null;function ib(a,r,l){if(uh===null){var d=new Map,x=uh=new Map;x.set(l,d)}else x=uh,d=x.get(l),d||(d=new Map,x.set(l,d));if(d.has(a))return d;for(d.set(a,null),l=l.getElementsByTagName(a),x=0;x<l.length;x++){var v=l[x];if(!(v[ms]||v[Ca]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var P=v.getAttribute(r)||"";P=a+P;var ne=d.get(P);ne?ne.push(v):d.set(P,[v])}}return d}function ob(a,r,l){a=a.ownerDocument||a,a.head.insertBefore(l,r==="title"?a.querySelector("head > title"):null)}function oN(a,r,l){if(l===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return a=r.disabled,typeof r.precedence=="string"&&a==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function lb(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function lN(a,r,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Dd(d.href),v=r.querySelector(qu(x));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(a.count++,a=fh.bind(a),r.then(a,a)),l.state.loading|=4,l.instance=v,cn(v);return}v=r.ownerDocument||r,d=rb(d),(x=Ks.get(x))&&km(d,x),v=v.createElement("link"),cn(v);var P=v;P._p=new Promise(function(ne,Se){P.onload=ne,P.onerror=Se}),vr(v,"link",d),l.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=fh.bind(a),r.addEventListener("load",l),r.addEventListener("error",l))}}var Em=0;function cN(a,r){return a.stylesheets&&a.count===0&&mh(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var d=setTimeout(function(){if(a.stylesheets&&mh(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+r);0<a.imgBytes&&Em===0&&(Em=62500*H4());var x=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&mh(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>Em?50:800)+r);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(x)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var hh=null;function mh(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,hh=new Map,r.forEach(dN,a),hh=null,fh.call(a))}function dN(a,r){if(!(r.state.loading&4)){var l=hh.get(a);if(l)var d=l.get(null);else{l=new Map,hh.set(a,l);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var P=x[v];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(l.set(P.dataset.precedence,P),d=P)}d&&l.set(null,d)}x=r.instance,P=x.getAttribute("data-precedence"),v=l.get(P)||d,v===d&&l.set(null,x),l.set(P,x),this.count++,d=fh.bind(this),x.addEventListener("load",d),x.addEventListener("error",d),v?v.parentNode.insertBefore(x,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),r.state.loading|=4}}var $u={$$typeof:G,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function uN(a,r,l,d,x,v,P,ne,Se){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ln(0),this.hiddenUpdates=ln(null),this.identifierPrefix=d,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Se,this.incompleteTransitions=new Map}function cb(a,r,l,d,x,v,P,ne,Se,He,et,it){return a=new uN(a,r,l,P,Se,He,et,it,ne),r=1,v===!0&&(r|=24),v=sr(3,null,null,r),a.current=v,v.stateNode=a,r=kl(),r.refCount++,a.pooledCache=r,r.refCount++,v.memoizedState={element:d,isDehydrated:l,cache:r},pt(v),a}function db(a){return a?(a=Vn,a):Vn}function ub(a,r,l,d,x,v){x=db(x),d.context===null?d.context=x:d.pendingContext=x,d=It(r),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=Zt(a,d,r),l!==null&&(cs(l,a,r),ka(l,a,r))}function fb(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<r?l:r}}function Cm(a,r){fb(a,r),(a=a.alternate)&&fb(a,r)}function hb(a){if(a.tag===13||a.tag===31){var r=wi(a,67108864);r!==null&&cs(r,a,67108864),Cm(a,67108864)}}function mb(a){if(a.tag===13||a.tag===31){var r=Cs();r=Ga(r);var l=wi(a,r);l!==null&&cs(l,a,r),Cm(a,r)}}var gh=!0;function fN(a,r,l,d){var x=ae.T;ae.T=null;var v=se.p;try{se.p=2,Lm(a,r,l,d)}finally{se.p=v,ae.T=x}}function hN(a,r,l,d){var x=ae.T;ae.T=null;var v=se.p;try{se.p=8,Lm(a,r,l,d)}finally{se.p=v,ae.T=x}}function Lm(a,r,l,d){if(gh){var x=Rm(d);if(x===null)pm(a,r,d,ph,l),pb(a,d);else if(gN(x,a,r,l,d))d.stopPropagation();else if(pb(a,d),r&4&&-1<mN.indexOf(a)){for(;x!==null;){var v=ps(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var P=tt(v.pendingLanes);if(P!==0){var ne=v;for(ne.pendingLanes|=2,ne.entangledLanes|=2;P;){var Se=1<<31-bt(P);ne.entanglements[1]|=Se,P&=~Se}ro(v),(Ea&6)===0&&(Zf=Ee()+500,Uu(0))}}break;case 31:case 13:ne=wi(v,2),ne!==null&&cs(ne,v,2),eh(),Cm(v,2)}if(v=Rm(d),v===null&&pm(a,r,d,ph,l),v===x)break;x=v}x!==null&&d.stopPropagation()}else pm(a,r,d,null,l)}}function Rm(a){return a=jo(a),Tm(a)}var ph=null;function Tm(a){if(ph=null,a=gs(a),a!==null){var r=c(a);if(r===null)a=null;else{var l=r.tag;if(l===13){if(a=f(r),a!==null)return a;a=null}else if(l===31){if(a=u(r),a!==null)return a;a=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return ph=a,null}function gb(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case Xe:return 2;case Ze:return 8;case we:case Be:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var Om=!1,Bl=null,zl=null,Il=null,Gu=new Map,Vu=new Map,ql=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(a,r){switch(a){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":Gu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(r.pointerId)}}function Wu(a,r,l,d,x,v){return a===null||a.nativeEvent!==v?(a={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[x]},r!==null&&(r=ps(r),r!==null&&hb(r)),a):(a.eventSystemFlags|=d,r=a.targetContainers,x!==null&&r.indexOf(x)===-1&&r.push(x),a)}function gN(a,r,l,d,x){switch(r){case"focusin":return Bl=Wu(Bl,a,r,l,d,x),!0;case"dragenter":return zl=Wu(zl,a,r,l,d,x),!0;case"mouseover":return Il=Wu(Il,a,r,l,d,x),!0;case"pointerover":var v=x.pointerId;return Gu.set(v,Wu(Gu.get(v)||null,a,r,l,d,x)),!0;case"gotpointercapture":return v=x.pointerId,Vu.set(v,Wu(Vu.get(v)||null,a,r,l,d,x)),!0}return!1}function xb(a){var r=gs(a.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){a.blockedOn=r,Bi(a.priority,function(){mb(l)});return}}else if(r===31){if(r=u(l),r!==null){a.blockedOn=r,Bi(a.priority,function(){mb(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function xh(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var l=Rm(a.nativeEvent);if(l===null){l=a.nativeEvent;var d=new l.constructor(l.type,l);ri=d,l.target.dispatchEvent(d),ri=null}else return r=ps(l),r!==null&&hb(r),a.blockedOn=l,!1;r.shift()}return!0}function bb(a,r,l){xh(a)&&l.delete(r)}function pN(){Om=!1,Bl!==null&&xh(Bl)&&(Bl=null),zl!==null&&xh(zl)&&(zl=null),Il!==null&&xh(Il)&&(Il=null),Gu.forEach(bb),Vu.forEach(bb)}function bh(a,r){a.blockedOn===r&&(a.blockedOn=null,Om||(Om=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pN)))}var yh=null;function yb(a){yh!==a&&(yh=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){yh===a&&(yh=null);for(var r=0;r<a.length;r+=3){var l=a[r],d=a[r+1],x=a[r+2];if(typeof d!="function"){if(Tm(d||l)===null)continue;break}var v=ps(l);v!==null&&(a.splice(r,3),r-=3,R0(v,{pending:!0,data:x,method:l.method,action:d},d,x))}}))}function Pd(a){function r(Se){return bh(Se,a)}Bl!==null&&bh(Bl,a),zl!==null&&bh(zl,a),Il!==null&&bh(Il,a),Gu.forEach(r),Vu.forEach(r);for(var l=0;l<ql.length;l++){var d=ql[l];d.blockedOn===a&&(d.blockedOn=null)}for(;0<ql.length&&(l=ql[0],l.blockedOn===null);)xb(l),l.blockedOn===null&&ql.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var x=l[d],v=l[d+1],P=x[Va]||null;if(typeof v=="function")P||yb(l);else if(P){var ne=null;if(v&&v.hasAttribute("formAction")){if(x=v,P=v[Va]||null)ne=P.formAction;else if(Tm(x)!==null)continue}else ne=P.action;typeof ne=="function"?l[d+1]=ne:(l.splice(d,3),d-=3),yb(l)}}}function vb(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(P){return x=P})},focusReset:"manual",scroll:"manual"})}function r(){x!==null&&(x(),x=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,x=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),x!==null&&(x(),x=null)}}}function Mm(a){this._internalRoot=a}vh.prototype.render=Mm.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,d=Cs();ub(l,d,a,r,null,null)},vh.prototype.unmount=Mm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;ub(a.current,2,null,a,null,null),eh(),r[ar]=null}};function vh(a){this._internalRoot=a}vh.prototype.unstable_scheduleHydration=function(a){if(a){var r=Fn();a={blockedOn:null,target:a,priority:r};for(var l=0;l<ql.length&&r!==0&&r<ql[l].priority;l++);ql.splice(l,0,a),l===0&&xb(a)}};var wb=t.version;if(wb!=="19.2.0")throw Error(i(527,wb,"19.2.0"));se.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=m(r),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var xN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Ve=wh.inject(xN),lt=wh}catch{}}return Xu.createRoot=function(a,r){if(!o(a))throw Error(i(299));var l=!1,d="",x=E1,v=C1,P=L1;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(x=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(P=r.onRecoverableError)),r=cb(a,1,!1,null,null,l,d,null,x,v,P,vb),a[ar]=r.current,gm(a),new Mm(r)},Xu.hydrateRoot=function(a,r,l){if(!o(a))throw Error(i(299));var d=!1,x="",v=E1,P=C1,ne=L1,Se=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(P=l.onCaughtError),l.onRecoverableError!==void 0&&(ne=l.onRecoverableError),l.formState!==void 0&&(Se=l.formState)),r=cb(a,1,!0,r,l??null,d,x,Se,v,P,ne,vb),r.context=db(null),l=r.current,d=Cs(),d=Ga(d),x=It(d),x.callback=null,Zt(l,x,d),l=d,r.current.lanes=l,Mt(r,l),ro(r),a[ar]=r.current,gm(a),new vh(r)},Xu.version="19.2.0",Xu}var Rb;function kN(){if(Rb)return Pm.exports;Rb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pm.exports=AN(),Pm.exports}var _N=kN();var Tb="popstate";function EN(e={}){function t(i,o){let{pathname:c,search:f,hash:u}=i.location;return $g("",{pathname:c,search:f,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:uf(o)}return LN(t,n,null,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ts(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CN(){return Math.random().toString(36).substring(2,10)}function Ob(e,t){return{usr:e.state,key:e.key,idx:t}}function $g(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?au(t):t,state:n,key:t&&t.key||i||CN()}}function uf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function au(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function LN(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,f=o.history,u="POP",h=null,m=p();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function p(){return(f.state||{idx:null}).idx}function w(){u="POP";let E=p(),C=E==null?null:E-m;m=E,h&&h({action:u,location:T.location,delta:C})}function j(E,C){u="PUSH";let I=$g(T.location,E,C);m=p()+1;let G=Ob(I,m),D=T.createHref(I);try{f.pushState(G,"",D)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(D)}c&&h&&h({action:u,location:T.location,delta:1})}function y(E,C){u="REPLACE";let I=$g(T.location,E,C);m=p();let G=Ob(I,m),D=T.createHref(I);f.replaceState(G,"",D),c&&h&&h({action:u,location:T.location,delta:0})}function A(E){return RN(E)}let T={get action(){return u},get location(){return e(o,f)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Tb,w),h=E,()=>{o.removeEventListener(Tb,w),h=null}},createHref(E){return t(o,E)},createURL:A,encodeLocation(E){let C=A(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:j,replace:y,go(E){return f.go(E)}};return T}function RN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:uf(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function v5(e,t,n="/"){return TN(e,t,n,!1)}function TN(e,t,n,i){let o=typeof t=="string"?au(t):t,c=rl(o.pathname||"/",n);if(c==null)return null;let f=w5(e);ON(f);let u=null;for(let h=0;u==null&&h<f.length;++h){let m=$N(c);u=qN(f[h],m,i)}return u}function w5(e,t=[],n=[],i="",o=!1){let c=(f,u,h=o,m)=>{let p={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:u,route:f};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&h)return;sn(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let w=tl([i,p.relativePath]),j=n.concat(p);f.children&&f.children.length>0&&(sn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),w5(f.children,t,j,w,h)),!(f.path==null&&!f.index)&&t.push({path:w,score:zN(w,f.index),routesMeta:j})};return e.forEach((f,u)=>{if(f.path===""||!f.path?.includes("?"))c(f,u);else for(let h of N5(f.path))c(f,u,!0,h)}),t}function N5(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let f=N5(i.join("/")),u=[];return u.push(...f.map(h=>h===""?c:[c,h].join("/"))),o&&u.push(...f),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function ON(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:IN(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var MN=/^:[\w-]+$/,DN=3,FN=2,PN=1,UN=10,BN=-2,Mb=e=>e==="*";function zN(e,t){let n=e.split("/"),i=n.length;return n.some(Mb)&&(i+=BN),t&&(i+=FN),n.filter(o=>!Mb(o)).reduce((o,c)=>o+(MN.test(c)?DN:c===""?PN:UN),i)}function IN(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function qN(e,t,n=!1){let{routesMeta:i}=e,o={},c="/",f=[];for(let u=0;u<i.length;++u){let h=i[u],m=u===i.length-1,p=c==="/"?t:t.slice(c.length)||"/",w=Xh({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),j=h.route;if(!w&&m&&n&&!i[i.length-1].route.index&&(w=Xh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:tl([c,w.pathname]),pathnameBase:XN(tl([c,w.pathnameBase])),route:j}),w.pathnameBase!=="/"&&(c=tl([c,w.pathnameBase]))}return f}function Xh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=HN(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:i.reduce((m,{paramName:p,isOptional:w},j)=>{if(p==="*"){let A=u[j]||"";f=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const y=u[j];return w&&!y?m[p]=void 0:m[p]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:f,pattern:e}}function HN(e,t=!1,n=!0){Ts(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function $N(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ts(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function rl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}var GN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VN=e=>GN.test(e);function WN(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?au(e):e,c;if(n)if(VN(n))c=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Ts(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?c=Db(n.substring(1),"/"):c=Db(n,t)}else c=t;return{pathname:c,search:KN(i),hash:JN(o)}}function Db(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _p(e){let t=YN(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Ep(e,t,n,i=!1){let o;typeof e=="string"?o=au(e):(o={...e},sn(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),sn(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),sn(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let c=e===""||o.pathname==="",f=c?"/":o.pathname,u;if(f==null)u=n;else{let w=t.length-1;if(!i&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),w-=1;o.pathname=j.join("/")}u=w>=0?t[w]:"/"}let h=WN(o,u),m=f&&f!=="/"&&f.endsWith("/"),p=(c||f===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var tl=e=>e.join("/").replace(/\/\/+/g,"/"),XN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j5=["POST","PUT","PATCH","DELETE"];new Set(j5);var QN=["GET",...j5];new Set(QN);var nu=k.createContext(null);nu.displayName="DataRouter";var l0=k.createContext(null);l0.displayName="DataRouterState";k.createContext(!1);var S5=k.createContext({isTransitioning:!1});S5.displayName="ViewTransition";var e3=k.createContext(new Map);e3.displayName="Fetchers";var t3=k.createContext(null);t3.displayName="Await";var Oi=k.createContext(null);Oi.displayName="Navigation";var bf=k.createContext(null);bf.displayName="Location";var ei=k.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var Cp=k.createContext(null);Cp.displayName="RouteError";function a3(e,{relative:t}={}){sn(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Oi),{hash:o,pathname:c,search:f}=yf(e,{relative:t}),u=c;return n!=="/"&&(u=c==="/"?n:tl([n,c])),i.createHref({pathname:u,search:f,hash:o})}function ru(){return k.useContext(bf)!=null}function wr(){return sn(ru(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(bf).location}var A5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k5(e){k.useContext(Oi).static||k.useLayoutEffect(e)}function tr(){let{isDataRoute:e}=k.useContext(ei);return e?x3():n3()}function n3(){sn(ru(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(nu),{basename:t,navigator:n}=k.useContext(Oi),{matches:i}=k.useContext(ei),{pathname:o}=wr(),c=JSON.stringify(_p(i)),f=k.useRef(!1);return k5(()=>{f.current=!0}),k.useCallback((h,m={})=>{if(Ts(f.current,A5),!f.current)return;if(typeof h=="number"){n.go(h);return}let p=Ep(h,JSON.parse(c),o,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:tl([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,c,o,e])}var r3=k.createContext(null);function s3(e){let t=k.useContext(ei).outlet;return k.useMemo(()=>t&&k.createElement(r3.Provider,{value:e},t),[t,e])}function _5(){let{matches:e}=k.useContext(ei),t=e[e.length-1];return t?t.params:{}}function yf(e,{relative:t}={}){let{matches:n}=k.useContext(ei),{pathname:i}=wr(),o=JSON.stringify(_p(n));return k.useMemo(()=>Ep(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function i3(e,t){return E5(e,t)}function E5(e,t,n,i,o){sn(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=k.useContext(Oi),{matches:f}=k.useContext(ei),u=f[f.length-1],h=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",w=u&&u.route;{let I=w&&w.path||"";C5(m,!w||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let j=wr(),y;if(t){let I=typeof t=="string"?au(t):t;sn(p==="/"||I.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),y=I}else y=j;let A=y.pathname||"/",T=A;if(p!=="/"){let I=p.replace(/^\//,"").split("/");T="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=v5(e,{pathname:T});Ts(w||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ts(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=u3(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:tl([p,c.encodeLocation?c.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:tl([p,c.encodeLocation?c.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),f,n,i,o);return t&&C?k.createElement(bf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function o3(){let e=p3(),t=ZN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:o},n):null,f)}var l3=k.createElement(o3,null),c3=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(ei.Provider,{value:this.props.routeContext},k.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d3({routeContext:e,match:t,children:n}){let i=k.useContext(nu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(ei.Provider,{value:e},n)}function u3(e,t=[],n=null,i=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,f=n?.errors;if(f!=null){let p=c.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);sn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let u=!1,h=-1;if(n)for(let p=0;p<c.length;p++){let w=c[p];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(h=p),w.route.id){let{loaderData:j,errors:y}=n,A=w.route.loader&&!j.hasOwnProperty(w.route.id)&&(!y||y[w.route.id]===void 0);if(w.route.lazy||A){u=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}let m=n&&i?(p,w)=>{i(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:w})}:void 0;return c.reduceRight((p,w,j)=>{let y,A=!1,T=null,E=null;n&&(y=f&&w.route.id?f[w.route.id]:void 0,T=w.route.errorElement||l3,u&&(h<0&&j===0?(C5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,E=null):h===j&&(A=!0,E=w.route.hydrateFallbackElement||null)));let C=t.concat(c.slice(0,j+1)),I=()=>{let G;return y?G=T:A?G=E:w.route.Component?G=k.createElement(w.route.Component,null):w.route.element?G=w.route.element:G=p,k.createElement(d3,{match:w,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:G})};return n&&(w.route.ErrorBoundary||w.route.errorElement||j===0)?k.createElement(c3,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):I()},null)}function Lp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f3(e){let t=k.useContext(nu);return sn(t,Lp(e)),t}function h3(e){let t=k.useContext(l0);return sn(t,Lp(e)),t}function m3(e){let t=k.useContext(ei);return sn(t,Lp(e)),t}function Rp(e){let t=m3(e),n=t.matches[t.matches.length-1];return sn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function g3(){return Rp("useRouteId")}function p3(){let e=k.useContext(Cp),t=h3("useRouteError"),n=Rp("useRouteError");return e!==void 0?e:t.errors?.[n]}function x3(){let{router:e}=f3("useNavigate"),t=Rp("useNavigate"),n=k.useRef(!1);return k5(()=>{n.current=!0}),k.useCallback(async(o,c={})=>{Ts(n.current,A5),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...c}))},[e,t])}var Fb={};function C5(e,t,n){!t&&!Fb[e]&&(Fb[e]=!0,Ts(!1,n))}k.memo(b3);function b3({routes:e,future:t,state:n,unstable_onError:i}){return E5(e,void 0,n,i,t)}function $r({to:e,replace:t,state:n,relative:i}){sn(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Oi);Ts(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=k.useContext(ei),{pathname:f}=wr(),u=tr(),h=Ep(e,_p(c),f,i==="path"),m=JSON.stringify(h);return k.useEffect(()=>{u(JSON.parse(m),{replace:t,state:n,relative:i})},[u,m,i,t,n]),null}function y3(e){return s3(e.context)}function Na(e){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v3({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:c=!1}){sn(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof n=="string"&&(n=au(n));let{pathname:h="/",search:m="",hash:p="",state:w=null,key:j="default"}=n,y=k.useMemo(()=>{let A=rl(h,f);return A==null?null:{location:{pathname:A,search:m,hash:p,state:w,key:j},navigationType:i}},[f,h,m,p,w,j,i]);return Ts(y!=null,`<Router basename="${f}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:k.createElement(Oi.Provider,{value:u},k.createElement(bf.Provider,{children:t,value:y}))}function w3({children:e,location:t}){return i3(Gg(e),t)}function Gg(e,t=[]){let n=[];return k.Children.forEach(e,(i,o)=>{if(!k.isValidElement(i))return;let c=[...t,o];if(i.type===k.Fragment){n.push.apply(n,Gg(i.props.children,c));return}sn(i.type===Na,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=Gg(i.props.children,c)),n.push(f)}),n}var Ph="get",Uh="application/x-www-form-urlencoded";function c0(e){return e!=null&&typeof e.tagName=="string"}function N3(e){return c0(e)&&e.tagName.toLowerCase()==="button"}function j3(e){return c0(e)&&e.tagName.toLowerCase()==="form"}function S3(e){return c0(e)&&e.tagName.toLowerCase()==="input"}function A3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k3(e,t){return e.button===0&&(!t||t==="_self")&&!A3(e)}function Vg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function _3(e,t){let n=Vg(e);return t&&t.forEach((i,o)=>{n.has(o)||t.getAll(o).forEach(c=>{n.append(o,c)})}),n}var Nh=null;function E3(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var C3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(e){return e!=null&&!C3.has(e)?(Ts(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):e}function L3(e,t){let n,i,o,c,f;if(j3(e)){let u=e.getAttribute("action");i=u?rl(u,t):null,n=e.getAttribute("method")||Ph,o=qm(e.getAttribute("enctype"))||Uh,c=new FormData(e)}else if(N3(e)||S3(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(i=h?rl(h,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Ph,o=qm(e.getAttribute("formenctype"))||qm(u.getAttribute("enctype"))||Uh,c=new FormData(u,e),!E3()){let{name:m,type:p,value:w}=e;if(p==="image"){let j=m?`${m}.`:"";c.append(`${j}x`,"0"),c.append(`${j}y`,"0")}else m&&c.append(m,w)}}else{if(c0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ph,i=null,o=Uh,f=e}return c&&o==="text/plain"&&(f=c,c=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R3(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&rl(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function T3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function M3(e,t,n){let i=await Promise.all(e.map(async o=>{let c=t.routes[o.route.id];if(c){let f=await T3(c,n);return f.links?f.links():[]}return[]}));return U3(i.flat(1).filter(O3).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pb(e,t,n,i,o,c){let f=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,u=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return c==="assets"?t.filter((h,m)=>f(h,m)||u(h,m)):c==="data"?t.filter((h,m)=>{let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(f(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function D3(e,t,{includeHydrateFallback:n}={}){return F3(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function F3(e){return[...new Set(e)]}function P3(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function U3(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let c=JSON.stringify(P3(o));return n.has(c)||(n.add(c),i.push({key:c,link:o})),i},[])}function L5(){let e=k.useContext(nu);return Tp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function B3(){let e=k.useContext(l0);return Tp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Op=k.createContext(void 0);Op.displayName="FrameworkContext";function R5(){let e=k.useContext(Op);return Tp(e,"You must render this element inside a <HydratedRouter> element"),e}function z3(e,t){let n=k.useContext(Op),[i,o]=k.useState(!1),[c,f]=k.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:w}=t,j=k.useRef(null);k.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let T=C=>{C.forEach(I=>{f(I.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return j.current&&E.observe(j.current),()=>{E.disconnect()}}},[e]),k.useEffect(()=>{if(i){let T=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(T)}}},[i]);let y=()=>{o(!0)},A=()=>{o(!1),f(!1)};return n?e!=="intent"?[c,j,{}]:[c,j,{onFocus:Ku(u,y),onBlur:Ku(h,A),onMouseEnter:Ku(m,y),onMouseLeave:Ku(p,A),onTouchStart:Ku(w,y)}]:[!1,j,{}]}function Ku(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function I3({page:e,...t}){let{router:n}=L5(),i=k.useMemo(()=>v5(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?k.createElement(H3,{page:e,matches:i,...t}):null}function q3(e){let{manifest:t,routeModules:n}=R5(),[i,o]=k.useState([]);return k.useEffect(()=>{let c=!1;return M3(e,t,n).then(f=>{c||o(f)}),()=>{c=!0}},[e,t,n]),i}function H3({page:e,matches:t,...n}){let i=wr(),{manifest:o,routeModules:c}=R5(),{basename:f}=L5(),{loaderData:u,matches:h}=B3(),m=k.useMemo(()=>Pb(e,t,h,o,i,"data"),[e,t,h,o,i]),p=k.useMemo(()=>Pb(e,t,h,o,i,"assets"),[e,t,h,o,i]),w=k.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let A=new Set,T=!1;if(t.forEach(C=>{let I=o.routes[C.route.id];!I||!I.hasLoader||(!m.some(G=>G.route.id===C.route.id)&&C.route.id in u&&c[C.route.id]?.shouldRevalidate||I.hasClientLoader?T=!0:A.add(C.route.id))}),A.size===0)return[];let E=R3(e,f,"data");return T&&A.size>0&&E.searchParams.set("_routes",t.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[f,u,i,o,m,t,e,c]),j=k.useMemo(()=>D3(p,o),[p,o]),y=q3(p);return k.createElement(k.Fragment,null,w.map(A=>k.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),j.map(A=>k.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),y.map(({key:A,link:T})=>k.createElement("link",{key:A,nonce:n.nonce,...T})))}function $3(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var T5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T5&&(window.__reactRouterVersion="7.9.6")}catch{}function G3({basename:e,children:t,window:n}){let i=k.useRef();i.current==null&&(i.current=EN({window:n,v5Compat:!0}));let o=i.current,[c,f]=k.useState({action:o.action,location:o.location}),u=k.useCallback(h=>{k.startTransition(()=>f(h))},[f]);return k.useLayoutEffect(()=>o.listen(u),[o,u]),k.createElement(v3,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o})}var O5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=k.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:c,replace:f,state:u,target:h,to:m,preventScrollReset:p,viewTransition:w,...j},y){let{basename:A}=k.useContext(Oi),T=typeof m=="string"&&O5.test(m),E,C=!1;if(typeof m=="string"&&T&&(E=m,T5))try{let R=new URL(window.location.href),V=m.startsWith("//")?new URL(R.protocol+m):new URL(m),F=rl(V.pathname,A);V.origin===R.origin&&F!=null?m=F+V.search+V.hash:C=!0}catch{Ts(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=a3(m,{relative:o}),[G,D,te]=z3(i,j),de=X3(m,{replace:f,state:u,target:h,preventScrollReset:p,relative:o,viewTransition:w});function Y(R){t&&t(R),R.defaultPrevented||de(R)}let O=k.createElement("a",{...j,...te,href:E||I,onClick:C||c?t:Y,ref:$3(y,D),target:h,"data-discover":!T&&n==="render"?"true":void 0});return G&&!T?k.createElement(k.Fragment,null,O,k.createElement(I3,{page:I})):O});gn.displayName="Link";var V3=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:c,to:f,viewTransition:u,children:h,...m},p){let w=yf(f,{relative:m.relative}),j=wr(),y=k.useContext(l0),{navigator:A,basename:T}=k.useContext(Oi),E=y!=null&&ej(w)&&u===!0,C=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,I=j.pathname,G=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(I=I.toLowerCase(),G=G?G.toLowerCase():null,C=C.toLowerCase()),G&&T&&(G=rl(G,T)||G);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let te=I===C||!o&&I.startsWith(C)&&I.charAt(D)==="/",de=G!=null&&(G===C||!o&&G.startsWith(C)&&G.charAt(C.length)==="/"),Y={isActive:te,isPending:de,isTransitioning:E},O=te?t:void 0,R;typeof i=="function"?R=i(Y):R=[i,te?"active":null,de?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(Y):c;return k.createElement(gn,{...m,"aria-current":O,className:R,ref:p,style:V,to:f,viewTransition:u},typeof h=="function"?h(Y):h)});V3.displayName="NavLink";var W3=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:c,method:f=Ph,action:u,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:w,...j},y)=>{let A=Z3(),T=Q3(u,{relative:m}),E=f.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&O5.test(u),I=G=>{if(h&&h(G),G.defaultPrevented)return;G.preventDefault();let D=G.nativeEvent.submitter,te=D?.getAttribute("formmethod")||f;A(D||G.currentTarget,{fetcherKey:t,method:te,navigate:n,replace:o,state:c,relative:m,preventScrollReset:p,viewTransition:w})};return k.createElement("form",{ref:y,method:E,action:T,onSubmit:i?h:I,...j,"data-discover":!C&&e==="render"?"true":void 0})});W3.displayName="Form";function Y3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M5(e){let t=k.useContext(nu);return sn(t,Y3(e)),t}function X3(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:c,viewTransition:f}={}){let u=tr(),h=wr(),m=yf(e,{relative:c});return k.useCallback(p=>{if(k3(p,t)){p.preventDefault();let w=n!==void 0?n:uf(h)===uf(m);u(e,{replace:w,state:i,preventScrollReset:o,relative:c,viewTransition:f})}},[h,u,m,n,i,t,e,o,c,f])}function Mp(e){Ts(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(Vg(e)),n=k.useRef(!1),i=wr(),o=k.useMemo(()=>_3(i.search,n.current?null:t.current),[i.search]),c=tr(),f=k.useCallback((u,h)=>{const m=Vg(typeof u=="function"?u(new URLSearchParams(o)):u);n.current=!0,c("?"+m,h)},[c,o]);return[o,f]}var K3=0,J3=()=>`__${String(++K3)}__`;function Z3(){let{router:e}=M5("useSubmit"),{basename:t}=k.useContext(Oi),n=g3();return k.useCallback(async(i,o={})=>{let{action:c,method:f,encType:u,formData:h,body:m}=L3(i,t);if(o.navigate===!1){let p=o.fetcherKey||J3();await e.fetch(p,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||f,formEncType:o.encType||u,flushSync:o.flushSync})}else await e.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||f,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function Q3(e,{relative:t}={}){let{basename:n}=k.useContext(Oi),i=k.useContext(ei);sn(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...yf(e||".",{relative:t})},f=wr();if(e==null){c.search=f.search;let u=new URLSearchParams(c.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(w=>w).forEach(w=>u.append("index",w));let p=u.toString();c.search=p?`?${p}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:tl([n,c.pathname])),uf(c)}function ej(e,{relative:t}={}){let n=k.useContext(S5);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=M5("useViewTransitionState"),o=yf(e,{relative:t});if(!n.isTransitioning)return!1;let c=rl(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=rl(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Xh(o.pathname,f)!=null||Xh(o.pathname,c)!=null}var tj=y5();function D5(e,t){return function(){return e.apply(t,arguments)}}const{toString:aj}=Object.prototype,{getPrototypeOf:Dp}=Object,{iterator:d0,toStringTag:F5}=Symbol,u0=(e=>t=>{const n=aj.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mi=e=>(e=e.toLowerCase(),t=>u0(t)===e),f0=e=>t=>typeof t===e,{isArray:su}=Array,Qd=f0("undefined");function vf(e){return e!==null&&!Qd(e)&&e.constructor!==null&&!Qd(e.constructor)&&ds(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const P5=Mi("ArrayBuffer");function nj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&P5(e.buffer),t}const rj=f0("string"),ds=f0("function"),U5=f0("number"),wf=e=>e!==null&&typeof e=="object",sj=e=>e===!0||e===!1,Bh=e=>{if(u0(e)!=="object")return!1;const t=Dp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(F5 in e)&&!(d0 in e)},ij=e=>{if(!wf(e)||vf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},oj=Mi("Date"),lj=Mi("File"),cj=Mi("Blob"),dj=Mi("FileList"),uj=e=>wf(e)&&ds(e.pipe),fj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ds(e.append)&&((t=u0(e))==="formdata"||t==="object"&&ds(e.toString)&&e.toString()==="[object FormData]"))},hj=Mi("URLSearchParams"),[mj,gj,pj,xj]=["ReadableStream","Request","Response","Headers"].map(Mi),bj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nf(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,o;if(typeof e!="object"&&(e=[e]),su(e))for(i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else{if(vf(e))return;const c=n?Object.getOwnPropertyNames(e):Object.keys(e),f=c.length;let u;for(i=0;i<f;i++)u=c[i],t.call(null,e[u],u,e)}}function B5(e,t){if(vf(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i=n.length,o;for(;i-- >0;)if(o=n[i],t===o.toLowerCase())return o;return null}const Pc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,z5=e=>!Qd(e)&&e!==Pc;function Wg(){const{caseless:e,skipUndefined:t}=z5(this)&&this||{},n={},i=(o,c)=>{const f=e&&B5(n,c)||c;Bh(n[f])&&Bh(o)?n[f]=Wg(n[f],o):Bh(o)?n[f]=Wg({},o):su(o)?n[f]=o.slice():(!t||!Qd(o))&&(n[f]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Nf(arguments[o],i);return n}const yj=(e,t,n,{allOwnKeys:i}={})=>(Nf(t,(o,c)=>{n&&ds(o)?e[c]=D5(o,n):e[c]=o},{allOwnKeys:i}),e),vj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wj=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Nj=(e,t,n,i)=>{let o,c,f;const u={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),c=o.length;c-- >0;)f=o[c],(!i||i(f,e,t))&&!u[f]&&(t[f]=e[f],u[f]=!0);e=n!==!1&&Dp(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},jj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},Sj=e=>{if(!e)return null;if(su(e))return e;let t=e.length;if(!U5(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Aj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dp(Uint8Array)),kj=(e,t)=>{const i=(e&&e[d0]).call(e);let o;for(;(o=i.next())&&!o.done;){const c=o.value;t.call(e,c[0],c[1])}},_j=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},Ej=Mi("HTMLFormElement"),Cj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),Ub=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Lj=Mi("RegExp"),I5=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Nf(n,(o,c)=>{let f;(f=t(o,c,e))!==!1&&(i[c]=f||o)}),Object.defineProperties(e,i)},Rj=e=>{I5(e,(t,n)=>{if(ds(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(ds(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Tj=(e,t)=>{const n={},i=o=>{o.forEach(c=>{n[c]=!0})};return su(e)?i(e):i(String(e).split(t)),n},Oj=()=>{},Mj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Dj(e){return!!(e&&ds(e.append)&&e[F5]==="FormData"&&e[d0])}const Fj=e=>{const t=new Array(10),n=(i,o)=>{if(wf(i)){if(t.indexOf(i)>=0)return;if(vf(i))return i;if(!("toJSON"in i)){t[o]=i;const c=su(i)?[]:{};return Nf(i,(f,u)=>{const h=n(f,o+1);!Qd(h)&&(c[u]=h)}),t[o]=void 0,c}}return i};return n(e,0)},Pj=Mi("AsyncFunction"),Uj=e=>e&&(wf(e)||ds(e))&&ds(e.then)&&ds(e.catch),q5=((e,t)=>e?setImmediate:t?((n,i)=>(Pc.addEventListener("message",({source:o,data:c})=>{o===Pc&&c===n&&i.length&&i.shift()()},!1),o=>{i.push(o),Pc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ds(Pc.postMessage)),Bj=typeof queueMicrotask<"u"?queueMicrotask.bind(Pc):typeof process<"u"&&process.nextTick||q5,zj=e=>e!=null&&ds(e[d0]),Ye={isArray:su,isArrayBuffer:P5,isBuffer:vf,isFormData:fj,isArrayBufferView:nj,isString:rj,isNumber:U5,isBoolean:sj,isObject:wf,isPlainObject:Bh,isEmptyObject:ij,isReadableStream:mj,isRequest:gj,isResponse:pj,isHeaders:xj,isUndefined:Qd,isDate:oj,isFile:lj,isBlob:cj,isRegExp:Lj,isFunction:ds,isStream:uj,isURLSearchParams:hj,isTypedArray:Aj,isFileList:dj,forEach:Nf,merge:Wg,extend:yj,trim:bj,stripBOM:vj,inherits:wj,toFlatObject:Nj,kindOf:u0,kindOfTest:Mi,endsWith:jj,toArray:Sj,forEachEntry:kj,matchAll:_j,isHTMLForm:Ej,hasOwnProperty:Ub,hasOwnProp:Ub,reduceDescriptors:I5,freezeMethods:Rj,toObjectSet:Tj,toCamelCase:Cj,noop:Oj,toFiniteNumber:Mj,findKey:B5,global:Pc,isContextDefined:z5,isSpecCompliantForm:Dj,toJSONObject:Fj,isAsyncFn:Pj,isThenable:Uj,setImmediate:q5,asap:Bj,isIterable:zj};function Qt(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}Ye.inherits(Qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const H5=Qt.prototype,$5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$5[e]={value:e}});Object.defineProperties(Qt,$5);Object.defineProperty(H5,"isAxiosError",{value:!0});Qt.from=(e,t,n,i,o,c)=>{const f=Object.create(H5);Ye.toFlatObject(e,f,function(p){return p!==Error.prototype},m=>m!=="isAxiosError");const u=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return Qt.call(f,u,h,n,i,o),e&&f.cause==null&&Object.defineProperty(f,"cause",{value:e,configurable:!0}),f.name=e&&e.name||"Error",c&&Object.assign(f,c),f};const Ij=null;function Yg(e){return Ye.isPlainObject(e)||Ye.isArray(e)}function G5(e){return Ye.endsWith(e,"[]")?e.slice(0,-2):e}function Bb(e,t,n){return e?e.concat(t).map(function(o,c){return o=G5(o),!n&&c?"["+o+"]":o}).join(n?".":""):t}function qj(e){return Ye.isArray(e)&&!e.some(Yg)}const Hj=Ye.toFlatObject(Ye,{},null,function(t){return/^is[A-Z]/.test(t)});function h0(e,t,n){if(!Ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,E){return!Ye.isUndefined(E[T])});const i=n.metaTokens,o=n.visitor||p,c=n.dots,f=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(t);if(!Ye.isFunction(o))throw new TypeError("visitor must be a function");function m(A){if(A===null)return"";if(Ye.isDate(A))return A.toISOString();if(Ye.isBoolean(A))return A.toString();if(!h&&Ye.isBlob(A))throw new Qt("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(A)||Ye.isTypedArray(A)?h&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function p(A,T,E){let C=A;if(A&&!E&&typeof A=="object"){if(Ye.endsWith(T,"{}"))T=i?T:T.slice(0,-2),A=JSON.stringify(A);else if(Ye.isArray(A)&&qj(A)||(Ye.isFileList(A)||Ye.endsWith(T,"[]"))&&(C=Ye.toArray(A)))return T=G5(T),C.forEach(function(G,D){!(Ye.isUndefined(G)||G===null)&&t.append(f===!0?Bb([T],D,c):f===null?T:T+"[]",m(G))}),!1}return Yg(A)?!0:(t.append(Bb(E,T,c),m(A)),!1)}const w=[],j=Object.assign(Hj,{defaultVisitor:p,convertValue:m,isVisitable:Yg});function y(A,T){if(!Ye.isUndefined(A)){if(w.indexOf(A)!==-1)throw Error("Circular reference detected in "+T.join("."));w.push(A),Ye.forEach(A,function(C,I){(!(Ye.isUndefined(C)||C===null)&&o.call(t,C,Ye.isString(I)?I.trim():I,T,j))===!0&&y(C,T?T.concat(I):[I])}),w.pop()}}if(!Ye.isObject(e))throw new TypeError("data must be an object");return y(e),t}function zb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Fp(e,t){this._pairs=[],e&&h0(e,this,t)}const V5=Fp.prototype;V5.append=function(t,n){this._pairs.push([t,n])};V5.toString=function(t){const n=t?function(i){return t.call(this,i,zb)}:zb;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function $j(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function W5(e,t,n){if(!t)return e;const i=n&&n.encode||$j;Ye.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let c;if(o?c=o(t,n):c=Ye.isURLSearchParams(t)?t.toString():new Fp(t,n).toString(i),c){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class Ib{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ye.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Y5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gj=typeof URLSearchParams<"u"?URLSearchParams:Fp,Vj=typeof FormData<"u"?FormData:null,Wj=typeof Blob<"u"?Blob:null,Yj={isBrowser:!0,classes:{URLSearchParams:Gj,FormData:Vj,Blob:Wj},protocols:["http","https","file","blob","url","data"]},Pp=typeof window<"u"&&typeof document<"u",Xg=typeof navigator=="object"&&navigator||void 0,Xj=Pp&&(!Xg||["ReactNative","NativeScript","NS"].indexOf(Xg.product)<0),Kj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Jj=Pp&&window.location.href||"http://localhost",Zj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pp,hasStandardBrowserEnv:Xj,hasStandardBrowserWebWorkerEnv:Kj,navigator:Xg,origin:Jj},Symbol.toStringTag,{value:"Module"})),Lr={...Zj,...Yj};function Qj(e,t){return h0(e,new Lr.classes.URLSearchParams,{visitor:function(n,i,o,c){return Lr.isNode&&Ye.isBuffer(n)?(this.append(i,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...t})}function e6(e){return Ye.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function t6(e){const t={},n=Object.keys(e);let i;const o=n.length;let c;for(i=0;i<o;i++)c=n[i],t[c]=e[c];return t}function X5(e){function t(n,i,o,c){let f=n[c++];if(f==="__proto__")return!0;const u=Number.isFinite(+f),h=c>=n.length;return f=!f&&Ye.isArray(o)?o.length:f,h?(Ye.hasOwnProp(o,f)?o[f]=[o[f],i]:o[f]=i,!u):((!o[f]||!Ye.isObject(o[f]))&&(o[f]=[]),t(n,i,o[f],c)&&Ye.isArray(o[f])&&(o[f]=t6(o[f])),!u)}if(Ye.isFormData(e)&&Ye.isFunction(e.entries)){const n={};return Ye.forEachEntry(e,(i,o)=>{t(e6(i),o,n,0)}),n}return null}function a6(e,t,n){if(Ye.isString(e))try{return(t||JSON.parse)(e),Ye.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const jf={transitional:Y5,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,c=Ye.isObject(t);if(c&&Ye.isHTMLForm(t)&&(t=new FormData(t)),Ye.isFormData(t))return o?JSON.stringify(X5(t)):t;if(Ye.isArrayBuffer(t)||Ye.isBuffer(t)||Ye.isStream(t)||Ye.isFile(t)||Ye.isBlob(t)||Ye.isReadableStream(t))return t;if(Ye.isArrayBufferView(t))return t.buffer;if(Ye.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Qj(t,this.formSerializer).toString();if((u=Ye.isFileList(t))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return h0(u?{"files[]":t}:t,h&&new h,this.formSerializer)}}return c||o?(n.setContentType("application/json",!1),a6(t)):t}],transformResponse:[function(t){const n=this.transitional||jf.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Ye.isResponse(t)||Ye.isReadableStream(t))return t;if(t&&Ye.isString(t)&&(i&&!this.responseType||o)){const f=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(u){if(f)throw u.name==="SyntaxError"?Qt.from(u,Qt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lr.classes.FormData,Blob:Lr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],e=>{jf.headers[e]={}});const n6=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),r6=e=>{const t={};let n,i,o;return e&&e.split(`
`).forEach(function(f){o=f.indexOf(":"),n=f.substring(0,o).trim().toLowerCase(),i=f.substring(o+1).trim(),!(!n||t[n]&&n6[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},qb=Symbol("internals");function Ju(e){return e&&String(e).trim().toLowerCase()}function zh(e){return e===!1||e==null?e:Ye.isArray(e)?e.map(zh):String(e)}function s6(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const i6=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hm(e,t,n,i,o){if(Ye.isFunction(i))return i.call(this,t,n);if(o&&(t=n),!!Ye.isString(t)){if(Ye.isString(i))return t.indexOf(i)!==-1;if(Ye.isRegExp(i))return i.test(t)}}function o6(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function l6(e,t){const n=Ye.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(o,c,f){return this[i].call(this,t,o,c,f)},configurable:!0})})}let us=class{constructor(t){t&&this.set(t)}set(t,n,i){const o=this;function c(u,h,m){const p=Ju(h);if(!p)throw new Error("header name must be a non-empty string");const w=Ye.findKey(o,p);(!w||o[w]===void 0||m===!0||m===void 0&&o[w]!==!1)&&(o[w||h]=zh(u))}const f=(u,h)=>Ye.forEach(u,(m,p)=>c(m,p,h));if(Ye.isPlainObject(t)||t instanceof this.constructor)f(t,n);else if(Ye.isString(t)&&(t=t.trim())&&!i6(t))f(r6(t),n);else if(Ye.isObject(t)&&Ye.isIterable(t)){let u={},h,m;for(const p of t){if(!Ye.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[m=p[0]]=(h=u[m])?Ye.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}f(u,n)}else t!=null&&c(n,t,i);return this}get(t,n){if(t=Ju(t),t){const i=Ye.findKey(this,t);if(i){const o=this[i];if(!n)return o;if(n===!0)return s6(o);if(Ye.isFunction(n))return n.call(this,o,i);if(Ye.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ju(t),t){const i=Ye.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||Hm(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let o=!1;function c(f){if(f=Ju(f),f){const u=Ye.findKey(i,f);u&&(!n||Hm(i,i[u],u,n))&&(delete i[u],o=!0)}}return Ye.isArray(t)?t.forEach(c):c(t),o}clear(t){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const c=n[i];(!t||Hm(this,this[c],c,t,!0))&&(delete this[c],o=!0)}return o}normalize(t){const n=this,i={};return Ye.forEach(this,(o,c)=>{const f=Ye.findKey(i,c);if(f){n[f]=zh(o),delete n[c];return}const u=t?o6(c):String(c).trim();u!==c&&delete n[c],n[u]=zh(o),i[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ye.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=t&&Ye.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(o=>i.set(o)),i}static accessor(t){const i=(this[qb]=this[qb]={accessors:{}}).accessors,o=this.prototype;function c(f){const u=Ju(f);i[u]||(l6(o,f),i[u]=!0)}return Ye.isArray(t)?t.forEach(c):c(t),this}};us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(us.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});Ye.freezeMethods(us);function $m(e,t){const n=this||jf,i=t||n,o=us.from(i.headers);let c=i.data;return Ye.forEach(e,function(u){c=u.call(n,c,o.normalize(),t?t.status:void 0)}),o.normalize(),c}function K5(e){return!!(e&&e.__CANCEL__)}function iu(e,t,n){Qt.call(this,e??"canceled",Qt.ERR_CANCELED,t,n),this.name="CanceledError"}Ye.inherits(iu,Qt,{__CANCEL__:!0});function J5(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Qt("Request failed with status code "+n.status,[Qt.ERR_BAD_REQUEST,Qt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function c6(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function d6(e,t){e=e||10;const n=new Array(e),i=new Array(e);let o=0,c=0,f;return t=t!==void 0?t:1e3,function(h){const m=Date.now(),p=i[c];f||(f=m),n[o]=h,i[o]=m;let w=c,j=0;for(;w!==o;)j+=n[w++],w=w%e;if(o=(o+1)%e,o===c&&(c=(c+1)%e),m-f<t)return;const y=p&&m-p;return y?Math.round(j*1e3/y):void 0}}function u6(e,t){let n=0,i=1e3/t,o,c;const f=(m,p=Date.now())=>{n=p,o=null,c&&(clearTimeout(c),c=null),e(...m)};return[(...m)=>{const p=Date.now(),w=p-n;w>=i?f(m,p):(o=m,c||(c=setTimeout(()=>{c=null,f(o)},i-w)))},()=>o&&f(o)]}const Kh=(e,t,n=3)=>{let i=0;const o=d6(50,250);return u6(c=>{const f=c.loaded,u=c.lengthComputable?c.total:void 0,h=f-i,m=o(h),p=f<=u;i=f;const w={loaded:f,total:u,progress:u?f/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&p?(u-f)/m:void 0,event:c,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(w)},n)},Hb=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},$b=e=>(...t)=>Ye.asap(()=>e(...t)),f6=Lr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Lr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Lr.origin),Lr.navigator&&/(msie|trident)/i.test(Lr.navigator.userAgent)):()=>!0,h6=Lr.hasStandardBrowserEnv?{write(e,t,n,i,o,c,f){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];Ye.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),Ye.isString(i)&&u.push(`path=${i}`),Ye.isString(o)&&u.push(`domain=${o}`),c===!0&&u.push("secure"),Ye.isString(f)&&u.push(`SameSite=${f}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function m6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function g6(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Z5(e,t,n){let i=!m6(t);return e&&(i||n==!1)?g6(e,t):t}const Gb=e=>e instanceof us?{...e}:e;function qc(e,t){t=t||{};const n={};function i(m,p,w,j){return Ye.isPlainObject(m)&&Ye.isPlainObject(p)?Ye.merge.call({caseless:j},m,p):Ye.isPlainObject(p)?Ye.merge({},p):Ye.isArray(p)?p.slice():p}function o(m,p,w,j){if(Ye.isUndefined(p)){if(!Ye.isUndefined(m))return i(void 0,m,w,j)}else return i(m,p,w,j)}function c(m,p){if(!Ye.isUndefined(p))return i(void 0,p)}function f(m,p){if(Ye.isUndefined(p)){if(!Ye.isUndefined(m))return i(void 0,m)}else return i(void 0,p)}function u(m,p,w){if(w in t)return i(m,p);if(w in e)return i(void 0,m)}const h={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:u,headers:(m,p,w)=>o(Gb(m),Gb(p),w,!0)};return Ye.forEach(Object.keys({...e,...t}),function(p){const w=h[p]||o,j=w(e[p],t[p],p);Ye.isUndefined(j)&&w!==u||(n[p]=j)}),n}const Q5=e=>{const t=qc({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:c,headers:f,auth:u}=t;if(t.headers=f=us.from(f),t.url=W5(Z5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&f.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Ye.isFormData(n)){if(Lr.hasStandardBrowserEnv||Lr.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(Ye.isFunction(n.getHeaders)){const h=n.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([p,w])=>{m.includes(p.toLowerCase())&&f.set(p,w)})}}if(Lr.hasStandardBrowserEnv&&(i&&Ye.isFunction(i)&&(i=i(t)),i||i!==!1&&f6(t.url))){const h=o&&c&&h6.read(c);h&&f.set(o,h)}return t},p6=typeof XMLHttpRequest<"u",x6=p6&&function(e){return new Promise(function(n,i){const o=Q5(e);let c=o.data;const f=us.from(o.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=o,p,w,j,y,A;function T(){y&&y(),A&&A(),o.cancelToken&&o.cancelToken.unsubscribe(p),o.signal&&o.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(o.method.toUpperCase(),o.url,!0),E.timeout=o.timeout;function C(){if(!E)return;const G=us.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),te={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:G,config:e,request:E};J5(function(Y){n(Y),T()},function(Y){i(Y),T()},te),E=null}"onloadend"in E?E.onloadend=C:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(C)},E.onabort=function(){E&&(i(new Qt("Request aborted",Qt.ECONNABORTED,e,E)),E=null)},E.onerror=function(D){const te=D&&D.message?D.message:"Network Error",de=new Qt(te,Qt.ERR_NETWORK,e,E);de.event=D||null,i(de),E=null},E.ontimeout=function(){let D=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const te=o.transitional||Y5;o.timeoutErrorMessage&&(D=o.timeoutErrorMessage),i(new Qt(D,te.clarifyTimeoutError?Qt.ETIMEDOUT:Qt.ECONNABORTED,e,E)),E=null},c===void 0&&f.setContentType(null),"setRequestHeader"in E&&Ye.forEach(f.toJSON(),function(D,te){E.setRequestHeader(te,D)}),Ye.isUndefined(o.withCredentials)||(E.withCredentials=!!o.withCredentials),u&&u!=="json"&&(E.responseType=o.responseType),m&&([j,A]=Kh(m,!0),E.addEventListener("progress",j)),h&&E.upload&&([w,y]=Kh(h),E.upload.addEventListener("progress",w),E.upload.addEventListener("loadend",y)),(o.cancelToken||o.signal)&&(p=G=>{E&&(i(!G||G.type?new iu(null,e,E):G),E.abort(),E=null)},o.cancelToken&&o.cancelToken.subscribe(p),o.signal&&(o.signal.aborted?p():o.signal.addEventListener("abort",p)));const I=c6(o.url);if(I&&Lr.protocols.indexOf(I)===-1){i(new Qt("Unsupported protocol "+I+":",Qt.ERR_BAD_REQUEST,e));return}E.send(c||null)})},b6=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,o;const c=function(m){if(!o){o=!0,u();const p=m instanceof Error?m:this.reason;i.abort(p instanceof Qt?p:new iu(p instanceof Error?p.message:p))}};let f=t&&setTimeout(()=>{f=null,c(new Qt(`timeout ${t} of ms exceeded`,Qt.ETIMEDOUT))},t);const u=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(c):m.removeEventListener("abort",c)}),e=null)};e.forEach(m=>m.addEventListener("abort",c));const{signal:h}=i;return h.unsubscribe=()=>Ye.asap(u),h}},y6=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,o;for(;i<n;)o=i+t,yield e.slice(i,o),i=o},v6=async function*(e,t){for await(const n of w6(e))yield*y6(n,t)},w6=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Vb=(e,t,n,i)=>{const o=v6(e,t);let c=0,f,u=h=>{f||(f=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:m,value:p}=await o.next();if(m){u(),h.close();return}let w=p.byteLength;if(n){let j=c+=w;n(j)}h.enqueue(new Uint8Array(p))}catch(m){throw u(m),m}},cancel(h){return u(h),o.return()}},{highWaterMark:2})},Wb=64*1024,{isFunction:jh}=Ye,N6=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ye.global),{ReadableStream:Yb,TextEncoder:Xb}=Ye.global,Kb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},j6=e=>{e=Ye.merge.call({skipUndefined:!0},N6,e);const{fetch:t,Request:n,Response:i}=e,o=t?jh(t):typeof fetch=="function",c=jh(n),f=jh(i);if(!o)return!1;const u=o&&jh(Yb),h=o&&(typeof Xb=="function"?(A=>T=>A.encode(T))(new Xb):async A=>new Uint8Array(await new n(A).arrayBuffer())),m=c&&u&&Kb(()=>{let A=!1;const T=new n(Lr.origin,{body:new Yb,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!T}),p=f&&u&&Kb(()=>Ye.isReadableStream(new i("").body)),w={stream:p&&(A=>A.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!w[A]&&(w[A]=(T,E)=>{let C=T&&T[A];if(C)return C.call(T);throw new Qt(`Response type '${A}' is not supported`,Qt.ERR_NOT_SUPPORT,E)})});const j=async A=>{if(A==null)return 0;if(Ye.isBlob(A))return A.size;if(Ye.isSpecCompliantForm(A))return(await new n(Lr.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(A)||Ye.isArrayBuffer(A))return A.byteLength;if(Ye.isURLSearchParams(A)&&(A=A+""),Ye.isString(A))return(await h(A)).byteLength},y=async(A,T)=>{const E=Ye.toFiniteNumber(A.getContentLength());return E??j(T)};return async A=>{let{url:T,method:E,data:C,signal:I,cancelToken:G,timeout:D,onDownloadProgress:te,onUploadProgress:de,responseType:Y,headers:O,withCredentials:R="same-origin",fetchOptions:V}=Q5(A),F=t||fetch;Y=Y?(Y+"").toLowerCase():"text";let z=b6([I,G&&G.toAbortSignal()],D),ee=null;const le=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let ve;try{if(de&&m&&E!=="get"&&E!=="head"&&(ve=await y(O,C))!==0){let U=new n(T,{method:"POST",body:C,duplex:"half"}),_;if(Ye.isFormData(C)&&(_=U.headers.get("content-type"))&&O.setContentType(_),U.body){const[L,q]=Hb(ve,Kh($b(de)));C=Vb(U.body,Wb,L,q)}}Ye.isString(R)||(R=R?"include":"omit");const ae=c&&"credentials"in n.prototype,se={...V,signal:z,method:E.toUpperCase(),headers:O.normalize().toJSON(),body:C,duplex:"half",credentials:ae?R:void 0};ee=c&&new n(T,se);let Z=await(c?F(ee,V):F(T,se));const J=p&&(Y==="stream"||Y==="response");if(p&&(te||J&&le)){const U={};["status","statusText","headers"].forEach(B=>{U[B]=Z[B]});const _=Ye.toFiniteNumber(Z.headers.get("content-length")),[L,q]=te&&Hb(_,Kh($b(te),!0))||[];Z=new i(Vb(Z.body,Wb,L,()=>{q&&q(),le&&le()}),U)}Y=Y||"text";let fe=await w[Ye.findKey(w,Y)||"text"](Z,A);return!J&&le&&le(),await new Promise((U,_)=>{J5(U,_,{data:fe,headers:us.from(Z.headers),status:Z.status,statusText:Z.statusText,config:A,request:ee})})}catch(ae){throw le&&le(),ae&&ae.name==="TypeError"&&/Load failed|fetch/i.test(ae.message)?Object.assign(new Qt("Network Error",Qt.ERR_NETWORK,A,ee),{cause:ae.cause||ae}):Qt.from(ae,ae&&ae.code,A,ee)}}},S6=new Map,ev=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:o}=t,c=[i,o,n];let f=c.length,u=f,h,m,p=S6;for(;u--;)h=c[u],m=p.get(h),m===void 0&&p.set(h,m=u?new Map:j6(t)),p=m;return m};ev();const Up={http:Ij,xhr:x6,fetch:{get:ev}};Ye.forEach(Up,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jb=e=>`- ${e}`,A6=e=>Ye.isFunction(e)||e===null||e===!1;function k6(e,t){e=Ye.isArray(e)?e:[e];const{length:n}=e;let i,o;const c={};for(let f=0;f<n;f++){i=e[f];let u;if(o=i,!A6(i)&&(o=Up[(u=String(i)).toLowerCase()],o===void 0))throw new Qt(`Unknown adapter '${u}'`);if(o&&(Ye.isFunction(o)||(o=o.get(t))))break;c[u||"#"+f]=o}if(!o){const f=Object.entries(c).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=n?f.length>1?`since :
`+f.map(Jb).join(`
`):" "+Jb(f[0]):"as no adapter specified";throw new Qt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o}const tv={getAdapter:k6,adapters:Up};function Gm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new iu(null,e)}function Zb(e){return Gm(e),e.headers=us.from(e.headers),e.data=$m.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tv.getAdapter(e.adapter||jf.adapter,e)(e).then(function(i){return Gm(e),i.data=$m.call(e,e.transformResponse,i),i.headers=us.from(i.headers),i},function(i){return K5(i)||(Gm(e),i&&i.response&&(i.response.data=$m.call(e,e.transformResponse,i.response),i.response.headers=us.from(i.response.headers))),Promise.reject(i)})}const av="1.13.2",m0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{m0[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Qb={};m0.transitional=function(t,n,i){function o(c,f){return"[Axios v"+av+"] Transitional option '"+c+"'"+f+(i?". "+i:"")}return(c,f,u)=>{if(t===!1)throw new Qt(o(f," has been removed"+(n?" in "+n:"")),Qt.ERR_DEPRECATED);return n&&!Qb[f]&&(Qb[f]=!0,console.warn(o(f," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(c,f,u):!0}};m0.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function _6(e,t,n){if(typeof e!="object")throw new Qt("options must be an object",Qt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const c=i[o],f=t[c];if(f){const u=e[c],h=u===void 0||f(u,c,e);if(h!==!0)throw new Qt("option "+c+" must be "+h,Qt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Qt("Unknown option "+c,Qt.ERR_BAD_OPTION)}}const Ih={assertOptions:_6,validators:m0},so=Ih.validators;let Bc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ib,response:new Ib}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=qc(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:c}=n;i!==void 0&&Ih.assertOptions(i,{silentJSONParsing:so.transitional(so.boolean),forcedJSONParsing:so.transitional(so.boolean),clarifyTimeoutError:so.transitional(so.boolean)},!1),o!=null&&(Ye.isFunction(o)?n.paramsSerializer={serialize:o}:Ih.assertOptions(o,{encode:so.function,serialize:so.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ih.assertOptions(n,{baseUrl:so.spelling("baseURL"),withXsrfToken:so.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f=c&&Ye.merge(c.common,c[n.method]);c&&Ye.forEach(["delete","get","head","post","put","patch","common"],A=>{delete c[A]}),n.headers=us.concat(f,c);const u=[];let h=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(h=h&&T.synchronous,u.unshift(T.fulfilled,T.rejected))});const m=[];this.interceptors.response.forEach(function(T){m.push(T.fulfilled,T.rejected)});let p,w=0,j;if(!h){const A=[Zb.bind(this),void 0];for(A.unshift(...u),A.push(...m),j=A.length,p=Promise.resolve(n);w<j;)p=p.then(A[w++],A[w++]);return p}j=u.length;let y=n;for(;w<j;){const A=u[w++],T=u[w++];try{y=A(y)}catch(E){T.call(this,E);break}}try{p=Zb.call(this,y)}catch(A){return Promise.reject(A)}for(w=0,j=m.length;w<j;)p=p.then(m[w++],m[w++]);return p}getUri(t){t=qc(this.defaults,t);const n=Z5(t.baseURL,t.url,t.allowAbsoluteUrls);return W5(n,t.params,t.paramsSerializer)}};Ye.forEach(["delete","get","head","options"],function(t){Bc.prototype[t]=function(n,i){return this.request(qc(i||{},{method:t,url:n,data:(i||{}).data}))}});Ye.forEach(["post","put","patch"],function(t){function n(i){return function(c,f,u){return this.request(qc(u||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:f}))}}Bc.prototype[t]=n(),Bc.prototype[t+"Form"]=n(!0)});let E6=class nv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const i=this;this.promise.then(o=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](o);i._listeners=null}),this.promise.then=o=>{let c;const f=new Promise(u=>{i.subscribe(u),c=u}).then(o);return f.cancel=function(){i.unsubscribe(c)},f},t(function(c,f,u){i.reason||(i.reason=new iu(c,f,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new nv(function(o){t=o}),cancel:t}}};function C6(e){return function(n){return e.apply(null,n)}}function L6(e){return Ye.isObject(e)&&e.isAxiosError===!0}const Kg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Kg).forEach(([e,t])=>{Kg[t]=e});function rv(e){const t=new Bc(e),n=D5(Bc.prototype.request,t);return Ye.extend(n,Bc.prototype,t,{allOwnKeys:!0}),Ye.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return rv(qc(e,o))},n}const ba=rv(jf);ba.Axios=Bc;ba.CanceledError=iu;ba.CancelToken=E6;ba.isCancel=K5;ba.VERSION=av;ba.toFormData=h0;ba.AxiosError=Qt;ba.Cancel=ba.CanceledError;ba.all=function(t){return Promise.all(t)};ba.spread=C6;ba.isAxiosError=L6;ba.mergeConfig=qc;ba.AxiosHeaders=us;ba.formToJSON=e=>X5(Ye.isHTMLForm(e)?new FormData(e):e);ba.getAdapter=tv.getAdapter;ba.HttpStatusCode=Kg;ba.default=ba;const{Axios:GT,AxiosError:VT,CanceledError:WT,isCancel:YT,CancelToken:XT,VERSION:KT,all:JT,Cancel:ZT,isAxiosError:QT,spread:e9,toFormData:t9,AxiosHeaders:a9,HttpStatusCode:n9,formToJSON:r9,getAdapter:s9,mergeConfig:i9}=ba,pn="/api/v1",dr="Superadmin",xt={FEATURE_VIEW_OWN_OFFICE_SENDER:"VIEW_REFS_OWN",FEATURE_VIEW_INTER_OFFICE_SENDER:"VIEW_REFS_GLOBAL",FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE:"MANAGE_REFS_LOCAL_OWN",FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES:"MANAGE_REFS_LOCAL_ALL",FEATURE_MANAGE_GLOBAL_REFERENCES:"MANAGE_REFS_GLOBAL",FEATURE_FORM_MANAGEMENT:"MANAGE_FORMS",FEATURE_MANAGE_USERS_OWN_OFFICE:"MANAGE_USERS_OWN",FEATURE_MANAGE_USERS_ALL_OFFICES:"MANAGE_USERS_ALL",FEATURE_AUDIT_TRAILS:"VIEW_AUDIT_TRAILS",FEATURE_SYSTEM_CONFIGURATION:"SYSTEM_CONFIG"},Gt=ba.create({baseURL:pn,withCredentials:!0});Gt.interceptors.response.use(e=>e,async e=>{const t=e.config;if(e.response?.status===401&&!t._retry){t._retry=!0;try{return await ba.post(`${pn}/users/refresh-token`,{},{withCredentials:!0}),Gt(t)}catch(n){return Promise.reject(n)}}return Promise.reject(e)});let R6={data:""},T6=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||R6},O6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,M6=/\/\*[^]*?\*\/|  +/g,e2=/\n+/g,Yl=(e,t)=>{let n="",i="",o="";for(let c in e){let f=e[c];c[0]=="@"?c[1]=="i"?n=c+" "+f+";":i+=c[1]=="f"?Yl(f,c):c+"{"+Yl(f,c[1]=="k"?"":t)+"}":typeof f=="object"?i+=Yl(f,t?t.replace(/([^,])+/g,u=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):c):f!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Yl.p?Yl.p(c,f):c+":"+f+";")}return n+(t&&o?t+"{"+o+"}":o)+i},Yo={},sv=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+sv(e[n]);return t}return e},D6=(e,t,n,i,o)=>{let c=sv(e),f=Yo[c]||(Yo[c]=(h=>{let m=0,p=11;for(;m<h.length;)p=101*p+h.charCodeAt(m++)>>>0;return"go"+p})(c));if(!Yo[f]){let h=c!==e?e:(m=>{let p,w,j=[{}];for(;p=O6.exec(m.replace(M6,""));)p[4]?j.shift():p[3]?(w=p[3].replace(e2," ").trim(),j.unshift(j[0][w]=j[0][w]||{})):j[0][p[1]]=p[2].replace(e2," ").trim();return j[0]})(e);Yo[f]=Yl(o?{["@keyframes "+f]:h}:h,n?"":"."+f)}let u=n&&Yo.g?Yo.g:null;return n&&(Yo.g=Yo[f]),((h,m,p,w)=>{w?m.data=m.data.replace(w,h):m.data.indexOf(h)===-1&&(m.data=p?h+m.data:m.data+h)})(Yo[f],t,i,u),f},F6=(e,t,n)=>e.reduce((i,o,c)=>{let f=t[c];if(f&&f.call){let u=f(n),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;f=h?"."+h:u&&typeof u=="object"?u.props?"":Yl(u,""):u===!1?"":u}return i+o+(f??"")},"");function g0(e){let t=this||{},n=e.call?e(t.p):e;return D6(n.unshift?n.raw?F6(n,[].slice.call(arguments,1),t.p):n.reduce((i,o)=>Object.assign(i,o&&o.call?o(t.p):o),{}):n,T6(t.target),t.g,t.o,t.k)}let iv,Jg,Zg;g0.bind({g:1});let sl=g0.bind({k:1});function P6(e,t,n,i){Yl.p=t,iv=e,Jg=n,Zg=i}function ec(e,t){let n=this||{};return function(){let i=arguments;function o(c,f){let u=Object.assign({},c),h=u.className||o.className;n.p=Object.assign({theme:Jg&&Jg()},u),n.o=/ *go\d+/.test(h),u.className=g0.apply(n,i)+(h?" "+h:"");let m=e;return e[0]&&(m=u.as||e,delete u.as),Zg&&m[0]&&Zg(u),iv(m,u)}return o}}var U6=e=>typeof e=="function",Qg=(e,t)=>U6(e)?e(t):e,B6=(()=>{let e=0;return()=>(++e).toString()})(),z6=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),I6=20,ov="default",lv=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(f=>f.id===t.toast.id?{...f,...t.toast}:f)};case 2:let{toast:i}=t;return lv(e,{type:e.toasts.find(f=>f.id===i.id)?1:0,toast:i});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(f=>f.id===o||o===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(f=>f.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let c=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+c}))}}},q6=[],H6={toasts:[],pausedAt:void 0,settings:{toastLimit:I6}},Wd={},cv=(e,t=ov)=>{Wd[t]=lv(Wd[t]||H6,e),q6.forEach(([n,i])=>{n===t&&i(Wd[t])})},dv=e=>Object.keys(Wd).forEach(t=>cv(e,t)),$6=e=>Object.keys(Wd).find(t=>Wd[t].toasts.some(n=>n.id===e)),Bp=(e=ov)=>t=>{cv(t,e)},G6=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||B6()}),Sf=e=>(t,n)=>{let i=G6(t,e,n);return Bp(i.toasterId||$6(i.id))({type:2,toast:i}),i.id},ta=(e,t)=>Sf("blank")(e,t);ta.error=Sf("error");ta.success=Sf("success");ta.loading=Sf("loading");ta.custom=Sf("custom");ta.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Bp(t)(n):dv(n)};ta.dismissAll=e=>ta.dismiss(void 0,e);ta.remove=(e,t)=>{let n={type:4,toastId:e};t?Bp(t)(n):dv(n)};ta.removeAll=e=>ta.remove(void 0,e);ta.promise=(e,t,n)=>{let i=ta.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let c=t.success?Qg(t.success,o):void 0;return c?ta.success(c,{id:i,...n,...n?.success}):ta.dismiss(i),o}).catch(o=>{let c=t.error?Qg(t.error,o):void 0;c?ta.error(c,{id:i,...n,...n?.error}):ta.dismiss(i)}),e};var V6=sl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,W6=sl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Y6=sl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,X6=ec("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${V6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${W6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Y6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,K6=sl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,J6=ec("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${K6} 1s linear infinite;
`,Z6=sl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Q6=sl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eS=ec("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Z6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Q6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tS=ec("div")`
  position: absolute;
`,aS=ec("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nS=sl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rS=ec("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sS=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?k.createElement(rS,null,t):t:n==="blank"?null:k.createElement(aS,null,k.createElement(J6,{...i}),n!=="loading"&&k.createElement(tS,null,n==="error"?k.createElement(X6,{...i}):k.createElement(eS,{...i})))},iS=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,oS=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,lS="0%{opacity:0;} 100%{opacity:1;}",cS="0%{opacity:1;} 100%{opacity:0;}",dS=ec("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,uS=ec("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fS=(e,t)=>{let n=e.includes("top")?1:-1,[i,o]=z6()?[lS,cS]:[iS(n),oS(n)];return{animation:t?`${sl(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sl(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};k.memo(({toast:e,position:t,style:n,children:i})=>{let o=e.height?fS(e.position||t||"top-center",e.visible):{opacity:0},c=k.createElement(sS,{toast:e}),f=k.createElement(uS,{...e.ariaProps},Qg(e.message,e));return k.createElement(dS,{className:e.className,style:{...o,...n,...e.style}},typeof i=="function"?i({icon:c,message:f}):k.createElement(k.Fragment,null,c,f))});P6(k.createElement);g0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Gd=ta;const uv=async()=>{try{return{success:!0,data:(await Gt.get("/settings/allowed-domains")).data.data}}catch(e){return console.error("Error fetching allowed domains:",e),{success:!1,data:{allowedDomains:[]}}}},t2=async e=>{try{const t=await Gt.put("/settings/allowed-domains",{allowedDomains:e});return ta.success("Security settings updated successfully"),{success:!0,data:t.data.data}}catch(t){return console.error("Error updating allowed domains:",t),ta.error(t.response?.data?.message||"Failed to update settings"),{success:!1,data:null}}},zp=async()=>{try{return{success:!0,data:(await Gt.get("/settings/labs")).data.data}}catch(e){return console.error("Error fetching labs:",e),{success:!1,data:{labs:[]}}}},a2=async e=>{try{const t=await Gt.put("/settings/labs",{labs:e});return ta.success("Labs list updated successfully"),{success:!0,data:t.data.data}}catch(t){return console.error("Error updating labs:",t),ta.error(t.response?.data?.message||"Failed to update labs"),{success:!1,data:null}}},Ip=async()=>{try{return{success:!0,data:(await Gt.get("/settings/designations")).data.data}}catch(e){return console.error("Error fetching designations:",e),{success:!1,data:{designations:[]}}}},Sh=async e=>{try{const t=await Gt.put("/settings/designations",{designations:e});return ta.success("Designations list updated successfully"),{success:!0,data:t.data.data}}catch(t){return console.error("Error updating designations:",t),ta.error(t.response?.data?.message||"Failed to update designations"),{success:!1,data:null}}},fv=async()=>{try{return{success:!0,data:(await Gt.get("/settings/divisions")).data.data}}catch(e){return console.error("Error fetching divisions:",e),{success:!1,data:{divisions:[]}}}},n2=async e=>{try{const t=await Gt.put("/settings/divisions",{divisions:e});return ta.success("Divisions list updated successfully"),{success:!0,data:t.data.data}}catch(t){return console.error("Error updating divisions:",t),ta.error(t.response?.data?.message||"Failed to update divisions"),{success:!1,data:null}}},ep=async()=>{try{return{success:!0,data:(await Gt.get("/settings/feature-permissions")).data.data}}catch(e){return console.error("Error fetching feature permissions:",e),{success:!1,data:{permissions:[]}}}},hS=async e=>{try{const t=await Gt.put("/settings/feature-permissions",{permissions:e});return ta.success("Feature permissions updated successfully"),{success:!0,data:t.data.data}}catch(t){return console.error("Error updating feature permissions:",t),ta.error(t.response?.data?.message||"Failed to update feature permissions"),{success:!1,data:null}}},mS=async e=>{try{console.log("before call loginUser...");const t=await ba.post(`${pn}/users/login`,e,{withCredentials:!0});return console.log("after call loginUser..."),{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return console.log("In error loginUser..."),console.log("error",t.response?.data?.message),{success:!1,message:t.response?.data?.message||"Login failed"}}},gS=async()=>{try{return(await Gt.post("/users/logout")).data}catch(e){return{success:!1,message:e.response?.data?.message||"Logout failed"}}},pS=async e=>{try{console.log("before call registerUser...");const t=await ba.post(`${pn}/users/register`,e,{withCredentials:!0});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Registration failed"}}},xS=async e=>{try{console.log("reached sendpasswordapi at frontend");const t=await ba.post(`${pn}/users/forgot-password`,e,{withCredentials:!0});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to send reset link"}}},bS=async e=>{try{console.log("reached verifyResetLink at frontend");const t=await ba.post(`${pn}/users/verify-reset-token`,e,{withCredentials:!0});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to verify reset token link"}}},yS=async e=>{try{const t=await ba.post(`${pn}/users/activate-account`,e,{withCredentials:!0});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to activate account"}}},vS=async e=>{try{const t=await Gt.post("/users/change-password",e);return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to change password"}}},wS=async e=>{try{console.log("reached resetPassword at frontend");const t=await ba.post(`${pn}/users/reset-password`,e,{withCredentials:!0});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to reset password"}}},hv=async e=>{try{const t=await Gt.patch("/users/profile",e);return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to update profile"}}},NS=async()=>{try{const e=await Gt.get("/users/profile");return{success:e.data.success,message:e.data.message,data:e.data.data}}catch(e){return{success:!1,message:e.response?.data?.message||"Failed to fetch current user"}}},jS=async e=>{try{const t=await Gt.patch("/users/avatar",e,{headers:{"Content-Type":"multipart/form-data"}});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to update avatar"}}},ou=async(e=1,t=20,n="")=>{try{const i=new URLSearchParams({page:e.toString(),limit:t.toString(),search:n}),o=await Gt.get(`/users/getAllUsers?${i}`);return{success:o.data.success,message:o.data.message,data:o.data.data}}catch(i){return{success:!1,message:i.response?.data?.message||"Failed to fetch users"}}},mv=async(e,t)=>{try{const n=await Gt.patch(`/users/status/${e}`,{status:t});return{success:n.data.success,message:n.data.message,data:n.data.data}}catch(n){return{success:!1,message:n.response?.data?.message||"Failed to update user status"}}},SS=async e=>{try{const t=await Gt.post("/users/admin-creation",e);return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to create administrative user"}}},AS=async(e,t)=>{try{const n=await Gt.patch("/users/status/bulk",{userIds:e,status:t});return{success:n.data.success,message:n.data.message,data:n.data.data}}catch(n){return{success:!1,message:n.response?.data?.message||"Failed to bulk update user status"}}},kS=async e=>{try{const t=await Gt.post("/users/delete/bulk",{userIds:e});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to delete users"}}},gv=async e=>{try{const t=await ba.get(`${pn}/users/profile/${e}`,{withCredentials:!0});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to fetch user profile"}}},pv=async e=>{try{const t=await Gt.post(`/users/activate-manual/${e}`);return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to manually activate user"}}},_S=async e=>{try{const t=await Gt.post("/users/activate-manual/bulk",{userIds:e});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to bulk activate users"}}},ES=async e=>{try{const t=await Gt.post("/users/switch-role",{targetRole:e});return{success:t.data.success,message:t.data.message,data:t.data.data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to switch role"}}},CS=async(e,t)=>{try{const n=await Gt.patch(`/users/update-roles/${e}`,{roles:t});return{success:n.data.success,message:n.data.message,data:n.data.data}}catch(n){return{success:!1,message:n.response?.data?.message||"Failed to update user roles"}}},xv=k.createContext(void 0),LS=({children:e})=>{const[t,n]=k.useState(null),[i,o]=k.useState(!0),[c,f]=k.useState(!1),[u,h]=k.useState([]),m=async()=>{f(!0);const y=await ep();y.success?(console.log("[AuthContext] Fetched Permissions:",y.data.permissions),h(y.data.permissions)):console.error("[AuthContext] Failed to fetch permissions"),f(!1)};k.useEffect(()=>{(async()=>{const A=localStorage.getItem("user");if(A)try{const T=JSON.parse(A);n(T);try{const E=await NS();E.success&&E.data?(console.log("[AuthContext] Refreshed user from backend:",E.data),n(E.data),localStorage.setItem("user",JSON.stringify(E.data))):(console.warn("[AuthContext] Session invalid or expired. Clearing local storage."),n(null),localStorage.removeItem("user"))}catch(E){console.warn("[AuthContext] Failed to refresh user from backend (Network/API Error)",E)}}catch(T){console.error("Failed to parse user from local storage",T),localStorage.removeItem("user")}await m(),o(!1)})()},[]);const p=y=>{n(y),localStorage.setItem("user",JSON.stringify(y)),m()},w=()=>{n(null),localStorage.removeItem("user")},j=y=>{if(!t)return!1;const A=u.find(E=>E.feature===y);if(!A)return console.warn(`[AuthContext] Permission check: Feature '${y}' not found in configuration.`),!1;const T=A.roles.includes(t.role);return y===xt.FEATURE_FORM_MANAGEMENT&&t.role==="User"&&console.log(`[AuthContext] DEBUG: Form Management check. Roles defined: ${JSON.stringify(A.roles)}. Has Access: ${T}`),T};return s.jsx(xv.Provider,{value:{user:t,login:p,logout:w,isAuthenticated:!!t,isLoading:i,isPermissionsLoading:c,permissions:u,hasPermission:j},children:e})},Qa=()=>{const e=k.useContext(xv);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};const RS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TS=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),r2=e=>{const t=TS(e);return t.charAt(0).toUpperCase()+t.slice(1)},bv=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),OS=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var MS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DS=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:f,...u},h)=>k.createElement("svg",{ref:h,...MS,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:bv("lucide",o),...!c&&!OS(u)&&{"aria-hidden":"true"},...u},[...f.map(([m,p])=>k.createElement(m,p)),...Array.isArray(c)?c:[c]]));const mt=(e,t)=>{const n=k.forwardRef(({className:i,...o},c)=>k.createElement(DS,{ref:c,iconNode:t,className:bv(`lucide-${RS(r2(e))}`,`lucide-${e}`,i),...o}));return n.displayName=r2(e),n};const FS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qp=mt("activity",FS);const PS=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Gr=mt("archive",PS);const US=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],BS=mt("arrow-down-left",US);const zS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],IS=mt("arrow-down",zS);const qS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Af=mt("arrow-left",qS);const HS=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],s2=mt("arrow-right-left",HS);const $S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tp=mt("arrow-right",$S);const GS=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Vm=mt("arrow-up-right",GS);const VS=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],WS=mt("arrow-up",VS);const YS=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],XS=mt("badge-check",YS);const KS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sf=mt("bell",KS);const JS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],yv=mt("briefcase",JS);const ZS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],mo=mt("building-2",ZS);const QS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hp=mt("calendar",QS);const eA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],tA=mt("camera",eA);const aA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nA=mt("check",aA);const rA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],i2=mt("chevron-down",rA);const sA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ff=mt("chevron-left",sA);const iA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hf=mt("chevron-right",iA);const oA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ol=mt("circle-alert",oA);const lA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$p=mt("circle-check-big",lA);const cA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rr=mt("circle-check",cA);const dA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vv=mt("circle-question-mark",dA);const uA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],wv=mt("circle-user",uA);const fA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Gp=mt("circle-x",fA);const hA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mf=mt("clock",hA);const mA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gA=mt("copy",mA);const pA=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Nv=mt("crown",pA);const xA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],jv=mt("database",xA);const bA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vp=mt("download",bA);const yA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vA=mt("ellipsis-vertical",yA);const wA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ho=mt("eye-off",wA);const NA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],co=mt("eye",NA);const jA=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Sv=mt("file-stack",jA);const SA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Tr=mt("file-text",SA);const AA=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],al=mt("flag",AA);const kA=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Jh=mt("folder-open",kA);const _A=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],EA=mt("funnel",_A);const CA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Hc=mt("globe",CA);const LA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],o2=mt("history",LA);const RA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ap=mt("image",RA);const TA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Av=mt("info",TA);const OA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],MA=mt("key-round",OA);const DA=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],FA=mt("landmark",DA);const PA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],UA=mt("layers",PA);const BA=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],zA=mt("layout-grid",BA);const IA=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],qA=mt("layout-template",IA);const HA=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],$A=mt("library",HA);const GA=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],VA=mt("link",GA);const WA=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],YA=mt("list",WA);const XA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mn=mt("loader-circle",XA);const KA=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],JA=mt("loader",KA);const ZA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Wp=mt("log-in",ZA);const QA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],of=mt("lock",QA);const ek=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tk=mt("log-out",ek);const ak=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],eu=mt("mail",ak);const nk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],rk=mt("menu",nk);const sk=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ik=mt("monitor",sk);const ok=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],lk=mt("moon",ok);const ck=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Wm=mt("palette",ck);const dk=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],uk=mt("pause",dk);const fk=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],hk=mt("play",fk);const mk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qo=mt("plus",mk);const gk=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],pk=mt("printer",gk);const xk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bk=mt("refresh-cw",xk);const yk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kv=mt("rotate-ccw",yk);const vk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],go=mt("save",vk);const wk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xo=mt("search",wk);const Nk=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jk=mt("send",Nk);const Sk=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ak=mt("settings-2",Sk);const kk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nl=mt("settings",kk);const _k=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],rf=mt("share-2",_k);const Ek=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],tu=mt("shield-alert",Ek);const Ck=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zc=mt("shield-check",Ck);const Lk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zs=mt("shield",Lk);const Rk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],po=mt("sparkles",Rk);const Tk=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ym=mt("square-check-big",Tk);const Ok=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],l2=mt("square",Ok);const Mk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Dk=mt("sun",Mk);const Fk=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],c2=mt("table",Fk);const Pk=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Uk=mt("toggle-left",Pk);const Bk=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],zk=mt("toggle-right",Bk);const Ik=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kl=mt("trash-2",Ik);const qk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_v=mt("triangle-alert",qk);const Hk=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],$k=mt("type",Hk);const Gk=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Vk=mt("undo-2",Gk);const Wk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],np=mt("upload",Wk);const Yk=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xk=mt("user-check",Yk);const Kk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],rp=mt("user-plus",Kk);const Jk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Zk=mt("user-x",Jk);const Qk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yp=mt("user",Qk);const e8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lo=mt("users",e8);const t8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dn=mt("x",t8);function a8({labName:e="User",userInitials:t="U",userEmail:n="user@example.com",userRole:i="User",userAvatar:o}){const[c,f]=k.useState(!1),u=k.useRef(null);Qa();const h=tr(),p=wr().pathname==="/profile";k.useEffect(()=>{function y(A){u.current&&!u.current.contains(A.target)&&f(!1)}return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const w=()=>{f(!c)},j=()=>{f(!1),h("/logout",{replace:!0})};return s.jsxs("div",{className:"relative",ref:u,children:[s.jsxs("button",{onClick:w,className:`flex items-center gap-2 px-3 py-1.5 rounded-full font-bold transition-all focus:outline-none border shadow-sm ${c||p?"bg-indigo-600 text-white border-indigo-600 shadow-indigo-200":"bg-white/50 backdrop-blur-md text-gray-700 border-gray-200/50 hover:bg-white hover:border-gray-300"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold overflow-hidden ${c||p?"bg-indigo-400":"bg-indigo-100 text-indigo-600"}`,children:o?s.jsx("img",{src:o,alt:t,className:"w-full h-full object-cover"}):t}),s.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:e}),s.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&s.jsxs("div",{className:"absolute right-0 mt-3 w-56 lg:w-64 bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-700 py-3 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"px-5 py-3 border-b border-gray-50 dark:border-gray-700 bg-gray-50/30",children:[s.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",title:e,children:e}),s.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest mb-1",children:i}),s.jsx("p",{className:"text-xs text-gray-500 truncate",title:n,children:n})]}),s.jsxs("div",{className:"py-2 px-2",children:[s.jsxs(gn,{to:"/profile",onClick:()=>f(!1),className:"flex items-center gap-3 w-full text-left px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-indigo-50/50 hover:text-indigo-600 rounded-xl transition-all",children:[s.jsx(Yp,{className:"w-4 h-4"})," Profile"]}),s.jsxs(gn,{to:"/settings",onClick:()=>f(!1),className:"flex items-center gap-3 w-full text-left px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-indigo-50/50 hover:text-indigo-600 rounded-xl transition-all",children:[s.jsx(nl,{className:"w-4 h-4"})," Settings"]}),s.jsxs(gn,{to:"/help",onClick:()=>f(!1),className:"flex items-center gap-3 w-full text-left px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-indigo-50/50 hover:text-indigo-600 rounded-xl transition-all",children:[s.jsx(vv,{className:"w-4 h-4"})," Help"]})]}),s.jsx("div",{className:"border-t border-gray-50 dark:border-gray-700 my-1 mx-4"}),s.jsx("div",{className:"px-2",children:s.jsxs("button",{onClick:j,className:"flex items-center gap-3 w-full text-left px-4 py-2 text-sm font-bold text-red-600 hover:bg-red-50 rounded-xl transition-all mb-1",children:[s.jsx(tk,{className:"w-4 h-4"})," Logout"]})})]})]})}function wt({label:e,variant:t="primary",size:n="md",fullWidth:i=!1,loading:o=!1,icon:c,iconPosition:f="left",onClick:u,disabled:h=!1,type:m="button",className:p="",children:w}){const j="relative overflow-hidden font-heading font-semibold rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",y={primary:"button-gradient text-white shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 focus:ring-indigo-500 border-t border-indigo-500/50",secondary:"bg-white text-indigo-600 border-2 border-indigo-600 shadow-md hover:bg-indigo-50 hover:shadow-lg focus:ring-indigo-500",danger:"bg-gradient-to-br from-red-600 to-red-700 text-white shadow-lg shadow-red-200 hover:shadow-xl hover:shadow-red-300 hover:from-red-700 hover:to-red-800 focus:ring-red-500 border-t border-red-500/50"},A={sm:"px-3 py-1.5 text-sm",md:"px-6 py-2.5 text-base",lg:"px-8 py-3 text-lg"},T=i?"w-full":"",E=`${j} ${y[t]} ${A[n]} ${T} ${p}`.trim();return s.jsxs("button",{type:m,onClick:u,disabled:h||o,className:E,children:[s.jsx("span",{className:"absolute inset-0 bg-linear-to-br from-white/20 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),o&&s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),c&&!o&&f==="left"&&s.jsx("span",{className:"relative z-10",children:c}),(e||w)&&s.jsx("span",{className:"relative z-10",children:w||e}),c&&!o&&f==="right"&&s.jsx("span",{className:"relative z-10",children:c})]})}const n8=()=>{const[e,t]=k.useState([]),[n,i]=k.useState(!1),o=k.useRef(null),c=async()=>{try{const u=await ba.get("/api/v1/tasks/my-tasks",{withCredentials:!0});u.data.success&&t(u.data.data)}catch(u){console.error("Failed to fetch tasks",u)}};k.useEffect(()=>{c();const u=setInterval(()=>{(e.some(m=>["PENDING","IN_PROGRESS"].includes(m.status))||n)&&c()},5e3);return()=>clearInterval(u)},[e.length,n]),k.useEffect(()=>{function u(h){o.current&&!o.current.contains(h.target)&&i(!1)}return n&&document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[n]);const f=e.filter(u=>["PENDING","IN_PROGRESS"].includes(u.status)).length;return s.jsxs("div",{className:"relative",ref:o,children:[s.jsxs("button",{onClick:()=>i(!n),className:`p-2 rounded-full transition-all relative ${f>0?"bg-indigo-50 text-indigo-600":"text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,title:"Background Tasks",children:[f>0?s.jsx(Mn,{className:"w-5 h-5 animate-spin"}):s.jsx(qp,{className:"w-5 h-5"}),f>0&&s.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]}),n&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"p-3 border-b border-gray-50 bg-gray-50/50 flex justify-between items-center",children:[s.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Background Tasks"}),s.jsx("button",{onClick:c,className:"text-xs text-indigo-600 font-bold hover:underline",children:"Refresh"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400 text-xs",children:"No active background tasks"}):e.map(u=>s.jsxs("div",{className:"p-4 border-b border-gray-50 last:border-0 hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-gray-800 line-clamp-1",title:u.metadata?.templateTitle,children:u.type==="FORM_DISTRIBUTION"?"Distributing Form":"Updating Form"}),s.jsx("p",{className:"text-xs text-gray-400 font-medium",children:u.metadata?.templateTitle||"Unknown Template"})]}),u.status==="COMPLETED"&&s.jsx($p,{className:"w-4 h-4 text-emerald-500 shrink-0"}),u.status==="FAILED"&&s.jsx(ol,{className:"w-4 h-4 text-red-500 shrink-0"}),u.status==="IN_PROGRESS"&&s.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[u.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${u.status==="COMPLETED"?"bg-emerald-500":u.status==="FAILED"?"bg-red-500":"bg-indigo-500"}`,style:{width:`${u.progress}%`}})}),s.jsxs("div",{className:"flex justify-between mt-1",children:[s.jsx("span",{className:"text-[10px] text-gray-400 font-medium uppercase",children:u.status.replace("_"," ")}),s.jsx("span",{className:"text-[10px] text-gray-300 font-mono",children:new Date(u.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},u._id))})]})]})},r8=async(e=1,t=10,n=!0)=>await Gt.get("/notifications",{params:{page:e,limit:t,unreadOnly:n}}),s8=async e=>await Gt.patch(`/notifications/${e}/read`),i8=async()=>await Gt.patch("/notifications/read-all"),p0="/assets/logo2-CAi7lQt3.svg",ll=ba.create({baseURL:`${pn}/references/local`,withCredentials:!0}),sp=async(e=1,t=10,n={},i={})=>{const o={...n};Object.keys(o).forEach(u=>{const h=o[u];h!==void 0&&Array.isArray(h)&&(h.length>0?o[u]=h.join(","):delete o[u])});const c={page:e,limit:t,...o,...i};return(await ll.get("/",{params:c})).data},o8=async e=>(await ll.post("/",e)).data,ip=async e=>(await ll.get(`/${e}`)).data,l8=async()=>(await ll.get("/stats")).data,Xp=async(e,t,n,i)=>(await ll.post("/bulk-update",{ids:e,action:t,force:n,...i})).data,c8=async(e,t)=>(await ll.put(`/${e}`,t)).data,d8=async(e,t,n,i)=>(await ll.post("/issue-reminder",{referenceId:e,userIds:t,remarks:n,priority:i})).data,u8=async(e,t)=>(await ll.post(`/${e}/request-reopen`,{remarks:t})).data,Kp=async(e={})=>(await ll.get("/getFilters",{params:e})).data,bo=async e=>{const t=e.headers.get("content-type");if(!t||!t.includes("application/json")){const i=await e.text();throw console.error("Non-JSON response received:",i.slice(0,500)),new Error(`Server Error (Status ${e.status}): The server returned a non-JSON response. This usually indicates a backend crash or misconfiguration.`)}const n=await e.json();if(!e.ok)throw new Error(n.message||`API Error: ${e.statusText}`);return n},f8=async()=>{console.log("Fetching dashboard stats...");const e=new URL(`${pn}/references/global/getDashboardStats`),t=await fetch(e.toString(),{credentials:"include"});return bo(t)},Ev=async(e={})=>{console.log("Fetching reference filters...",e);const t=new URL(`${pn}/references/global/getFilters`);e.isArchived!==void 0&&t.searchParams.append("isArchived",String(e.isArchived)),e.isHidden!==void 0&&t.searchParams.append("isHidden",String(e.isHidden));const n=await fetch(t.toString(),{credentials:"include"});return bo(n)},op=async(e=1,t=10,n={},i={})=>{console.log("Fetching references with filters/sort...",{page:e,limit:t,filters:n,sort:i});const o=new URLSearchParams({page:e.toString(),limit:t.toString(),...i});Object.entries(n).forEach(([f,u])=>{u!=null&&(Array.isArray(u)?u.length>0&&o.append(f,u.join(",")):u!==""&&o.append(f,u.toString()))});const c=await fetch(`${pn}/references/global/getAllReferences?${o}`,{credentials:"include"});return bo(c)},h8=async e=>{const t=await fetch(`${pn}/references/global/createReference`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});return bo(t)},lp=async e=>{console.log("Fetching reference details from backend API..."),console.log("ID: ",e);const t=await fetch(`${pn}/references/global/getReferenceById/${e}?t=${new Date().getTime()}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return bo(t)},m8=async(e,t)=>{const n=await fetch(`${pn}/references/global/updateReference/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"});return bo(n)},Jp=async(e,t,n,i)=>{const o=await fetch(`${pn}/references/global/bulkUpdate`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:e,action:t,force:n,...i}),credentials:"include"});return bo(o)},g8=async(e,t,n,i)=>{const o=await fetch(`${pn}/references/global/issueReminder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({referenceId:e,userIds:t,remarks:n,priority:i}),credentials:"include"});return bo(o)},p8=async(e,t)=>{const n=await fetch(`${pn}/references/global/${e}/request-reopen`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({remarks:t}),credentials:"include"});return bo(n)},x8=async(e,t,n)=>{const i=await fetch(`${pn}/references/global/${e}/handle-reopen-request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,reason:n}),credentials:"include"});return bo(i)};function b8(){console.log("Rendering Header - vMobile2");const{user:e,isAuthenticated:t,login:n,logout:i,hasPermission:o,isPermissionsLoading:c}=Qa(),f=tr(),u=wr(),h=e?.status==="Approved",[m,p]=k.useState(0),[w,j]=k.useState([]),[y,A]=k.useState(null),[T,E]=k.useState(!1),[C,I]=k.useState(!1),[G,D]=k.useState(!1),te=k.useRef(null),de=k.useRef(null),Y=k.useRef(null);k.useEffect(()=>{D(!1)},[u.pathname]),k.useEffect(()=>{function B(re){te.current&&!te.current.contains(re.target)&&E(!1),de.current&&!de.current.contains(re.target)&&I(!1),Y.current&&!Y.current.contains(re.target)&&A(null)}return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const O=async()=>{if(t&&e&&h)try{const B=await r8(1,10,!0);B.data?.data&&(j(B.data.data.notifications),p(B.data.data.totalUnread))}catch(B){console.error("Error fetching notifications:",B)}};k.useEffect(()=>{O();const B=setInterval(O,6e4);return()=>clearInterval(B)},[t,e,h]);const R=()=>{T||O(),E(!T)},V=async B=>{try{if(B.isRead||(await s8(B._id),j(re=>re.filter(oe=>oe._id!==B._id)),p(re=>Math.max(0,re-1))),E(!1),B.type==="NEW_USER_APPROVAL"||B.type==="PROFILE_UPDATE")f("/users");else if(B.type==="FORM_SHARED"||B.type==="FORM_UPDATED"){const re=B.referenceId;re?f("/data-collection/shared",{state:{openFormId:re}}):f("/data-collection/shared")}else if(!B.referenceId){if(B.referenceId){if(B.referenceType==="LocalReference"){f(`/references/local/${B.referenceId}`);return}else if(B.referenceType==="GlobalReference"){f(`/references/global/${B.referenceId}`);return}try{const re=await ip(B.referenceId);if(re.success&&re.data){f(`/references/local/${B.referenceId}`);return}}catch{}try{const re=await lp(B.referenceId);if(re.success&&re.data){f(`/references/global/${B.referenceId}`);return}}catch{}Gd.error("Reference not found")}}}catch(re){console.error("Error handling notification click:",re)}},F=async B=>{if(I(!1),B!==e?.role)try{const re=await ES(B);if(re.success&&re.data){const{user:oe}=re.data;oe&&(n(oe),Gd.success(`Switched to ${B} role`),f("/"))}}catch(re){console.error("Role switch failed:",re)}},z=async()=>{try{await i8(),j([]),p(0),E(!1)}catch(B){console.error("Error marking all read:",B)}},le=!t||!e?"/":e.status!=="Approved"||!e.labName||!e.designation?"/profile":o(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)||o(xt.FEATURE_MANAGE_USERS_ALL_OFFICES)?"/users":o(xt.FEATURE_VIEW_OWN_OFFICE_SENDER)?"/references/local":o(xt.FEATURE_VIEW_INTER_OFFICE_SENDER)?"/references/global?scope=inter-lab":o(xt.FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE)||o(xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES)?"/admin/references/local":o(xt.FEATURE_MANAGE_GLOBAL_REFERENCES)?"/admin/references/global":o(xt.FEATURE_FORM_MANAGEMENT)?"/data-collection":"/profile",ae=(B=>{switch(B){case dr:return{border:"border-b border-red-500/30 shadow-[0_1px_10px_rgba(239,68,68,0.1)]",badge:"bg-red-50 text-red-600 border-red-100 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800/30"};case"Inter Lab sender":return{border:"border-b border-indigo-500/30 shadow-[0_1px_10px_rgba(79,70,229,0.1)]",badge:"bg-indigo-50 text-indigo-600 border-indigo-100 dark:bg-indigo-900/20 dark:text-indigo-400 dark:border-indigo-800/30",indicator:"bg-indigo-500"};case"Delegated Admin":return{border:"border-b border-purple-500/30 shadow-[0_1px_10px_rgba(168,85,247,0.1)]",badge:"bg-purple-50 text-purple-600 border-purple-100 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800/30",indicator:"bg-purple-500"};default:return{border:"border-b border-gray-100 dark:border-gray-800",badge:"bg-gray-50 text-gray-600 border-gray-100 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"}}})(e?.role),se=!e?.labName||!e?.designation,Z=o(xt.FEATURE_VIEW_OWN_OFFICE_SENDER),J=o(xt.FEATURE_VIEW_INTER_OFFICE_SENDER),fe=o(xt.FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE),U=o(xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES),_=o(xt.FEATURE_MANAGE_GLOBAL_REFERENCES);console.log("DEBUG HEADER:",{isAuthenticated:t,isApproved:h,isProfileIncomplete:se,hasOwnLabRef:Z,hasInterLabRef:J,permissionsCount:Qa().permissions.length,userRole:e?.role});const L=!t||!h||se?[]:[...Z||J?[{path:Z?"/references/local":"/references/global?scope=inter-lab",label:"References",icon:Sv,hasDropdown:!0,subItems:[...Z?[{label:"Local References",path:"/references/local",icon:mo}]:[],...J?[{label:"Global References",path:"/references/global?scope=inter-lab",icon:Hc}]:[],{label:"VIP References",path:"/references/vip",icon:Nv}]}]:[],...fe||U||_?[{path:fe||U?"/admin/references/local":"/admin/references/global",label:"Manage References",icon:nl,hasDropdown:!0,subItems:[...fe||U?[{label:"Local References",path:"/admin/references/local",icon:mo}]:[],..._?[{label:"Global References",path:"/admin/references/global",icon:Hc}]:[]]}]:[],...o(xt.FEATURE_FORM_MANAGEMENT)?[{path:"/data-collection/shared",label:"Data Collection",icon:jv,hasDropdown:!0,subItems:[{label:"AI Form Builder",path:"/data-collection/create",icon:po},{label:"My Distributions",path:"/data-collection/shared",icon:rf},{label:"Saved Templates",path:"/data-collection/saved",icon:$A}]}]:[],...o(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)||o(xt.FEATURE_MANAGE_USERS_ALL_OFFICES)?[{path:"/users",label:"Manage Users",icon:lo}]:[],...o(xt.FEATURE_AUDIT_TRAILS)?[{path:"/audit-trails",label:"Audit Trails",icon:tu}]:[],...o(xt.FEATURE_SYSTEM_CONFIGURATION)?[{path:"/system-settings",label:"Config",icon:nl,hasDropdown:!0,subItems:[{label:"System Config",path:"/system-settings",icon:nl},{label:"Feature Access Control",path:"/feature-permissions",icon:Zs}]}]:[]],q=B=>u.pathname===B||u.pathname.startsWith(B+"/");return console.log("NAVLINKS COMPUTED:",L),s.jsx("header",{className:`py-4 sticky top-0 z-50 backdrop-blur-xl bg-white/70 dark:bg-gray-900/70 border-b border-white/20 dark:border-gray-800/20 transition-all duration-500 ease-in-out ${t&&e&&h?ae.border:"shadow-sm"}`,children:s.jsxs("div",{className:"w-full px-3 sm:px-5 lg:px-7 flex justify-between items-center",children:[s.jsxs("div",{id:"Branding",className:"flex items-center justify-start max-w-[70%] sm:max-w-none",children:[s.jsx(gn,{to:le,className:"flex items-center",children:s.jsx("img",{className:"w-16 sm:w-20 md:w-24 object-contain",src:p0,alt:"Logo"})}),s.jsxs(gn,{to:le,className:"hidden sm:flex flex-col text-[13px] sm:text-[14px] leading-[1.2] font-heading text-gray-700 dark:text-gray-300 ml-3 border-l-2 border-gray-200 dark:border-gray-700 pl-4 hover:opacity-80 transition-opacity",children:[s.jsx("span",{className:"font-bold tracking-tight text-gray-900 dark:text-white uppercase italic",children:"      "}),s.jsx("span",{className:"font-bold tracking-tight",children:" Council of Scientific & Industrial Research"}),s.jsx("span",{className:"text-gray-400 font-medium dark:text-gray-500 text-[11px] sm:text-[12px]",children:" (Ministry of Science & Technology, Govt. of India) "})]})]}),s.jsx("nav",{id:"nav",className:"flex gap-4 sm:gap-8 items-center justify-end px-2 sm:px-6",children:t&&e&&h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden lg:flex gap-8 items-center text-sm ml-8",ref:Y,children:L.map(B=>{const re=q(B.path)||B.hasDropdown&&B.subItems?.some(Q=>q(Q.path)),oe=y===B.label;return B.hasDropdown?s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>A(oe?null:B.label),className:`flex items-center gap-1.5 py-2 font-bold transition-all duration-300 font-heading group ${re?"text-gray-900 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:[B.label,s.jsx(i2,{className:`w-4 h-4 transition-transform duration-300 ${oe?"rotate-180":""} ${re?"text-indigo-600":"text-gray-400 group-hover:text-gray-600"}`})]}),oe&&s.jsx("div",{className:"absolute left-0 mt-3 w-64 bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-700 py-3 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:s.jsx("div",{className:"py-2 px-2",children:B.subItems.map(Q=>s.jsxs(gn,{to:Q.path,onClick:()=>A(null),className:"flex items-center gap-3 w-full text-left px-5 py-3 text-[13px] font-bold text-gray-700 dark:text-gray-300 hover:bg-indigo-50/50 hover:text-indigo-600 rounded-xl transition-all",children:[s.jsx(Q.icon,{className:"w-4 h-4 shrink-0"}),Q.label]},Q.path))})})]},B.path):s.jsx(gn,{to:B.path,className:`py-2 font-bold transition-all duration-300 font-heading ${re?"text-gray-900 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:B.label},B.path)})}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 pl-2 sm:pl-6 sm:border-l sm:border-gray-100 dark:sm:border-gray-700 sm:ml-2",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsx(n8,{})}),s.jsxs("div",{className:"relative",ref:te,children:[s.jsxs("button",{type:"button",onClick:R,className:"relative p-2 text-gray-400 hover:text-indigo-600 transition-colors rounded-full hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsx(sf,{className:"w-5 h-5"}),m>0&&s.jsxs("span",{className:"absolute top-2 right-2 flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]})]}),T&&s.jsxs("div",{className:"absolute right-0 mt-3 w-72 sm:w-80 bg-white dark:bg-gray-800 rounded-2xl shadow-xl ring-1 ring-black/5 z-50 overflow-hidden border border-gray-100 dark:border-gray-700",children:[s.jsxs("div",{className:"p-4 border-b border-gray-50 dark:border-gray-700 bg-gray-50/30 dark:bg-gray-800/30 flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xs font-bold text-gray-900 dark:text-white uppercase tracking-wider",children:["Notifications",m>0&&s.jsx("span",{className:"ml-2 bg-indigo-50 dark:bg-indigo-900 text-indigo-600 text-[10px] py-0.5 px-2 rounded-full",children:m})]}),m>0&&s.jsx("button",{onClick:z,className:"text-[10px] uppercase font-bold text-indigo-600 hover:underline",children:"Clear All"})]}),s.jsx("div",{className:"max-h-96 sm:max-h-128 overflow-y-auto",children:w.length>0?s.jsx("div",{className:"divide-y divide-gray-50 dark:divide-gray-700",children:w.map(B=>s.jsx("div",{onClick:()=>V(B),className:"block p-4 hover:bg-gray-50/50 dark:hover:bg-gray-700/30 transition-colors cursor-pointer",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:B.title}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-2",children:B.message}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:new Date(B.createdAt).toLocaleDateString()})]})},B._id))}):s.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-xs",children:s.jsx("p",{children:"All caught up!"})})})]})]}),s.jsxs("div",{className:"relative hidden sm:block",ref:de,children:[s.jsxs("button",{onClick:()=>I(!C),disabled:!e.availableRoles||e.availableRoles.length<=1,className:`flex items-center gap-1 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest border shadow-sm ${ae.badge} ${e.availableRoles&&e.availableRoles.length>1?"cursor-pointer hover:opacity-80":"cursor-default"}`,children:[e.role,e.availableRoles&&e.availableRoles.length>1&&s.jsx(i2,{className:"w-3 h-3"})]}),C&&e.availableRoles&&e.availableRoles.length>1&&s.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden z-50",children:s.jsx("div",{className:"py-1",children:e.availableRoles.map(B=>s.jsx("button",{onClick:()=>F(B),className:`w-full text-left px-4 py-2 text-xs font-medium ${B===e.role?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:B},B))})})]}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(a8,{labName:e.labName||e.fullName,userInitials:e.initials,userEmail:e.email,userRole:e.role,userAvatar:e.avatar})}),s.jsx("button",{onClick:()=>D(!0),className:"lg:hidden p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-50 rounded-lg transition-all",children:s.jsx(rk,{className:"w-6 h-6"})})]})]}):t&&e&&!h?null:s.jsx(wt,{variant:"primary",onClick:()=>f("/login"),icon:s.jsx(Wp,{className:"w-4 h-4"}),children:"Login / Register"})}),G&&s.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"#ffffff",zIndex:99999,overflowY:"auto",display:"flex",flexDirection:"column"},className:"dark:bg-gray-900",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-100 dark:border-gray-800 shrink-0 bg-white dark:bg-gray-900",children:[s.jsx("span",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"Menu"}),s.jsx("button",{onClick:()=>D(!1),className:"p-2 text-gray-500 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",children:s.jsx(Dn,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 flex flex-col gap-6",children:[e&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-xl flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xl",children:e.avatar?s.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):e.initials}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:e.fullName}),s.jsx("p",{className:"text-xs text-gray-500",children:e.email}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase border ${ae.badge}`,children:e.role}),e.availableRoles&&e.availableRoles.length>1&&s.jsx("button",{onClick:()=>{const B=e.availableRoles?.find(re=>re!==e.role);B&&F(B)},className:"text-[10px] text-indigo-600 underline",children:"Switch"})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[c&&s.jsx("div",{className:"px-4 py-2 text-xs text-indigo-500 font-bold animate-pulse",children:"Syncing menu..."}),(!L||L.length===0)&&s.jsx("div",{className:"px-4 py-8 text-center text-gray-400 text-sm bg-gray-50 rounded-xl border border-dashed border-gray-200",children:"No menu items available."}),L.map(B=>{const re=q(B.path);return B.hasDropdown?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider px-2 pt-2",children:B.label}),B.subItems.map(oe=>s.jsxs(gn,{to:oe.path,onClick:()=>D(!1),className:"flex items-center gap-3 px-4 py-3 bg-gray-50 dark:bg-gray-800 rounded-xl text-sm font-medium text-gray-700 dark:text-gray-300 active:bg-indigo-50 active:text-indigo-600 transition-colors",children:[s.jsx(oe.icon,{className:"w-4 h-4"}),oe.label]},oe.path))]},B.path):s.jsxs(gn,{to:B.path,onClick:()=>D(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-colors ${re?"bg-indigo-50 text-indigo-600":"bg-gray-50 dark:bg-gray-800 text-gray-700"}`,children:[B.icon&&s.jsx(B.icon,{className:"w-4 h-4"}),B.label]},B.path)})]}),s.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-100",children:[s.jsx("button",{onClick:()=>{D(!1),f("/profile")},className:"w-full flex items-center justify-center gap-2 py-3 rounded-xl border border-gray-200 text-sm font-bold text-gray-700 hover:bg-gray-50",children:"My Profile"}),s.jsx("button",{onClick:()=>{i(),f("/logout")},className:"w-full mt-3 flex items-center justify-center gap-2 py-3 rounded-xl bg-red-50 text-red-600 text-sm font-bold hover:bg-red-100",children:"Sign Out"})]})]})]})]})})}const qn=({children:e,allowedRoles:t,requiredPermissions:n})=>{const{isAuthenticated:i,user:o,isLoading:c,isPermissionsLoading:f,hasPermission:u}=Qa(),h=wr();if(k.useEffect(()=>{const w=j=>{const y=localStorage.getItem("user");(j.persisted||!y)&&(y||window.location.reload())};return window.addEventListener("pageshow",w),()=>{window.removeEventListener("pageshow",w)}},[]),console.log("[ProtectedRoute] Rendering -",{path:h.pathname,isAuthenticated:i,isLoading:c,user:o?._id,userRole:o?.role,allowedRoles:t,requiredPermissions:n,isPending:o?.status==="Pending",isProfileIncomplete:!o?.labName||!o?.designation}),c||f)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50/50",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-sm font-medium text-slate-500 animate-pulse font-heading tracking-wide",children:c?"Verifying Session...":"Syncing Permissions..."})]})});if(!i)return console.log("[ProtectedRoute] Redirecting to /login - not authenticated"),s.jsx($r,{to:"/login",state:{from:h},replace:!0});if(t&&o&&!t.includes(o.role))return console.log("[ProtectedRoute] Redirecting to / - role mismatch"),s.jsx($r,{to:"/",replace:!0});if(n&&n.length>0&&!n.some(j=>u(j)))return console.log("[ProtectedRoute] Redirecting to / - permission denied"),s.jsx($r,{to:"/",replace:!0});const m=o?.status==="Pending",p=!o?.labName||!o?.designation;if(i&&h.pathname!=="/profile"){if(m)return console.log("[ProtectedRoute] Redirecting to /profile - pending status"),s.jsx($r,{to:"/profile",state:{message:"Your account is awaiting administrator approval. Please ensure your profile is complete."},replace:!0});if(p)return console.log("[ProtectedRoute] Redirecting to /profile - incomplete profile"),s.jsx($r,{to:"/profile",state:{message:"Please complete your profile details (Lab, Designation, etc.) and obtain administrator approval to access the portal."},replace:!0})}return e?s.jsx(s.Fragment,{children:e}):s.jsx(y3,{})};function Js({info:e,onClick:t,isActive:n,loading:i,additionalInfo:o}){return s.jsxs("div",{onClick:t,role:"button",tabIndex:0,className:`cards-gradient p-4 flex rounded-xl shadow-sm flex-col bg-white transition-all duration-300 border-2 ${n?"border-indigo-500 shadow-indigo-100 bg-indigo-50/30 scale-[1.02]":"border-transparent hover:border-gray-200 hover:bg-gray-50/50"}`,style:{cursor:"pointer"},onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),t?.())},children:[s.jsxs("span",{className:"flex justify-between h-10 items-start",children:[s.jsx("h2",{className:`text-[12px] font-medium  tracking-[0.15em] font-heading transition-colors ${n?"text-indigo-600":"text-gray-800"}`,children:e.title}),e.icon?s.jsx("div",{className:`transition-opacity ${n?"text-indigo-600":"text-gray-400"}`,children:e.icon}):s.jsx("img",{src:e.iconUrl,alt:`${e.title} icon`,className:"w-5 h-5 transition-opacity opacity-100"})]}),s.jsx("h1",{className:`text-xl font-bold font-heading tracking-tight transition-colors ${n?"text-indigo-700":"text-gray-900"}`,children:i?s.jsx("div",{className:"h-7 w-12 bg-gray-200 animate-pulse rounded-md"}):e.refcount??0}),o&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o})]})}function Qn({options:e,name:t,selectedValues:n,onChange:i,disabled:o}){const[c,f]=k.useState(!1),[u,h]=k.useState(""),[m,p]=k.useState(500),[w,j]=k.useState(!1),[y,A]=k.useState(0),T=k.useRef(null),E=D=>{D.preventDefault(),D.stopPropagation(),!o&&f(!c)},C=D=>{n.includes(D)?i(n.filter(te=>te!==D)):i([...n,D])},I=k.useMemo(()=>{const D=u.toLowerCase();return e.filter(te=>(te.label||"").toLowerCase().includes(D))},[e,u]),G=D=>{D.preventDefault(),D.stopPropagation(),j(!0),A(0),setTimeout(()=>{let te=100;const de=I.length,Y=1e3,O=()=>{te+=Y,te>=de?(p(de),A(100),setTimeout(()=>j(!1),500)):(p(te),A(Math.round(te/de*100)),setTimeout(O,20))};O()},100)};return k.useEffect(()=>{const D=te=>{T.current&&!T.current.contains(te.target)&&f(!1)};return c&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[c]),k.useEffect(()=>{c||(h(""),p(500),j(!1))},[c]),k.useEffect(()=>{p(500),j(!1)},[u]),s.jsxs("div",{className:"relative w-full text-left",ref:T,style:{zIndex:c?100:10},children:[s.jsxs("button",{type:"button",disabled:o,className:`flex items-center justify-between w-full px-4 py-2 text-sm border rounded-lg shadow-sm transition-all font-heading ${o?"bg-gray-100/50 text-gray-400 border-gray-200 cursor-not-allowed opacity-75":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}`,onClick:E,children:[s.jsx("span",{className:"flex items-center truncate",children:n.length===0?t:n.length===1?e.find(D=>D.value===n[0])?.label||t:`${t} (${n.length})`}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:`ml-2 h-4 w-4 shrink-0 transition-transform duration-200 ${c?"rotate-180":""}`,children:s.jsx("path",{d:"m6 9 6 6 6-6"})})]}),c&&s.jsxs("div",{className:"origin-top-right absolute mt-1 w-full rounded-md shadow-xl bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-1000 overflow-hidden min-w-[200px]",onClick:D=>D.stopPropagation(),onMouseDown:D=>D.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center p-3 border-b border-gray-100",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search mr-2 h-4 w-4 shrink-0 text-gray-400",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.3-4.3"})]}),s.jsx("input",{type:"text",placeholder:`Search ${t}...`,className:"w-full focus:outline-none text-sm font-sans",value:u,onChange:D=>h(D.target.value),onMouseDown:D=>D.stopPropagation()})]}),s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-50 bg-gray-50/50",children:[s.jsxs("button",{type:"button",onClick:D=>{D.stopPropagation();const te=I.map(Y=>Y.value),de=[...new Set([...n,...te])];i(de)},className:"text-[11px] font-bold text-indigo-600 hover:text-indigo-800 uppercase tracking-tight",children:["Select All ",u?"(Filtered)":""]}),s.jsx("div",{className:"w-px h-3 bg-gray-200 mx-2"}),s.jsxs("button",{type:"button",onClick:D=>{D.stopPropagation();const te=I.map(Y=>Y.value),de=n.filter(Y=>!te.includes(Y));i(de)},className:"text-[11px] font-bold text-gray-500 hover:text-gray-700 uppercase tracking-tight",children:["Deselect All ",u?"(Filtered)":""]})]}),s.jsx("div",{className:"py-1 max-h-60 overflow-y-auto",children:I.length>0?s.jsxs(s.Fragment,{children:[I.slice(0,m).map(D=>{const te=n.includes(D.value);return s.jsxs("label",{title:D.title,className:`flex items-center px-4 py-2 text-sm cursor-pointer transition-colors ${te?"text-indigo-700 bg-indigo-50/50 hover:bg-indigo-100":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx("input",{type:"checkbox",className:"mr-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:te,onChange:()=>C(D.value)}),s.jsx("span",{className:`truncate ${te?"font-semibold":""}`,children:D.label})]},D.value)}),I.length>m&&!w&&s.jsxs("div",{className:"p-4 bg-amber-50 border-t border-amber-100 space-y-2",children:[s.jsxs("div",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-widest leading-relaxed",children:["Showing ",m," of ",I.length," results."]}),s.jsx("button",{type:"button",onMouseDown:D=>D.stopPropagation(),onClick:G,className:"w-full py-2 bg-amber-600 hover:bg-amber-700 text-white text-xs font-bold rounded-lg shadow-sm transition-all active:scale-[0.98]",children:"Load All Items (Slow)"}),s.jsx("p",{className:"text-[9px] text-amber-500 font-medium italic text-center",children:"Note: Loading all records may cause temporary lag."})]}),w&&s.jsxs("div",{className:"p-4 bg-indigo-50 border-t border-indigo-100 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-[10px] font-bold text-indigo-600 uppercase tracking-widest animate-pulse",children:"Rendering List..."}),s.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 tabular-nums",children:[y,"%"]})]}),s.jsx("div",{className:"h-2 w-full bg-indigo-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-300 ease-out shadow-[0_0_8px_rgba(79,70,229,0.4)]",style:{width:`${y}%`}})})]})]}):s.jsx("div",{className:"px-4 py-8 text-sm text-gray-500 text-center italic",children:"No matches found..."})})]})]})}function Cv(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Cv(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function y8(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Cv(e))&&(i&&(i+=" "),i+=t);return i}const v8=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},w8=(e,t)=>({classGroupId:e,validator:t}),Lv=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Zh="-",d2=[],N8="arbitrary..",j8=e=>{const t=A8(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:f=>{if(f.startsWith("[")&&f.endsWith("]"))return S8(f);const u=f.split(Zh),h=u[0]===""&&u.length>1?1:0;return Rv(u,h,t)},getConflictingClassGroupIds:(f,u)=>{if(u){const h=i[f],m=n[f];return h?m?v8(m,h):h:m||d2}return n[f]||d2}}},Rv=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],c=n.nextPart.get(o);if(c){const m=Rv(e,t+1,c);if(m)return m}const f=n.validators;if(f===null)return;const u=t===0?e.join(Zh):e.slice(t).join(Zh),h=f.length;for(let m=0;m<h;m++){const p=f[m];if(p.validator(u))return p.classGroupId}},S8=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?N8+i:void 0})(),A8=e=>{const{theme:t,classGroups:n}=e;return k8(n,t)},k8=(e,t)=>{const n=Lv();for(const i in e){const o=e[i];Zp(o,n,i,t)}return n},Zp=(e,t,n,i)=>{const o=e.length;for(let c=0;c<o;c++){const f=e[c];_8(f,t,n,i)}},_8=(e,t,n,i)=>{if(typeof e=="string"){E8(e,t,n);return}if(typeof e=="function"){C8(e,t,n,i);return}L8(e,t,n,i)},E8=(e,t,n)=>{const i=e===""?t:Tv(t,e);i.classGroupId=n},C8=(e,t,n,i)=>{if(R8(e)){Zp(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(w8(n,e))},L8=(e,t,n,i)=>{const o=Object.entries(e),c=o.length;for(let f=0;f<c;f++){const[u,h]=o[f];Zp(h,Tv(t,u),n,i)}},Tv=(e,t)=>{let n=e;const i=t.split(Zh),o=i.length;for(let c=0;c<o;c++){const f=i[c];let u=n.nextPart.get(f);u||(u=Lv(),n.nextPart.set(f,u)),n=u}return n},R8=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,T8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const o=(c,f)=>{n[c]=f,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(c){let f=n[c];if(f!==void 0)return f;if((f=i[c])!==void 0)return o(c,f),f},set(c,f){c in n?n[c]=f:o(c,f)}}},cp="!",u2=":",O8=[],f2=(e,t,n,i,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:o}),M8=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=o=>{const c=[];let f=0,u=0,h=0,m;const p=o.length;for(let T=0;T<p;T++){const E=o[T];if(f===0&&u===0){if(E===u2){c.push(o.slice(h,T)),h=T+1;continue}if(E==="/"){m=T;continue}}E==="["?f++:E==="]"?f--:E==="("?u++:E===")"&&u--}const w=c.length===0?o:o.slice(h);let j=w,y=!1;w.endsWith(cp)?(j=w.slice(0,-1),y=!0):w.startsWith(cp)&&(j=w.slice(1),y=!0);const A=m&&m>h?m-h:void 0;return f2(c,y,j,A)};if(t){const o=t+u2,c=i;i=f=>f.startsWith(o)?c(f.slice(o.length)):f2(O8,!1,f,void 0,!0)}if(n){const o=i;i=c=>n({className:c,parseClassName:o})}return i},D8=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let o=[];for(let c=0;c<n.length;c++){const f=n[c],u=f[0]==="[",h=t.has(f);u||h?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(f)):o.push(f)}return o.length>0&&(o.sort(),i.push(...o)),i}},F8=e=>({cache:T8(e.cacheSize),parseClassName:M8(e),sortModifiers:D8(e),...j8(e)}),P8=/\s+/,U8=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:c}=t,f=[],u=e.trim().split(P8);let h="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{isExternal:w,modifiers:j,hasImportantModifier:y,baseClassName:A,maybePostfixModifierPosition:T}=n(p);if(w){h=p+(h.length>0?" "+h:h);continue}let E=!!T,C=i(E?A.substring(0,T):A);if(!C){if(!E){h=p+(h.length>0?" "+h:h);continue}if(C=i(A),!C){h=p+(h.length>0?" "+h:h);continue}E=!1}const I=j.length===0?"":j.length===1?j[0]:c(j).join(":"),G=y?I+cp:I,D=G+C;if(f.indexOf(D)>-1)continue;f.push(D);const te=o(C,E);for(let de=0;de<te.length;++de){const Y=te[de];f.push(G+Y)}h=p+(h.length>0?" "+h:h)}return h},B8=(...e)=>{let t=0,n,i,o="";for(;t<e.length;)(n=e[t++])&&(i=Ov(n))&&(o&&(o+=" "),o+=i);return o},Ov=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=Ov(e[i]))&&(n&&(n+=" "),n+=t);return n},z8=(e,...t)=>{let n,i,o,c;const f=h=>{const m=t.reduce((p,w)=>w(p),e());return n=F8(m),i=n.cache.get,o=n.cache.set,c=u,u(h)},u=h=>{const m=i(h);if(m)return m;const p=U8(h,n);return o(h,p),p};return c=f,(...h)=>c(B8(...h))},I8=[],Zn=e=>{const t=n=>n[e]||I8;return t.isThemeGetter=!0,t},Mv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Dv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,q8=/^\d+\/\d+$/,H8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,V8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ud=e=>q8.test(e),sa=e=>!!e&&!Number.isNaN(Number(e)),$l=e=>!!e&&Number.isInteger(Number(e)),Xm=e=>e.endsWith("%")&&sa(e.slice(0,-1)),Xo=e=>H8.test(e),Y8=()=>!0,X8=e=>$8.test(e)&&!G8.test(e),Fv=()=>!1,K8=e=>V8.test(e),J8=e=>W8.test(e),Z8=e=>!Et(e)&&!Ct(e),Q8=e=>lu(e,Bv,Fv),Et=e=>Mv.test(e),Oc=e=>lu(e,zv,X8),Km=e=>lu(e,r_,sa),h2=e=>lu(e,Pv,Fv),e_=e=>lu(e,Uv,J8),Ah=e=>lu(e,Iv,K8),Ct=e=>Dv.test(e),Zu=e=>cu(e,zv),t_=e=>cu(e,s_),m2=e=>cu(e,Pv),a_=e=>cu(e,Bv),n_=e=>cu(e,Uv),kh=e=>cu(e,Iv,!0),lu=(e,t,n)=>{const i=Mv.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},cu=(e,t,n=!1)=>{const i=Dv.exec(e);return i?i[1]?t(i[1]):n:!1},Pv=e=>e==="position"||e==="percentage",Uv=e=>e==="image"||e==="url",Bv=e=>e==="length"||e==="size"||e==="bg-size",zv=e=>e==="length",r_=e=>e==="number",s_=e=>e==="family-name",Iv=e=>e==="shadow",i_=()=>{const e=Zn("color"),t=Zn("font"),n=Zn("text"),i=Zn("font-weight"),o=Zn("tracking"),c=Zn("leading"),f=Zn("breakpoint"),u=Zn("container"),h=Zn("spacing"),m=Zn("radius"),p=Zn("shadow"),w=Zn("inset-shadow"),j=Zn("text-shadow"),y=Zn("drop-shadow"),A=Zn("blur"),T=Zn("perspective"),E=Zn("aspect"),C=Zn("ease"),I=Zn("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...D(),Ct,Et],de=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],O=()=>[Ct,Et,h],R=()=>[Ud,"full","auto",...O()],V=()=>[$l,"none","subgrid",Ct,Et],F=()=>["auto",{span:["full",$l,Ct,Et]},$l,Ct,Et],z=()=>[$l,"auto",Ct,Et],ee=()=>["auto","min","max","fr",Ct,Et],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ve=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...O()],se=()=>[Ud,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],Z=()=>[e,Ct,Et],J=()=>[...D(),m2,h2,{position:[Ct,Et]}],fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",a_,Q8,{size:[Ct,Et]}],_=()=>[Xm,Zu,Oc],L=()=>["","none","full",m,Ct,Et],q=()=>["",sa,Zu,Oc],B=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[sa,Xm,m2,h2],Q=()=>["","none",A,Ct,Et],ue=()=>["none",sa,Ct,Et],ye=()=>["none",sa,Ct,Et],ke=()=>[sa,Ct,Et],Ne=()=>[Ud,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xo],breakpoint:[Xo],color:[Y8],container:[Xo],"drop-shadow":[Xo],ease:["in","out","in-out"],font:[Z8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xo],shadow:[Xo],spacing:["px",sa],text:[Xo],"text-shadow":[Xo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ud,Et,Ct,E]}],container:["container"],columns:[{columns:[sa,Et,Ct,u]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[$l,"auto",Ct,Et]}],basis:[{basis:[Ud,"full","auto",u,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[sa,Ud,"auto","initial","none",Et]}],grow:[{grow:["",sa,Ct,Et]}],shrink:[{shrink:["",sa,Ct,Et]}],order:[{order:[$l,"first","last","none",Ct,Et]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...ve()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ve(),"baseline"]}],"place-self":[{"place-self":["auto",...ve()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[u,"screen",...se()]}],"min-w":[{"min-w":[u,"screen","none",...se()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[f]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",n,Zu,Oc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ct,Km]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xm,Et]}],"font-family":[{font:[t_,Et,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ct,Et]}],"line-clamp":[{"line-clamp":[sa,"none",Ct,Km]}],leading:[{leading:[c,...O()]}],"list-image":[{"list-image":["none",Ct,Et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ct,Et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[sa,"from-font","auto",Ct,Oc]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[sa,"auto",Ct,Et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct,Et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct,Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:fe()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$l,Ct,Et],radial:["",Ct,Et],conic:[$l,Ct,Et]},n_,e_]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:_()}],"gradient-via-pos":[{via:_()}],"gradient-to-pos":[{to:_()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[sa,Ct,Et]}],"outline-w":[{outline:["",sa,Zu,Oc]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",p,kh,Ah]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",w,kh,Ah]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[sa,Oc]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",j,kh,Ah]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[sa,Ct,Et]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[sa]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[Ct,Et]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[sa]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:fe()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ct,Et]}],filter:[{filter:["","none",Ct,Et]}],blur:[{blur:Q()}],brightness:[{brightness:[sa,Ct,Et]}],contrast:[{contrast:[sa,Ct,Et]}],"drop-shadow":[{"drop-shadow":["","none",y,kh,Ah]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",sa,Ct,Et]}],"hue-rotate":[{"hue-rotate":[sa,Ct,Et]}],invert:[{invert:["",sa,Ct,Et]}],saturate:[{saturate:[sa,Ct,Et]}],sepia:[{sepia:["",sa,Ct,Et]}],"backdrop-filter":[{"backdrop-filter":["","none",Ct,Et]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[sa,Ct,Et]}],"backdrop-contrast":[{"backdrop-contrast":[sa,Ct,Et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",sa,Ct,Et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[sa,Ct,Et]}],"backdrop-invert":[{"backdrop-invert":["",sa,Ct,Et]}],"backdrop-opacity":[{"backdrop-opacity":[sa,Ct,Et]}],"backdrop-saturate":[{"backdrop-saturate":[sa,Ct,Et]}],"backdrop-sepia":[{"backdrop-sepia":["",sa,Ct,Et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ct,Et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[sa,"initial",Ct,Et]}],ease:[{ease:["linear","initial",C,Ct,Et]}],delay:[{delay:[sa,Ct,Et]}],animate:[{animate:["none",I,Ct,Et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Ct,Et]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[Ct,Et,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct,Et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct,Et]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[sa,Zu,Oc,Km]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},o_=z8(i_);function g2(e){return e==="createdAt"?"Created On":e==="daysSinceCreated"?"Days Pending":e.replace(/([A-Z])/g," $1").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function l_(e,t){return e.map(n=>{const i={...n};return t.forEach(o=>{delete i[o]}),i})}function du(...e){return o_(y8(e))}function kf({rows:e,visibleColumns:t,customRenderers:n,customHeaderRenderers:i,onSort:o,sortConfig:c,columnWidths:f}){const[u]=k.useState({}),[h,m]=k.useState(null),p=c!==void 0?c:h,w=e?.length?Object.keys(e[0]):[],j=t||w,y=e.filter(E=>j.every(C=>{const I=u[C];return I?(E[C]?.toString().toLowerCase()).includes(I.toLowerCase()):!0})),A=k.useMemo(()=>o||!p?y:[...y].sort((C,I)=>{const G=C[p.key],D=I[p.key];return G<D?p.direction==="asc"?-1:1:G>D?p.direction==="asc"?1:-1:0}),[y,p,o]),T=E=>{let C="asc";p&&p.key===E&&p.direction==="asc"&&(C="desc"),o?o(E,C):m({key:E,direction:C})};return s.jsx("div",{className:"w-full overflow-x-auto rounded-xl border border-gray-200 shadow-sm",children:s.jsxs("table",{className:"w-full min-w-[1000px] table-fixed bg-white",children:[s.jsx("colgroup",{children:j.map(E=>s.jsx("col",{style:{width:f?.[E]||(E==="selection"?"48px":"auto")}},E))}),s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsx("tr",{children:j.map(E=>{const C=E==="selection";return s.jsx("th",{className:`py-4 px-3 transition-colors truncate align-middle ${C?"text-center":"text-left"} group overflow-hidden ${C?"":"cursor-pointer hover:bg-gray-200"}`,onClick:()=>!C&&T(E),title:C?void 0:g2(E),children:s.jsxs("div",{className:`flex items-center ${C?"justify-center":"gap-2"} text-[13px] font-regular text-gray-800  tracking-widest font-heading`,children:[s.jsx("span",{className:C?"":"truncate",children:i&&i[E]?i[E]():g2(E)}),!C&&(!i||!i[E])&&s.jsx("span",{className:"opacity-50 group-hover:opacity-100 transition-opacity text-gray-600 ",children:""})]})},E)})})}),s.jsx("tbody",{children:A.map((E,C)=>s.jsx("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50 transition-colors last:border-b-0",children:j.map(I=>s.jsx("td",{className:"px-3 py-4 align-middle truncate text-sm text-gray-700 max-w-0",title:n?.[I]?void 0:String(E[I]||""),children:n&&n[I]?n[I](E):typeof E[I]=="boolean"?E[I]?"Yes":"No":E[I]},I))},C))})]})})}const _f=async()=>{try{return(await Gt.get("/system-config")).data}catch(e){throw e}},c_=async e=>{try{return(await Gt.put("/system-config",e)).data}catch(t){throw t}},ur=({id:e,label:t,icon:n,className:i="",...o})=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{htmlFor:e,className:"block text-[10px] font-bold text-gray-400 tracking-wider mb-1.5 ml-0.5 font-heading",children:[t," ",o.required&&s.jsx("span",{className:"text-red-500 ml-0.5",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none text-gray-300",children:n}),s.jsx("input",{id:e,...o,className:`w-full pl-11 pr-4 py-2 border border-gray-100 rounded-xl shadow-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-500/20 transition-all duration-200 text-sm placeholder:text-gray-300 text-gray-700 ${i}`})]})]});function er({options:e,placeholder:t,selectedValue:n,onChange:i,disabled:o=!1}){const[c,f]=k.useState(!1),[u,h]=k.useState(""),[m,p]=k.useState(500),[w,j]=k.useState(!1),[y,A]=k.useState(0),T=k.useRef(null),E=k.useRef(null),[C,I]=k.useState({top:0,left:0,width:0,maxHeight:300}),G=O=>{if(O.preventDefault(),O.stopPropagation(),!o){if(!c&&T.current){const R=T.current.getBoundingClientRect(),F=window.innerHeight-R.bottom-10,z=Math.max(100,Math.min(F,300));I({top:R.bottom,left:R.left,width:R.width,maxHeight:z})}f(!c)}},D=O=>{i(O),f(!1),h("")},te=k.useMemo(()=>{const O=u.toLowerCase();return e.filter(R=>R.label.toLowerCase().includes(O))},[e,u]),de=O=>{O.preventDefault(),O.stopPropagation(),j(!0),A(0),setTimeout(()=>{let R=100;const V=te.length,F=1e3,z=()=>{R+=F,R>=V?(p(V),A(100),setTimeout(()=>j(!1),500)):(p(R),A(Math.round(R/V*100)),setTimeout(z,20))};z()},100)};k.useEffect(()=>{if(c){const O=V=>{E.current&&E.current.contains(V.target)||f(!1)},R=()=>f(!1);return window.addEventListener("resize",R),window.addEventListener("scroll",O,!0),()=>{window.removeEventListener("resize",R),window.removeEventListener("scroll",O,!0)}}},[c]),k.useEffect(()=>{c||(h(""),p(500),j(!1))},[c]),k.useEffect(()=>{p(500),j(!1)},[u]);const Y=k.useMemo(()=>e.find(O=>O.value===n),[e,n]);return s.jsxs("div",{className:"relative w-full",ref:T,children:[s.jsxs("button",{type:"button",disabled:o,className:`flex items-center justify-between w-full px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${o?"bg-gray-100 cursor-not-allowed text-gray-500":"hover:bg-gray-50"}`,onClick:G,children:[s.jsx("span",{className:"truncate block",children:Y?Y.label:s.jsx("span",{className:"text-gray-500",children:t})}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`ml-2 h-4 w-4 shrink-0 text-gray-400 transition-transform duration-200 ${c?"rotate-180":""}`,children:s.jsx("path",{d:"m6 9 6 6 6-6"})})]}),c&&tj.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-[9998] bg-transparent",onMouseDown:()=>f(!1)}),s.jsxs("div",{ref:E,className:"fixed z-[9999] bg-white rounded-lg shadow-xl border border-gray-200 ring-1 ring-black ring-opacity-5 flex flex-col overflow-hidden animate-fade-in text-left",style:{top:C.top,left:C.left,width:C.width,maxHeight:`${C.maxHeight}px`},children:[s.jsxs("div",{className:"flex items-center p-3 border-b border-gray-100 bg-gray-50",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search mr-2 h-4 w-4 shrink-0 text-gray-400",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.3-4.3"})]}),s.jsx("input",{type:"text",placeholder:"Search...",className:"w-full focus:outline-none text-sm font-sans bg-transparent",value:u,onChange:O=>h(O.target.value),autoFocus:!0})]}),s.jsxs("div",{className:"overflow-auto flex-1 p-1 dropdown-scrollbar-forced pointer-events-auto",children:[s.jsx("style",{children:`
                            .dropdown-scrollbar-forced::-webkit-scrollbar {
                                width: 12px;
                                height: 12px;
                            }
                            .dropdown-scrollbar-forced::-webkit-scrollbar-track {
                                background: #f1f5f9;
                                border-radius: 4px;
                            }
                            .dropdown-scrollbar-forced::-webkit-scrollbar-thumb {
                                background-color: #94a3b8;
                                border: 2px solid #f1f5f9;
                                border-radius: 8px;
                            }
                            .dropdown-scrollbar-forced::-webkit-scrollbar-thumb:hover {
                                background-color: #64748b;
                            }
                            .dropdown-scrollbar-forced::-webkit-scrollbar-corner {
                                background: transparent;
                            }
                            /* Firefox fallback */
                            .dropdown-scrollbar-forced {
                                scrollbar-width: auto;
                                scrollbar-color: #94a3b8 #f1f5f9;
                            }
                        `}),te.length>0?s.jsxs(s.Fragment,{children:[Y&&te.some(O=>O.value===n)&&s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-sm rounded-md cursor-pointer bg-indigo-50 text-indigo-700 font-medium border-b border-indigo-100/50 mb-1",onClick:()=>D(Y.value),children:[s.jsx("span",{className:"truncate mr-2",children:Y.label}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-indigo-600 shrink-0",children:s.jsx("polyline",{points:"20 6 9 17 4 12"})})]},Y.value),te.filter(O=>O.value!==n).slice(0,m).map(O=>s.jsx("div",{className:"px-3 py-2 text-sm rounded-md cursor-pointer text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>D(O.value),children:s.jsx("span",{className:"truncate",children:O.label})},O.value)),te.length>m&&!w&&s.jsxs("div",{className:"p-3 bg-amber-50 border-t border-amber-100 space-y-2 mt-1 rounded-b-lg",children:[s.jsxs("div",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-widest",children:["Showing ",m," of ",te.length," results."]}),s.jsx("button",{type:"button",onClick:de,className:"w-full py-2 bg-amber-600 hover:bg-amber-700 text-white text-xs font-bold rounded-lg shadow-sm transition-all active:scale-[0.98]",children:"Load All Items (Slow)"})]}),w&&s.jsxs("div",{className:"p-3 bg-indigo-50 border-t border-indigo-100 space-y-2 mt-1 rounded-b-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-[10px] font-bold text-indigo-600 uppercase tracking-widest animate-pulse",children:"Rendering List..."}),s.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 tabular-nums",children:[y,"%"]})]}),s.jsx("div",{className:"h-1.5 w-full bg-indigo-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-300 ease-out shadow-[0_0_8px_rgba(79,70,229,0.4)]",style:{width:`${y}%`}})})]})]}):s.jsx("div",{className:"px-4 py-8 text-sm text-gray-500 text-center italic",children:"No results found"})]})]})]}),document.body)]})}const d_=({isOpen:e,onClose:t,onSuccess:n})=>{const{user:i,permissions:o}=Qa(),[c,f]=k.useState(""),[u,h]=k.useState(""),[m,p]=k.useState([]),[w,j]=k.useState("Open"),[y,A]=k.useState("Medium"),[T,E]=k.useState(""),[C,I]=k.useState("Eoffice"),[G,D]=k.useState(""),[te,de]=k.useState(new Date().toISOString().split("T")[0]),[Y,O]=k.useState(""),[R,V]=k.useState(!1),[F,z]=k.useState(null),[ee,le]=k.useState(150),ve=m.filter(L=>{const B=o.find(ye=>ye.feature===xt.FEATURE_VIEW_INTER_OFFICE_SENDER)?.roles||[],re=L.availableRoles?.some(ye=>B.includes(ye)),oe=i?._id&&L._id&&String(L._id)===String(i._id),Q=i?.email&&L.email&&L.email.toLowerCase()===i.email.toLowerCase(),ue=L.role===dr;return re&&!oe&&!Q&&!ue}),ae=Array.from(new Set(ve.map(L=>L.labName).filter(Boolean))).sort(),se=Y?ve.filter(L=>L.labName===Y):[];if(k.useEffect(()=>{e&&(async()=>{try{const[q,B]=await Promise.all([ou(1,1e3),_f()]);if(q.success){let re=Array.isArray(q.data)?q.data:q.data?.users||[];re=re.map(oe=>({...oe,_id:oe._id||oe.id})),p(re)}if(B.success&&B.data){const re=B.data.REMARKS_WORD_LIMIT;re&&le(Number(re))}}catch(q){console.error("Failed to fetch data for AddReferenceModal",q)}})()},[e]),!e)return null;const Z=L=>L.trim().split(/\s+/).filter(Boolean).length,J=L=>{const q=L.target.value;h(q)},fe=()=>C==="Eoffice"?"Issue No.":"Sent To",U=()=>C==="Eoffice"?"Enter e-office issue no.":C==="Email"?"Enter recipient email/name":"Enter recipient address/name",_=async L=>{L.preventDefault(),z(null),V(!0);const q=ee*50;if(u.length>q){z({type:"error",text:`Remarks cannot exceed ${q} characters`}),V(!1);return}if(Z(u)>ee){z({type:"error",text:`Remarks cannot exceed ${ee} words`}),V(!1);return}if(!G.trim()){z({type:"error",text:`${fe()} is required`}),V(!1);return}if(G.length>60){z({type:"error",text:`${fe()} cannot exceed 60 characters`}),V(!1);return}if(!te){z({type:"error",text:"Sent Date is required"}),V(!1);return}if(T&&i?._id&&String(T)===String(i._id)){z({type:"error",text:"You cannot mark a reference to yourself"}),V(!1);return}try{const B=await h8({subject:c,remarks:u,status:w,priority:y,markedTo:T,deliveryMode:C,deliveryDetails:G,sentAt:te,tags:[]});B.success?(z({type:"success",text:"Reference added successfully"}),f(""),h(""),j("Open"),A("Medium"),E(""),I("Eoffice"),D(""),de(new Date().toISOString().split("T")[0]),O(""),setTimeout(()=>{n(),t(),z(null)},1500)):z({type:"error",text:B.message||"Failed to add reference"})}catch(B){z({type:"error",text:B.message||"An unexpected error occurred"})}finally{V(!1)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in text-left",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl mx-4 overflow-hidden animate-scale-in border border-indigo-100 flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-indigo-50/50",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-indigo-900 font-heading flex items-center gap-2",children:[s.jsx(Hc,{className:"w-6 h-6 text-indigo-600"}),"Add Global Reference"]}),s.jsx("p",{className:"text-xs text-indigo-600 font-heading",children:"Cross-lab collaboration"})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white rounded-full transition-colors text-indigo-400",children:s.jsx(Dn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[F&&s.jsx("div",{className:`mb-4 p-3 rounded-xl text-sm font-medium border ${F.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:F.text}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsx(ur,{id:"subject",label:"Subject",type:"text",value:c,onChange:L=>f(L.target.value),placeholder:"Enter subject",icon:s.jsx(Tr,{className:"w-4 h-4 text-indigo-400"}),required:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"deliveryMode",className:"block text-sm font-semibold text-gray-700 font-heading",children:["Mode Sent ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsxs("select",{id:"deliveryMode",value:C,onChange:L=>I(L.target.value),className:"w-full px-4 h-10 border border-gray-100 rounded-xl focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-200 outline-none transition-all bg-white font-heading text-sm",children:[s.jsx("option",{value:"Eoffice",children:"Eoffice"}),s.jsx("option",{value:"Email",children:"Email"}),s.jsx("option",{value:"Physical",children:"Physical"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"deliveryDetails",className:"block text-sm font-semibold text-gray-700 font-heading",children:[fe()," ",s.jsx("span",{className:"text-rose-500",children:"*"}),s.jsx("span",{className:`text-[10px] ml-1 uppercase font-bold tracking-wider ${G.length>60?"text-rose-500":"text-gray-400"}`,children:"(Max 60 chars)"})]}),s.jsx("input",{id:"deliveryDetails",type:"text",value:G,onChange:L=>D(L.target.value),className:`w-full px-4 h-10 border rounded-xl focus:ring-4 outline-none transition-all font-heading text-sm ${G.length>60?"border-rose-200 focus:ring-rose-500/5 text-rose-600":"border-gray-100 focus:ring-indigo-500/5 focus:border-indigo-200"}`,placeholder:U(),required:!0})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"sentDate",className:"block text-sm font-semibold text-gray-700 font-heading",children:["Sent Date ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsx("input",{id:"sentDate",type:"date",value:te,onChange:L=>de(L.target.value),className:"w-full px-4 h-10 border border-gray-100 rounded-xl focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-200 outline-none transition-all bg-white font-heading text-sm",required:!0})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"remarks",className:"text-sm font-semibold text-gray-700 flex justify-between font-heading",children:[s.jsxs("span",{children:["Remarks ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsxs("span",{className:`text-[10px] uppercase font-bold tracking-wider ${Z(u)>ee?"text-rose-500":"text-gray-400"}`,children:[Z(u)," / ",ee," words"]})]}),s.jsx("textarea",{id:"remarks",value:u,onChange:J,className:`w-full px-4 py-2 border rounded-xl focus:ring-4 outline-none transition-all resize-none h-24 font-heading text-sm ${Z(u)>ee?"border-rose-200 focus:ring-rose-500/5 text-rose-600":"border-gray-100 focus:ring-indigo-500/5 focus:border-indigo-200"}`,placeholder:"Enter detailed remarks",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-gray-700 font-heading",children:"Status"}),s.jsx("select",{id:"status",value:w,disabled:!0,className:"w-full px-4 h-10 border border-gray-100 rounded-xl focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-200 outline-none transition-all bg-gray-50 cursor-not-allowed opacity-70 font-heading text-sm",children:s.jsx("option",{value:"Open",children:"Open"})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"priority",className:"block text-sm font-semibold text-gray-700 font-heading",children:["Priority ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsxs("select",{id:"priority",value:y,onChange:L=>A(L.target.value),className:"w-full px-4 h-10 border border-gray-100 rounded-xl focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-200 outline-none transition-all bg-white font-heading text-sm",children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"lab",className:"block text-sm font-semibold text-gray-700 font-heading",children:["Select Lab / Unit ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsx(er,{placeholder:"Select Lab",options:ae.map(L=>({label:L,value:L})),selectedValue:Y,onChange:L=>{O(L),E("")}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"markedTo",className:"block text-sm font-semibold text-gray-700 font-heading",children:["Marked To (User) ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsx(er,{placeholder:Y?"Select a user":"Select Lab first",options:se.map(L=>({label:`${L.fullName||L.email.split("@")[0]}${L.designation?`, ${L.designation}`:""} (${L.email})`,value:L._id})),selectedValue:T,onChange:L=>E(L),disabled:!Y})]})]}),s.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-6 h-10 text-gray-400 hover:text-gray-600 font-bold text-xs uppercase tracking-widest transition-colors font-heading",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:R||!T,className:"w-full sm:w-auto px-8 h-10 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-500/20 font-bold text-xs uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-heading",children:[R?s.jsx(Mn,{className:"w-4 h-4 animate-spin"}):s.jsx(go,{className:"w-4 h-4"}),"Save Reference"]})]})]})]})]})})},uu=({allColumns:e,visibleColumns:t,onChange:n})=>{const[i,o]=k.useState(!1),c=k.useRef(null),f=()=>o(!i),u=h=>{let m;if(t.includes(h)){if(t.length<=1)return;m=t.filter(w=>w!==h)}else m=[...t,h];const p=e.filter(w=>m.includes(w));n(p)};return k.useEffect(()=>{const h=m=>{c.current&&!c.current.contains(m.target)&&o(!1)};return i&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[i]),s.jsxs("div",{className:"relative inline-block text-left",ref:c,children:[s.jsxs("button",{type:"button",className:"inline-flex items-center justify-between w-full h-10 rounded-xl border border-gray-100 shadow-sm px-3 bg-white text-xs font-medium text-gray-500 hover:bg-gray-50 hover:border-gray-200 transition-all font-heading",onClick:f,title:"View Columns",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nl,{className:"w-4 h-4"}),s.jsx("span",{children:"View"})]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:`ml-2 h-4 w-4 transition-transform duration-200 ${i?"rotate-180":""}`,children:s.jsx("path",{d:"m6 9 6 6 6-6"})})]}),i&&s.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-20 animate-scale-in",children:s.jsxs("div",{className:"py-1 max-h-96 overflow-y-auto",children:[s.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-100",children:"Toggle Columns"}),e.map(h=>s.jsxs("label",{className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer select-none transition-colors",children:[s.jsxs("div",{className:`w-5 h-5 mr-3 border rounded flex items-center justify-center transition-all ${t.includes(h)?"bg-indigo-600 border-indigo-600":"border-gray-300 bg-white"}`,children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:t.includes(h),onChange:()=>u(h)}),t.includes(h)&&s.jsx(nA,{className:"w-3.5 h-3.5 text-white"})]}),s.jsx("span",{className:"capitalize",children:h==="refId"?"Ref ID":h.replace(/([A-Z])/g," $1").trim()})]},h))]})})]})};function x0({data:e,renderItem:t,keyExtractor:n,emptyMessage:i="No items found."}){return!e||e.length===0?s.jsx("div",{className:"md:hidden p-8 text-center text-gray-500 bg-white rounded-xl border border-gray-100",children:i}):s.jsx("div",{className:"md:hidden space-y-4",children:e.map(o=>s.jsx("div",{children:t(o)},n(o)))})}const b0=({data:e,isSelected:t,onToggleSelect:n,linkBaseUrl:i,showLabName:o=!1,statusRenderer:c,disableSelection:f=!1,additionalInfo:u})=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:t,onChange:n,disabled:f,className:`w-5 h-5 rounded border-gray-300 ${f?"opacity-30 cursor-not-allowed bg-gray-100":"text-indigo-600 focus:ring-indigo-500"}`}),s.jsxs("div",{children:[s.jsx(gn,{to:`${i}/${e._id}`,className:"text-indigo-600 font-bold text-sm hover:underline font-heading block",children:e.refId}),s.jsx("span",{className:"text-xs text-gray-400 font-heading",children:new Date(e.createdAt).toLocaleDateString()})]})]}),s.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[10px] font-bold uppercase tracking-wider font-heading ${c(e.status)}`,children:e.status})]}),s.jsxs("div",{children:[s.jsx(gn,{to:`${i}/${e._id}`,className:"font-semibold text-gray-900 font-heading line-clamp-2 mb-1 hover:text-indigo-600",children:e.subject}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.priority&&s.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Priority: ",e.priority]}),o&&e.labName&&s.jsxs("span",{className:"text-xs font-bold text-gray-500 uppercase font-heading",children:["| ",e.labName]})]}),u&&s.jsx("div",{className:"mt-2 text-xs text-gray-600 space-y-1 pt-2 border-t border-gray-50 border-dashed",children:u})]}),(e.isHidden||e.isArchived)&&s.jsxs("div",{className:"flex gap-3 pt-2 border-t border-gray-50",children:[e.isHidden&&s.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] text-orange-600 font-bold uppercase font-heading",children:[s.jsx(ho,{className:"w-3 h-3"})," Hidden"]}),e.isArchived&&s.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] text-gray-500 font-bold uppercase font-heading",children:[s.jsx(Gr,{className:"w-3 h-3"})," Archived"]})]})]}),Ef=({isOpen:e,onClose:t,userId:n})=>{const[i,o]=k.useState(null),[c,f]=k.useState(!0),[u,h]=k.useState(null);return k.useEffect(()=>{e&&n?(async()=>{f(!0),h(null);try{const p=await gv(n);p.success?o(p.data):h(p.message||"Failed to load user profile")}catch{h("An error occurred while fetching user profile")}finally{f(!1)}})():e||o(null)},[e,n]),e?s.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center p-4 bg-black/40 backdrop-blur-[2px] animate-in fade-in duration-200",onClick:m=>m.target===m.currentTarget&&t(),children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"relative h-20 bg-linear-to-r from-indigo-600 to-indigo-500 shrink-0",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors z-10",children:s.jsx(Dn,{className:"w-4 h-4"})}),s.jsx("div",{className:"absolute -bottom-8 left-8",children:s.jsx("div",{className:"w-18 h-18 rounded-2xl bg-white p-1 shadow-xl shadow-indigo-500/10 overflow-hidden",children:s.jsx("div",{className:"w-full h-full rounded-xl bg-indigo-50 flex items-center justify-center text-indigo-600 text-xl font-bold font-heading overflow-hidden",children:i?.avatar?s.jsx("img",{src:i.avatar,alt:i.fullName,className:"w-full h-full object-cover"}):i?.fullName?.charAt(0)||s.jsx(Yp,{className:"w-7 h-7"})})})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto pt-10 pb-4 px-8 space-y-4",children:c?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10 space-y-4",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-500 font-heading text-xs font-bold tracking-wider opacity-50",children:"Fetching Details"})]}):u?s.jsxs("div",{className:"text-center py-10",children:[s.jsx("p",{className:"text-rose-500 font-heading font-semibold mb-4",children:u}),s.jsx("button",{onClick:t,className:"text-xs font-bold text-indigo-600 tracking-wider hover:underline",children:"Go Back"})]}):i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 font-heading truncate",children:i.fullName}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1.5",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[9px] font-bold tracking-wider border ${i.status==="Approved"?"bg-emerald-50 text-emerald-700 border-emerald-100":i.status==="Pending"?"bg-amber-50 text-amber-700 border-amber-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:i.status}),s.jsx("span",{className:"px-2 py-0.5 rounded-lg text-[9px] font-bold bg-indigo-50 text-indigo-700 border border-indigo-100 tracking-wider",children:i.role}),i.availableRoles?.filter(m=>m!==i.role).map((m,p)=>s.jsx("span",{className:"px-2 py-0.5 rounded-lg text-[9px] font-bold bg-gray-50 text-gray-600 border border-gray-200 tracking-wider",children:m},p))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"group",children:[s.jsx("p",{className:"text-[9px] font-bold text-gray-400 tracking-wider mb-1 pl-1",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl bg-gray-50 border border-gray-100/80 transition-all",children:[s.jsx("div",{className:"shrink-0 w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm border border-gray-100",children:s.jsx(eu,{className:"w-4 h-4 text-indigo-500"})}),s.jsx("p",{className:"text-sm font-semibold text-gray-700 font-heading truncate",children:i.email})]})]}),s.jsxs("div",{className:"group",children:[s.jsx("p",{className:"text-[9px] font-bold text-gray-400 tracking-wider mb-1 pl-1",children:"Lab name"}),s.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl bg-gray-50 border border-gray-100/80 transition-all",children:[s.jsx("div",{className:"shrink-0 w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm border border-gray-100",children:s.jsx(FA,{className:"w-4 h-4 text-indigo-500"})}),s.jsx("p",{className:"text-sm font-semibold text-gray-700 font-heading truncate",children:i.labName||"N/A"})]})]}),s.jsxs("div",{className:"group",children:[s.jsx("p",{className:"text-[9px] font-bold text-gray-400 tracking-wider mb-1 pl-1",children:"Designation"}),s.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl bg-gray-50 border border-gray-100/80 transition-all",children:[s.jsx("div",{className:"shrink-0 w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm border border-gray-100",children:s.jsx(XS,{className:"w-4 h-4 text-indigo-500"})}),s.jsx("p",{className:"text-sm font-semibold text-gray-700 font-heading truncate",children:i.designation||"N/A"})]})]}),s.jsxs("div",{className:"group",children:[s.jsx("p",{className:"text-[9px] font-bold text-gray-400 tracking-wider mb-1 pl-1",children:"Division"}),s.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl bg-gray-50 border border-gray-100/80 transition-all",children:[s.jsx("div",{className:"shrink-0 w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm border border-gray-100",children:s.jsx(mo,{className:"w-4 h-4 text-indigo-500"})}),s.jsx("p",{className:"text-sm font-semibold text-gray-700 font-heading truncate",children:i.division||"N/A"})]})]}),s.jsxs("div",{className:"group",children:[s.jsx("p",{className:"text-[9px] font-bold text-gray-400 tracking-wider mb-1 pl-1",children:"Mobile No"}),s.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl bg-gray-50 border border-gray-100/80 transition-all",children:[s.jsx("div",{className:"shrink-0 w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm border border-gray-100",children:s.jsx("svg",{className:"w-4 h-4 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),s.jsx("p",{className:"text-sm font-semibold text-gray-700 font-heading truncate",children:i.mobileNo||"N/A"})]})]})]})]}):null}),s.jsx("div",{className:"px-8 py-3 bg-gray-50/50 border-t border-gray-100 flex flex-col sm:flex-row justify-end shrink-0 gap-3",children:s.jsx("button",{onClick:t,className:"w-full sm:w-auto px-6 py-2 bg-white border border-gray-200 rounded-xl text-[10px] font-bold text-gray-500 hover:text-gray-900 shadow-sm hover:shadow-md transition-all font-heading tracking-wider",children:"Dismiss"})})]})}):null},u_=({isOpen:e,onClose:t,onSuccess:n,selectedIds:i})=>{const{user:o,permissions:c}=Qa(),[f,u]=k.useState([]),[h,m]=k.useState(""),[p,w]=k.useState(""),[j,y]=k.useState(""),[A,T]=k.useState(!1),[E,C]=k.useState(null),I=f.filter(de=>{const O=c.find(ee=>ee.feature===xt.FEATURE_VIEW_INTER_OFFICE_SENDER)?.roles||[],R=de.availableRoles?.some(ee=>O.includes(ee)),V=o?._id&&de._id&&String(de._id)===String(o._id),F=o?.email&&de.email&&de.email.toLowerCase()===o.email.toLowerCase(),z=de.role===dr;return R&&!V&&!F&&!z}),G=Array.from(new Set(I.map(de=>de.labName).filter(Boolean))).sort(),D=j?I.filter(de=>{if(de.labName!==j)return!1;const O=c.find(R=>R.feature===xt.FEATURE_VIEW_INTER_OFFICE_SENDER)?.roles||[];return de.availableRoles?.some(R=>O.includes(R))}):[];k.useEffect(()=>{e&&(async()=>{try{const Y=await ou(1,1e3);if(Y.success){let O=Array.isArray(Y.data)?Y.data:Y.data?.users||[];O=O.map(R=>({...R,_id:R._id||R.id})),u(O)}}catch(Y){console.error("Failed to fetch users",Y)}})()},[e]);const te=async de=>{if(de.preventDefault(),C(null),T(!0),!h){C({type:"error",text:"Please select a user to assign references to."}),T(!1);return}try{const Y=await Jp(i,"assign",!1,{assignTo:h,remarks:p});Y.success?(C({type:"success",text:"References reassigned successfully"}),setTimeout(()=>{n(),t(),C(null),m(""),w(""),y("")},1500)):C({type:"error",text:Y.message||"Failed to update references"})}catch(Y){C({type:"error",text:Y.message||"An unexpected error occurred"})}finally{T(!1)}};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in text-left",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg mx-4 overflow-hidden animate-scale-in border border-indigo-100 flex flex-col",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-indigo-50/50",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-indigo-900 font-heading flex items-center gap-2",children:[s.jsx(lo,{className:"w-6 h-6 text-indigo-600"}),"Bulk Assign References"]}),s.jsxs("p",{className:"text-xs text-indigo-600 font-heading",children:["Reassign ",i.length," reference",i.length!==1?"s":""]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white rounded-full transition-colors text-indigo-400",children:s.jsx(Dn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[E&&s.jsx("div",{className:`mb-4 p-3 rounded-xl text-sm font-medium border ${E.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:E.text}),s.jsxs("form",{onSubmit:te,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 font-heading",children:["Select Lab / Institution ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsx(er,{placeholder:"Select Lab",options:G.map(de=>({label:de,value:de})),selectedValue:j,onChange:de=>{y(de),m("")}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 font-heading",children:["Assign To (User) ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsx(er,{placeholder:j?"Select a user":"Select Lab first",options:D.map(de=>({label:`${de.fullName||de.email.split("@")[0]}${de.designation?`, ${de.designation}`:""} (${de.email})`,value:de._id})),selectedValue:h,onChange:de=>m(de),disabled:!j})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 font-heading",children:"Remarks (Optional)"}),s.jsx("textarea",{className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 font-heading resize-none h-20",placeholder:"Enter remarks (default: Forwarded for consideration/perusal/necessary action please)",value:p,onChange:de=>w(de.target.value)})]}),s.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-6 h-10 text-gray-400 hover:text-gray-600 font-bold text-xs uppercase tracking-widest transition-colors font-heading",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:A||!h,className:"w-full sm:w-auto px-8 h-10 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-500/20 font-bold text-xs uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-heading",children:[A?s.jsx(Mn,{className:"w-4 h-4 animate-spin"}):s.jsx(go,{className:"w-4 h-4"}),"Assign"]})]})]})]})]})}):null};var qh={exports:{}};var f_=qh.exports,p2;function h_(){return p2||(p2=1,(function(e,t){((n,i)=>{e.exports=i()})(f_,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},o,c=!i.document&&!!i.postMessage,f=i.IS_PAPA_WORKER||!1,u={},h=0,m={};function p(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var V=te(R);V.chunkSize=parseInt(V.chunkSize),R.step||R.chunk||(V.chunkSize=null),this._handle=new T(V),(this._handle.streamer=this)._config=V}).call(this,O),this.parseChunk=function(R,V){var F=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<F){let ee=this._config.newline;ee||(z=this._config.quoteChar||'"',ee=this._handle.guessLineEndings(R,z)),R=[...R.split(ee).slice(F)].join(ee)}this.isFirstChunk&&Y(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(R))!==void 0&&(R=z),this.isFirstChunk=!1,this._halted=!1;var F=this._partialLine+R,z=(this._partialLine="",this._handle.parse(F,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=z.meta.cursor,F=(this._finished||(this._partialLine=F.substring(R-this._baseIndex),this._baseIndex=R),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),f)i.postMessage({results:z,workerId:m.WORKER_ID,finished:F});else if(Y(this._config.chunk)&&!V){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!F||!Y(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),F||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(R){Y(this._config.error)?this._config.error(R):f&&this._config.error&&i.postMessage({workerId:m.WORKER_ID,error:R,finished:!1})}}function w(O){var R;(O=O||{}).chunkSize||(O.chunkSize=m.RemoteChunkSize),p.call(this,O),this._nextChunk=c?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(V){this._input=V,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),c||(R.onload=de(this._chunkLoaded,this),R.onerror=de(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!c),this._config.downloadRequestHeaders){var V,F=this._config.downloadRequestHeaders;for(V in F)R.setRequestHeader(V,F[V])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+z));try{R.send(this._config.downloadRequestBody)}catch(ee){this._chunkError(ee.message)}c&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(V=>(V=V.getResponseHeader("Content-Range"))!==null?parseInt(V.substring(V.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(V){V=R.statusText||V,this._sendError(new Error(V))}}function j(O){(O=O||{}).chunkSize||(O.chunkSize=m.LocalChunkSize),p.call(this,O);var R,V,F=typeof FileReader<"u";this.stream=function(z){this._input=z,V=z.slice||z.webkitSlice||z.mozSlice,F?((R=new FileReader).onload=de(this._chunkLoaded,this),R.onerror=de(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,ee=(this._config.chunkSize&&(ee=Math.min(this._start+this._config.chunkSize,this._input.size),z=V.call(z,this._start,ee)),R.readAsText(z,this._config.encoding));F||this._chunkLoaded({target:{result:ee}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(R.error)}}function y(O){var R;p.call(this,O=O||{}),this.stream=function(V){return R=V,this._nextChunk()},this._nextChunk=function(){var V,F;if(!this._finished)return V=this._config.chunkSize,R=V?(F=R.substring(0,V),R.substring(V)):(F=R,""),this._finished=!R,this.parseChunk(F)}}function A(O){p.call(this,O=O||{});var R=[],V=!0,F=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){F&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):V=!0},this._streamData=de(function(z){try{R.push(typeof z=="string"?z:z.toString(this._config.encoding)),V&&(V=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(ee){this._streamError(ee)}},this),this._streamError=de(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=de(function(){this._streamCleanUp(),F=!0,this._streamData("")},this),this._streamCleanUp=de(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(O){var R,V,F,z,ee=Math.pow(2,53),le=-ee,ve=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,se=this,Z=0,J=0,fe=!1,U=!1,_=[],L={data:[],errors:[],meta:{}};function q(Q){return O.skipEmptyLines==="greedy"?Q.join("").trim()==="":Q.length===1&&Q[0].length===0}function B(){if(L&&F&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+m.DefaultDelimiter+"'"),F=!1),O.skipEmptyLines&&(L.data=L.data.filter(function(ke){return!q(ke)})),re()){let ke=function(Ne,pe){Y(O.transformHeader)&&(Ne=O.transformHeader(Ne,pe)),_.push(Ne)};if(L)if(Array.isArray(L.data[0])){for(var Q=0;re()&&Q<L.data.length;Q++)L.data[Q].forEach(ke);L.data.splice(0,1)}else L.data.forEach(ke)}function ue(ke,Ne){for(var pe=O.header?{}:[],Fe=0;Fe<ke.length;Fe++){var X=Fe,We=ke[Fe],We=((xe,Ue)=>(Re=>(O.dynamicTypingFunction&&O.dynamicTyping[Re]===void 0&&(O.dynamicTyping[Re]=O.dynamicTypingFunction(Re)),(O.dynamicTyping[Re]||O.dynamicTyping)===!0))(xe)?Ue==="true"||Ue==="TRUE"||Ue!=="false"&&Ue!=="FALSE"&&((Re=>{if(ve.test(Re)&&(Re=parseFloat(Re),le<Re&&Re<ee))return 1})(Ue)?parseFloat(Ue):ae.test(Ue)?new Date(Ue):Ue===""?null:Ue):Ue)(X=O.header?Fe>=_.length?"__parsed_extra":_[Fe]:X,We=O.transform?O.transform(We,X):We);X==="__parsed_extra"?(pe[X]=pe[X]||[],pe[X].push(We)):pe[X]=We}return O.header&&(Fe>_.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+_.length+" fields but parsed "+Fe,J+Ne):Fe<_.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+_.length+" fields but parsed "+Fe,J+Ne)),pe}var ye;L&&(O.header||O.dynamicTyping||O.transform)&&(ye=1,!L.data.length||Array.isArray(L.data[0])?(L.data=L.data.map(ue),ye=L.data.length):L.data=ue(L.data,0),O.header&&L.meta&&(L.meta.fields=_),J+=ye)}function re(){return O.header&&_.length===0}function oe(Q,ue,ye,ke){Q={type:Q,code:ue,message:ye},ke!==void 0&&(Q.row=ke),L.errors.push(Q)}Y(O.step)&&(z=O.step,O.step=function(Q){L=Q,re()?B():(B(),L.data.length!==0&&(Z+=Q.data.length,O.preview&&Z>O.preview?V.abort():(L.data=L.data[0],z(L,se))))}),this.parse=function(Q,ue,ye){var ke=O.quoteChar||'"',ke=(O.newline||(O.newline=this.guessLineEndings(Q,ke)),F=!1,O.delimiter?Y(O.delimiter)&&(O.delimiter=O.delimiter(Q),L.meta.delimiter=O.delimiter):((ke=((Ne,pe,Fe,X,We)=>{var xe,Ue,Re,ze;We=We||[",","	","|",";",m.RECORD_SEP,m.UNIT_SEP];for(var rt=0;rt<We.length;rt++){for(var dt,gt=We[rt],Ee=0,Le=0,Xe=0,Ze=(Re=void 0,new C({comments:X,delimiter:gt,newline:pe,preview:10}).parse(Ne)),we=0;we<Ze.data.length;we++)Fe&&q(Ze.data[we])?Xe++:(dt=Ze.data[we].length,Le+=dt,Re===void 0?Re=dt:0<dt&&(Ee+=Math.abs(dt-Re),Re=dt));0<Ze.data.length&&(Le/=Ze.data.length-Xe),(Ue===void 0||Ee<=Ue)&&(ze===void 0||ze<Le)&&1.99<Le&&(Ue=Ee,xe=gt,ze=Le)}return{successful:!!(O.delimiter=xe),bestDelimiter:xe}})(Q,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess)).successful?O.delimiter=ke.bestDelimiter:(F=!0,O.delimiter=m.DefaultDelimiter),L.meta.delimiter=O.delimiter),te(O));return O.preview&&O.header&&ke.preview++,R=Q,V=new C(ke),L=V.parse(R,ue,ye),B(),fe?{meta:{paused:!0}}:L||{meta:{paused:!1}}},this.paused=function(){return fe},this.pause=function(){fe=!0,V.abort(),R=Y(O.chunk)?"":R.substring(V.getCharIndex())},this.resume=function(){se.streamer._halted?(fe=!1,se.streamer.parseChunk(R,!0)):setTimeout(se.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,V.abort(),L.meta.aborted=!0,Y(O.complete)&&O.complete(L),R=""},this.guessLineEndings=function(Ne,ke){Ne=Ne.substring(0,1048576);var ke=new RegExp(E(ke)+"([^]*?)"+E(ke),"gm"),ye=(Ne=Ne.replace(ke,"")).split("\r"),ke=Ne.split(`
`),Ne=1<ke.length&&ke[0].length<ye[0].length;if(ye.length===1||Ne)return`
`;for(var pe=0,Fe=0;Fe<ye.length;Fe++)ye[Fe][0]===`
`&&pe++;return pe>=ye.length/2?`\r
`:"\r"}}function E(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(O){var R=(O=O||{}).delimiter,V=O.newline,F=O.comments,z=O.step,ee=O.preview,le=O.fastMode,ve=null,ae=!1,se=O.quoteChar==null?'"':O.quoteChar,Z=se;if(O.escapeChar!==void 0&&(Z=O.escapeChar),(typeof R!="string"||-1<m.BAD_DELIMITERS.indexOf(R))&&(R=","),F===R)throw new Error("Comment character same as delimiter");F===!0?F="#":(typeof F!="string"||-1<m.BAD_DELIMITERS.indexOf(F))&&(F=!1),V!==`
`&&V!=="\r"&&V!==`\r
`&&(V=`
`);var J=0,fe=!1;this.parse=function(U,_,L){if(typeof U!="string")throw new Error("Input must be a string");var q=U.length,B=R.length,re=V.length,oe=F.length,Q=Y(z),ue=[],ye=[],ke=[],Ne=J=0;if(!U)return Ee();if(le||le!==!1&&U.indexOf(se)===-1){for(var pe=U.split(V),Fe=0;Fe<pe.length;Fe++){if(ke=pe[Fe],J+=ke.length,Fe!==pe.length-1)J+=V.length;else if(L)return Ee();if(!F||ke.substring(0,oe)!==F){if(Q){if(ue=[],ze(ke.split(R)),Le(),fe)return Ee()}else ze(ke.split(R));if(ee&&ee<=Fe)return ue=ue.slice(0,ee),Ee(!0)}}return Ee()}for(var X=U.indexOf(R,J),We=U.indexOf(V,J),xe=new RegExp(E(Z)+E(se),"g"),Ue=U.indexOf(se,J);;)if(U[J]===se)for(Ue=J,J++;;){if((Ue=U.indexOf(se,Ue+1))===-1)return L||ye.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ue.length,index:J}),dt();if(Ue===q-1)return dt(U.substring(J,Ue).replace(xe,se));if(se===Z&&U[Ue+1]===Z)Ue++;else if(se===Z||Ue===0||U[Ue-1]!==Z){X!==-1&&X<Ue+1&&(X=U.indexOf(R,Ue+1));var Re=rt((We=We!==-1&&We<Ue+1?U.indexOf(V,Ue+1):We)===-1?X:Math.min(X,We));if(U.substr(Ue+1+Re,B)===R){ke.push(U.substring(J,Ue).replace(xe,se)),U[J=Ue+1+Re+B]!==se&&(Ue=U.indexOf(se,J)),X=U.indexOf(R,J),We=U.indexOf(V,J);break}if(Re=rt(We),U.substring(Ue+1+Re,Ue+1+Re+re)===V){if(ke.push(U.substring(J,Ue).replace(xe,se)),gt(Ue+1+Re+re),X=U.indexOf(R,J),Ue=U.indexOf(se,J),Q&&(Le(),fe))return Ee();if(ee&&ue.length>=ee)return Ee(!0);break}ye.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ue.length,index:J}),Ue++}}else if(F&&ke.length===0&&U.substring(J,J+oe)===F){if(We===-1)return Ee();J=We+re,We=U.indexOf(V,J),X=U.indexOf(R,J)}else if(X!==-1&&(X<We||We===-1))ke.push(U.substring(J,X)),J=X+B,X=U.indexOf(R,J);else{if(We===-1)break;if(ke.push(U.substring(J,We)),gt(We+re),Q&&(Le(),fe))return Ee();if(ee&&ue.length>=ee)return Ee(!0)}return dt();function ze(Xe){ue.push(Xe),Ne=J}function rt(Xe){var Ze=0;return Ze=Xe!==-1&&(Xe=U.substring(Ue+1,Xe))&&Xe.trim()===""?Xe.length:Ze}function dt(Xe){return L||(Xe===void 0&&(Xe=U.substring(J)),ke.push(Xe),J=q,ze(ke),Q&&Le()),Ee()}function gt(Xe){J=Xe,ze(ke),ke=[],We=U.indexOf(V,J)}function Ee(Xe){if(O.header&&!_&&ue.length&&!ae){var Ze=ue[0],we=Object.create(null),Be=new Set(Ze);let Ge=!1;for(let ut=0;ut<Ze.length;ut++){let je=Ze[ut];if(we[je=Y(O.transformHeader)?O.transformHeader(je,ut):je]){let Ve,lt=we[je];for(;Ve=je+"_"+lt,lt++,Be.has(Ve););Be.add(Ve),Ze[ut]=Ve,we[je]++,Ge=!0,(ve=ve===null?{}:ve)[Ve]=je}else we[je]=1,Ze[ut]=je;Be.add(je)}Ge&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:ue,errors:ye,meta:{delimiter:R,linebreak:V,aborted:fe,truncated:!!Xe,cursor:Ne+(_||0),renamedHeaders:ve}}}function Le(){z(Ee()),ue=[],ye=[]}},this.abort=function(){fe=!0},this.getCharIndex=function(){return J}}function I(O){var R=O.data,V=u[R.workerId],F=!1;if(R.error)V.userError(R.error,R.file);else if(R.results&&R.results.data){var z={abort:function(){F=!0,G(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(Y(V.userStep)){for(var ee=0;ee<R.results.data.length&&(V.userStep({data:R.results.data[ee],errors:R.results.errors,meta:R.results.meta},z),!F);ee++);delete R.results}else Y(V.userChunk)&&(V.userChunk(R.results,z,R.file),delete R.results)}R.finished&&!F&&G(R.workerId,R.results)}function G(O,R){var V=u[O];Y(V.userComplete)&&V.userComplete(R),V.terminate(),delete u[O]}function D(){throw new Error("Not implemented.")}function te(O){if(typeof O!="object"||O===null)return O;var R,V=Array.isArray(O)?[]:{};for(R in O)V[R]=te(O[R]);return V}function de(O,R){return function(){O.apply(R,arguments)}}function Y(O){return typeof O=="function"}return m.parse=function(O,R){var V=(R=R||{}).dynamicTyping||!1;if(Y(V)&&(R.dynamicTypingFunction=V,V={}),R.dynamicTyping=V,R.transform=!!Y(R.transform)&&R.transform,!R.worker||!m.WORKERS_SUPPORTED)return V=null,m.NODE_STREAM_INPUT,typeof O=="string"?(O=(F=>F.charCodeAt(0)!==65279?F:F.slice(1))(O),V=new(R.download?w:y)(R)):O.readable===!0&&Y(O.read)&&Y(O.on)?V=new A(R):(i.File&&O instanceof File||O instanceof Object)&&(V=new j(R)),V.stream(O);(V=(()=>{var F;return!!m.WORKERS_SUPPORTED&&(F=(()=>{var z=i.URL||i.webkitURL||null,ee=n.toString();return m.BLOB_URL||(m.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ee,")();"],{type:"text/javascript"})))})(),(F=new i.Worker(F)).onmessage=I,F.id=h++,u[F.id]=F)})()).userStep=R.step,V.userChunk=R.chunk,V.userComplete=R.complete,V.userError=R.error,R.step=Y(R.step),R.chunk=Y(R.chunk),R.complete=Y(R.complete),R.error=Y(R.error),delete R.worker,V.postMessage({input:O,config:R,workerId:V.id})},m.unparse=function(O,R){var V=!1,F=!0,z=",",ee=`\r
`,le='"',ve=le+le,ae=!1,se=null,Z=!1,J=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||m.BAD_DELIMITERS.filter(function(_){return R.delimiter.indexOf(_)!==-1}).length||(z=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(V=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(ae=R.skipEmptyLines),typeof R.newline=="string"&&(ee=R.newline),typeof R.quoteChar=="string"&&(le=R.quoteChar),typeof R.header=="boolean"&&(F=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");se=R.columns}R.escapeChar!==void 0&&(ve=R.escapeChar+le),R.escapeFormulae instanceof RegExp?Z=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(Z=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(le),"g"));if(typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return fe(null,O,ae);if(typeof O[0]=="object")return fe(se||Object.keys(O[0]),O,ae)}else if(typeof O=="object")return typeof O.data=="string"&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||se),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:typeof O.data[0]=="object"?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||typeof O.data[0]=="object"||(O.data=[O.data])),fe(O.fields||[],O.data||[],ae);throw new Error("Unable to serialize unrecognized input");function fe(_,L,q){var B="",re=(typeof _=="string"&&(_=JSON.parse(_)),typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(_)&&0<_.length),oe=!Array.isArray(L[0]);if(re&&F){for(var Q=0;Q<_.length;Q++)0<Q&&(B+=z),B+=U(_[Q],Q);0<L.length&&(B+=ee)}for(var ue=0;ue<L.length;ue++){var ye=(re?_:L[ue]).length,ke=!1,Ne=re?Object.keys(L[ue]).length===0:L[ue].length===0;if(q&&!re&&(ke=q==="greedy"?L[ue].join("").trim()==="":L[ue].length===1&&L[ue][0].length===0),q==="greedy"&&re){for(var pe=[],Fe=0;Fe<ye;Fe++){var X=oe?_[Fe]:Fe;pe.push(L[ue][X])}ke=pe.join("").trim()===""}if(!ke){for(var We=0;We<ye;We++){0<We&&!Ne&&(B+=z);var xe=re&&oe?_[We]:We;B+=U(L[ue][xe],We)}ue<L.length-1&&(!q||0<ye&&!Ne)&&(B+=ee)}}return B}function U(_,L){var q,B;return _==null?"":_.constructor===Date?JSON.stringify(_).slice(1,25):(B=!1,Z&&typeof _=="string"&&Z.test(_)&&(_="'"+_,B=!0),q=_.toString().replace(J,ve),(B=B||V===!0||typeof V=="function"&&V(_,L)||Array.isArray(V)&&V[L]||((re,oe)=>{for(var Q=0;Q<oe.length;Q++)if(-1<re.indexOf(oe[Q]))return!0;return!1})(q,m.BAD_DELIMITERS)||-1<q.indexOf(z)||q.charAt(0)===" "||q.charAt(q.length-1)===" ")?le+q+le:q)}},m.RECORD_SEP="",m.UNIT_SEP="",m.BYTE_ORDER_MARK="\uFEFF",m.BAD_DELIMITERS=["\r",`
`,'"',m.BYTE_ORDER_MARK],m.WORKERS_SUPPORTED=!c&&!!i.Worker,m.NODE_STREAM_INPUT=1,m.LocalChunkSize=10485760,m.RemoteChunkSize=5242880,m.DefaultDelimiter=",",m.Parser=C,m.ParserHandle=T,m.NetworkStreamer=w,m.FileStreamer=j,m.StringStreamer=y,m.ReadableStreamStreamer=A,i.jQuery&&((o=i.jQuery).fn.parse=function(O){var R=O.config||{},V=[];return this.each(function(ee){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var le=0;le<this.files.length;le++)V.push({file:this.files[le],inputElem:this,instanceConfig:o.extend({},R)})}),F(),this;function F(){if(V.length===0)Y(O.complete)&&O.complete();else{var ee,le,ve,ae,se=V[0];if(Y(O.before)){var Z=O.before(se.file,se.inputElem);if(typeof Z=="object"){if(Z.action==="abort")return ee="AbortError",le=se.file,ve=se.inputElem,ae=Z.reason,void(Y(O.error)&&O.error({name:ee},le,ve,ae));if(Z.action==="skip")return void z();typeof Z.config=="object"&&(se.instanceConfig=o.extend(se.instanceConfig,Z.config))}else if(Z==="skip")return void z()}var J=se.instanceConfig.complete;se.instanceConfig.complete=function(fe){Y(J)&&J(fe,se.file,se.inputElem),z()},m.parse(se.file,se.instanceConfig)}}function z(){V.splice(0,1),F()}}),f&&(i.onmessage=function(O){O=O.data,m.WORKER_ID===void 0&&O&&(m.WORKER_ID=O.workerId),typeof O.input=="string"?i.postMessage({workerId:m.WORKER_ID,results:m.parse(O.input,O.config),finished:!0}):(i.File&&O.input instanceof File||O.input instanceof Object)&&(O=m.parse(O.input,O.config))&&i.postMessage({workerId:m.WORKER_ID,results:O,finished:!0})}),(w.prototype=Object.create(p.prototype)).constructor=w,(j.prototype=Object.create(p.prototype)).constructor=j,(y.prototype=Object.create(y.prototype)).constructor=y,(A.prototype=Object.create(p.prototype)).constructor=A,m})})(qh)),qh.exports}var m_=h_();const Qp=Ap(m_),g_="modulepreload",p_=function(e){return"/"+e},x2={},Jm=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let h=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),u=f?.nonce||f?.getAttribute("nonce");o=h(n.map(m=>{if(m=p_(m),m in x2)return;x2[m]=!0;const p=m.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const j=document.createElement("link");if(j.rel=p?"stylesheet":g_,p||(j.as="script"),j.crossOrigin="",j.href=m,u&&j.setAttribute("nonce",u),document.head.appendChild(j),p)return new Promise((y,A)=>{j.addEventListener("load",y),j.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(f){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=f,window.dispatchEvent(u),!u.defaultPrevented)throw f}return o.then(f=>{for(const u of f||[])u.status==="rejected"&&c(u.reason);return t().catch(c)})};function Ma(e){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(e)}var Ti=Uint8Array,Rs=Uint16Array,e1=Int32Array,t1=new Ti([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a1=new Ti([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b2=new Ti([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qv=function(e,t){for(var n=new Rs(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var o=new e1(n[30]),i=1;i<30;++i)for(var c=n[i];c<n[i+1];++c)o[c]=c-n[i]<<5|i;return{b:n,r:o}},Hv=qv(t1,2),x_=Hv.b,dp=Hv.r;x_[28]=258,dp[258]=28;var b_=qv(a1,0),y2=b_.r,up=new Rs(32768);for(var Za=0;Za<32768;++Za){var Gl=(Za&43690)>>1|(Za&21845)<<1;Gl=(Gl&52428)>>2|(Gl&13107)<<2,Gl=(Gl&61680)>>4|(Gl&3855)<<4,up[Za]=((Gl&65280)>>8|(Gl&255)<<8)>>1}var lf=(function(e,t,n){for(var i=e.length,o=0,c=new Rs(t);o<i;++o)e[o]&&++c[e[o]-1];var f=new Rs(t);for(o=1;o<t;++o)f[o]=f[o-1]+c[o-1]<<1;var u;if(n){u=new Rs(1<<t);var h=15-t;for(o=0;o<i;++o)if(e[o])for(var m=o<<4|e[o],p=t-e[o],w=f[e[o]-1]++<<p,j=w|(1<<p)-1;w<=j;++w)u[up[w]>>h]=m}else for(u=new Rs(i),o=0;o<i;++o)e[o]&&(u[o]=up[f[e[o]-1]++]>>15-e[o]);return u}),$c=new Ti(288);for(var Za=0;Za<144;++Za)$c[Za]=8;for(var Za=144;Za<256;++Za)$c[Za]=9;for(var Za=256;Za<280;++Za)$c[Za]=7;for(var Za=280;Za<288;++Za)$c[Za]=8;var Qh=new Ti(32);for(var Za=0;Za<32;++Za)Qh[Za]=5;var y_=lf($c,9,0),v_=lf(Qh,5,0),$v=function(e){return(e+7)/8|0},w_=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Ti(e.subarray(t,n))},Ko=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},Qu=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},Zm=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var o=n.length,c=n.slice();if(!o)return{t:Vv,l:0};if(o==1){var f=new Ti(n[0].s+1);return f[n[0].s]=1,{t:f,l:1}}n.sort(function(te,de){return te.f-de.f}),n.push({s:-1,f:25001});var u=n[0],h=n[1],m=0,p=1,w=2;for(n[0]={s:-1,f:u.f+h.f,l:u,r:h};p!=o-1;)u=n[n[m].f<n[w].f?m++:w++],h=n[m!=p&&n[m].f<n[w].f?m++:w++],n[p++]={s:-1,f:u.f+h.f,l:u,r:h};for(var j=c[0].s,i=1;i<o;++i)c[i].s>j&&(j=c[i].s);var y=new Rs(j+1),A=fp(n[p-1],y,0);if(A>t){var i=0,T=0,E=A-t,C=1<<E;for(c.sort(function(de,Y){return y[Y.s]-y[de.s]||de.f-Y.f});i<o;++i){var I=c[i].s;if(y[I]>t)T+=C-(1<<A-y[I]),y[I]=t;else break}for(T>>=E;T>0;){var G=c[i].s;y[G]<t?T-=1<<t-y[G]++-1:++i}for(;i>=0&&T;--i){var D=c[i].s;y[D]==t&&(--y[D],++T)}A=t}return{t:new Ti(y),l:A}},fp=function(e,t,n){return e.s==-1?Math.max(fp(e.l,t,n+1),fp(e.r,t,n+1)):t[e.s]=n},v2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Rs(++t),i=0,o=e[0],c=1,f=function(h){n[i++]=h},u=1;u<=t;++u)if(e[u]==o&&u!=t)++c;else{if(!o&&c>2){for(;c>138;c-=138)f(32754);c>2&&(f(c>10?c-11<<5|28690:c-3<<5|12305),c=0)}else if(c>3){for(f(o),--c;c>6;c-=6)f(8304);c>2&&(f(c-3<<5|8208),c=0)}for(;c--;)f(o);c=1,o=e[u]}return{c:n.subarray(0,i),n:t}},ef=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},Gv=function(e,t,n){var i=n.length,o=$v(t+2);e[o]=i&255,e[o+1]=i>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var c=0;c<i;++c)e[o+c+4]=n[c];return(o+4+i)*8},w2=function(e,t,n,i,o,c,f,u,h,m,p){Ko(t,p++,n),++o[256];for(var w=Zm(o,15),j=w.t,y=w.l,A=Zm(c,15),T=A.t,E=A.l,C=v2(j),I=C.c,G=C.n,D=v2(T),te=D.c,de=D.n,Y=new Rs(19),O=0;O<I.length;++O)++Y[I[O]&31];for(var O=0;O<te.length;++O)++Y[te[O]&31];for(var R=Zm(Y,7),V=R.t,F=R.l,z=19;z>4&&!V[b2[z-1]];--z);var ee=m+5<<3,le=ef(o,$c)+ef(c,Qh)+f,ve=ef(o,j)+ef(c,T)+f+14+3*z+ef(Y,V)+2*Y[16]+3*Y[17]+7*Y[18];if(h>=0&&ee<=le&&ee<=ve)return Gv(t,p,e.subarray(h,h+m));var ae,se,Z,J;if(Ko(t,p,1+(ve<le)),p+=2,ve<le){ae=lf(j,y,0),se=j,Z=lf(T,E,0),J=T;var fe=lf(V,F,0);Ko(t,p,G-257),Ko(t,p+5,de-1),Ko(t,p+10,z-4),p+=14;for(var O=0;O<z;++O)Ko(t,p+3*O,V[b2[O]]);p+=3*z;for(var U=[I,te],_=0;_<2;++_)for(var L=U[_],O=0;O<L.length;++O){var q=L[O]&31;Ko(t,p,fe[q]),p+=V[q],q>15&&(Ko(t,p,L[O]>>5&127),p+=L[O]>>12)}}else ae=y_,se=$c,Z=v_,J=Qh;for(var O=0;O<u;++O){var B=i[O];if(B>255){var q=B>>18&31;Qu(t,p,ae[q+257]),p+=se[q+257],q>7&&(Ko(t,p,B>>23&31),p+=t1[q]);var re=B&31;Qu(t,p,Z[re]),p+=J[re],re>3&&(Qu(t,p,B>>5&8191),p+=a1[re])}else Qu(t,p,ae[B]),p+=se[B]}return Qu(t,p,ae[256]),p+se[256]},N_=new e1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vv=new Ti(0),j_=function(e,t,n,i,o,c){var f=c.z||e.length,u=new Ti(i+f+5*(1+Math.ceil(f/7e3))+o),h=u.subarray(i,u.length-o),m=c.l,p=(c.r||0)&7;if(t){p&&(h[0]=c.r>>3);for(var w=N_[t-1],j=w>>13,y=w&8191,A=(1<<n)-1,T=c.p||new Rs(32768),E=c.h||new Rs(A+1),C=Math.ceil(n/3),I=2*C,G=function(Fe){return(e[Fe]^e[Fe+1]<<C^e[Fe+2]<<I)&A},D=new e1(25e3),te=new Rs(288),de=new Rs(32),Y=0,O=0,R=c.i||0,V=0,F=c.w||0,z=0;R+2<f;++R){var ee=G(R),le=R&32767,ve=E[ee];if(T[le]=ve,E[ee]=le,F<=R){var ae=f-R;if((Y>7e3||V>24576)&&(ae>423||!m)){p=w2(e,h,0,D,te,de,O,V,z,R-z,p),V=Y=O=0,z=R;for(var se=0;se<286;++se)te[se]=0;for(var se=0;se<30;++se)de[se]=0}var Z=2,J=0,fe=y,U=le-ve&32767;if(ae>2&&ee==G(R-U))for(var _=Math.min(j,ae)-1,L=Math.min(32767,R),q=Math.min(258,ae);U<=L&&--fe&&le!=ve;){if(e[R+Z]==e[R+Z-U]){for(var B=0;B<q&&e[R+B]==e[R+B-U];++B);if(B>Z){if(Z=B,J=U,B>_)break;for(var re=Math.min(U,B-2),oe=0,se=0;se<re;++se){var Q=R-U+se&32767,ue=T[Q],ye=Q-ue&32767;ye>oe&&(oe=ye,ve=Q)}}}le=ve,ve=T[le],U+=le-ve&32767}if(J){D[V++]=268435456|dp[Z]<<18|y2[J];var ke=dp[Z]&31,Ne=y2[J]&31;O+=t1[ke]+a1[Ne],++te[257+ke],++de[Ne],F=R+Z,++Y}else D[V++]=e[R],++te[e[R]]}}for(R=Math.max(R,F);R<f;++R)D[V++]=e[R],++te[e[R]];p=w2(e,h,m,D,te,de,O,V,z,R-z,p),m||(c.r=p&7|h[p/8|0]<<3,p-=7,c.h=E,c.p=T,c.i=R,c.w=F)}else{for(var R=c.w||0;R<f+m;R+=65535){var pe=R+65535;pe>=f&&(h[p/8|0]=m,pe=f),p=Gv(h,p+1,e.subarray(R,pe))}c.i=f}return w_(u,0,i+$v(p)+o)},Wv=function(){var e=1,t=0;return{p:function(n){for(var i=e,o=t,c=n.length|0,f=0;f!=c;){for(var u=Math.min(f+2655,c);f<u;++f)o+=i+=n[f];i=(i&65535)+15*(i>>16),o=(o&65535)+15*(o>>16)}e=i,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},S_=function(e,t,n,i,o){if(!o&&(o={l:1},t.dictionary)){var c=t.dictionary.subarray(-32768),f=new Ti(c.length+e.length);f.set(c),f.set(e,c.length),e=f,o.w=c.length}return j_(e,t.level==null?6:t.level,t.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,o)},Yv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},A_=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var o=Wv();o.p(t.dictionary),Yv(e,2,o.d())}};function hp(e,t){t||(t={});var n=Wv();n.p(e);var i=S_(e,t,t.dictionary?6:2,4);return A_(i,t),Yv(i,i.length-4,n.d()),i}var k_=typeof TextDecoder<"u"&&new TextDecoder,__=0;try{k_.decode(Vv,{stream:!0}),__=1}catch{}function E_(e){if(Array.isArray(e))return e}function C_(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,c,f,u=[],h=!0,m=!1;try{if(c=(n=n.call(e)).next,t!==0)for(;!(h=(i=c.call(n)).done)&&(u.push(i.value),u.length!==t);h=!0);}catch(p){m=!0,o=p}finally{try{if(!h&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(m)throw o}}return u}}function N2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function L_(e,t){if(e){if(typeof e=="string")return N2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N2(e,t):void 0}}function R_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j2(e,t){return E_(e)||C_(e,t)||L_(e,t)||R_()}function S2(e,t="utf8"){return new TextDecoder(t).decode(e)}const T_=new TextEncoder;function O_(e){return T_.encode(e)}const M_=1024*8,D_=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Qm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class n1{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=M_,n={}){let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const o=n.offset?n.offset>>>0:0,c=t.byteLength-o;let f=o;(ArrayBuffer.isView(t)||t instanceof n1)&&(t.byteLength!==t.buffer.byteLength&&(f=t.byteOffset+o),t=t.buffer),i?this.lastWrittenByte=c:this.lastWrittenByte=0,this.buffer=t,this.length=c,this.byteLength=c,this.byteOffset=f,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,f,c),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,o=new Uint8Array(i);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const i=Qm[n].BYTES_PER_ELEMENT*t,o=this.byteOffset+this.offset,c=this.buffer.slice(o,o+i);if(this.littleEndian===D_&&n!=="uint8"&&n!=="int8"){const u=new Uint8Array(this.buffer.slice(o,o+i));u.reverse();const h=new Qm[n](u.buffer);return this.offset+=i,h.reverse(),h}const f=new Qm[n](c);return this.offset+=i,f}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let i=0;i<t;i++)n+=this.readChar();return n}readUtf8(t=1){return S2(this.readBytes(t))}decodeText(t=1,n="utf8"){return S2(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(O_(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function fu(e){let t=e.length;for(;--t>=0;)e[t]=0}const F_=3,P_=258,Xv=29,U_=256,B_=U_+1+Xv,Kv=30,z_=512,I_=new Array((B_+2)*2);fu(I_);const q_=new Array(Kv*2);fu(q_);const H_=new Array(z_);fu(H_);const $_=new Array(P_-F_+1);fu($_);const G_=new Array(Xv);fu(G_);const V_=new Array(Kv);fu(V_);const W_=(e,t,n,i)=>{let o=e&65535|0,c=e>>>16&65535|0,f=0;for(;n!==0;){f=n>2e3?2e3:n,n-=f;do o=o+t[i++]|0,c=c+o|0;while(--f);o%=65521,c%=65521}return o|c<<16|0};var mp=W_;const Y_=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},X_=new Uint32Array(Y_()),K_=(e,t,n,i)=>{const o=X_,c=i+n;e^=-1;for(let f=i;f<c;f++)e=e>>>8^o[(e^t[f])&255];return e^-1};var io=K_,gp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Jv={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const J_=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Z_=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)J_(n,i)&&(e[i]=n[i])}}return e},Q_=e=>{let t=0;for(let i=0,o=e.length;i<o;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,o=0,c=e.length;i<c;i++){let f=e[i];n.set(f,o),o+=f.length}return n},Zv={assign:Z_,flattenChunks:Q_};let Qv=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Qv=!1}const gf=new Uint8Array(256);for(let e=0;e<256;e++)gf[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;gf[254]=gf[254]=1;var e7=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,o,c,f=e.length,u=0;for(o=0;o<f;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<f&&(i=e.charCodeAt(o+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),o++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(u),c=0,o=0;c<u;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<f&&(i=e.charCodeAt(o+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[c++]=n:n<2048?(t[c++]=192|n>>>6,t[c++]=128|n&63):n<65536?(t[c++]=224|n>>>12,t[c++]=128|n>>>6&63,t[c++]=128|n&63):(t[c++]=240|n>>>18,t[c++]=128|n>>>12&63,t[c++]=128|n>>>6&63,t[c++]=128|n&63);return t};const t7=(e,t)=>{if(t<65534&&e.subarray&&Qv)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var a7=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,o;const c=new Array(n*2);for(o=0,i=0;i<n;){let f=e[i++];if(f<128){c[o++]=f;continue}let u=gf[f];if(u>4){c[o++]=65533,i+=u-1;continue}for(f&=u===2?31:u===3?15:7;u>1&&i<n;)f=f<<6|e[i++]&63,u--;if(u>1){c[o++]=65533;continue}f<65536?c[o++]=f:(f-=65536,c[o++]=55296|f>>10&1023,c[o++]=56320|f&1023)}return t7(c,o)},n7=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+gf[e[n]]>t?n:t},pp={string2buf:e7,buf2string:a7,utf8border:n7};function r7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var s7=r7;const _h=16209,i7=16191;var o7=function(t,n){let i,o,c,f,u,h,m,p,w,j,y,A,T,E,C,I,G,D,te,de,Y,O,R,V;const F=t.state;i=t.next_in,R=t.input,o=i+(t.avail_in-5),c=t.next_out,V=t.output,f=c-(n-t.avail_out),u=c+(t.avail_out-257),h=F.dmax,m=F.wsize,p=F.whave,w=F.wnext,j=F.window,y=F.hold,A=F.bits,T=F.lencode,E=F.distcode,C=(1<<F.lenbits)-1,I=(1<<F.distbits)-1;e:do{A<15&&(y+=R[i++]<<A,A+=8,y+=R[i++]<<A,A+=8),G=T[y&C];t:for(;;){if(D=G>>>24,y>>>=D,A-=D,D=G>>>16&255,D===0)V[c++]=G&65535;else if(D&16){te=G&65535,D&=15,D&&(A<D&&(y+=R[i++]<<A,A+=8),te+=y&(1<<D)-1,y>>>=D,A-=D),A<15&&(y+=R[i++]<<A,A+=8,y+=R[i++]<<A,A+=8),G=E[y&I];a:for(;;){if(D=G>>>24,y>>>=D,A-=D,D=G>>>16&255,D&16){if(de=G&65535,D&=15,A<D&&(y+=R[i++]<<A,A+=8,A<D&&(y+=R[i++]<<A,A+=8)),de+=y&(1<<D)-1,de>h){t.msg="invalid distance too far back",F.mode=_h;break e}if(y>>>=D,A-=D,D=c-f,de>D){if(D=de-D,D>p&&F.sane){t.msg="invalid distance too far back",F.mode=_h;break e}if(Y=0,O=j,w===0){if(Y+=m-D,D<te){te-=D;do V[c++]=j[Y++];while(--D);Y=c-de,O=V}}else if(w<D){if(Y+=m+w-D,D-=w,D<te){te-=D;do V[c++]=j[Y++];while(--D);if(Y=0,w<te){D=w,te-=D;do V[c++]=j[Y++];while(--D);Y=c-de,O=V}}}else if(Y+=w-D,D<te){te-=D;do V[c++]=j[Y++];while(--D);Y=c-de,O=V}for(;te>2;)V[c++]=O[Y++],V[c++]=O[Y++],V[c++]=O[Y++],te-=3;te&&(V[c++]=O[Y++],te>1&&(V[c++]=O[Y++]))}else{Y=c-de;do V[c++]=V[Y++],V[c++]=V[Y++],V[c++]=V[Y++],te-=3;while(te>2);te&&(V[c++]=V[Y++],te>1&&(V[c++]=V[Y++]))}}else if((D&64)===0){G=E[(G&65535)+(y&(1<<D)-1)];continue a}else{t.msg="invalid distance code",F.mode=_h;break e}break}}else if((D&64)===0){G=T[(G&65535)+(y&(1<<D)-1)];continue t}else if(D&32){F.mode=i7;break e}else{t.msg="invalid literal/length code",F.mode=_h;break e}break}}while(i<o&&c<u);te=A>>3,i-=te,A-=te<<3,y&=(1<<A)-1,t.next_in=i,t.next_out=c,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=c<u?257+(u-c):257-(c-u),F.hold=y,F.bits=A};const Bd=15,A2=852,k2=592,_2=0,eg=1,E2=2,l7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),c7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),d7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),u7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),f7=(e,t,n,i,o,c,f,u)=>{const h=u.bits;let m=0,p=0,w=0,j=0,y=0,A=0,T=0,E=0,C=0,I=0,G,D,te,de,Y,O=null,R;const V=new Uint16Array(Bd+1),F=new Uint16Array(Bd+1);let z=null,ee,le,ve;for(m=0;m<=Bd;m++)V[m]=0;for(p=0;p<i;p++)V[t[n+p]]++;for(y=h,j=Bd;j>=1&&V[j]===0;j--);if(y>j&&(y=j),j===0)return o[c++]=1<<24|64<<16|0,o[c++]=1<<24|64<<16|0,u.bits=1,0;for(w=1;w<j&&V[w]===0;w++);for(y<w&&(y=w),E=1,m=1;m<=Bd;m++)if(E<<=1,E-=V[m],E<0)return-1;if(E>0&&(e===_2||j!==1))return-1;for(F[1]=0,m=1;m<Bd;m++)F[m+1]=F[m]+V[m];for(p=0;p<i;p++)t[n+p]!==0&&(f[F[t[n+p]]++]=p);if(e===_2?(O=z=f,R=20):e===eg?(O=l7,z=c7,R=257):(O=d7,z=u7,R=0),I=0,p=0,m=w,Y=c,A=y,T=0,te=-1,C=1<<y,de=C-1,e===eg&&C>A2||e===E2&&C>k2)return 1;for(;;){ee=m-T,f[p]+1<R?(le=0,ve=f[p]):f[p]>=R?(le=z[f[p]-R],ve=O[f[p]-R]):(le=96,ve=0),G=1<<m-T,D=1<<A,w=D;do D-=G,o[Y+(I>>T)+D]=ee<<24|le<<16|ve|0;while(D!==0);for(G=1<<m-1;I&G;)G>>=1;if(G!==0?(I&=G-1,I+=G):I=0,p++,--V[m]===0){if(m===j)break;m=t[n+f[p]]}if(m>y&&(I&de)!==te){for(T===0&&(T=y),Y+=w,A=m-T,E=1<<A;A+T<j&&(E-=V[A+T],!(E<=0));)A++,E<<=1;if(C+=1<<A,e===eg&&C>A2||e===E2&&C>k2)return 1;te=I&de,o[te]=y<<24|A<<16|Y-c|0}}return I!==0&&(o[Y+I]=m-T<<24|64<<16|0),u.bits=y,0};var cf=f7;const h7=0,ew=1,tw=2,{Z_FINISH:C2,Z_BLOCK:m7,Z_TREES:Eh,Z_OK:Gc,Z_STREAM_END:g7,Z_NEED_DICT:p7,Z_STREAM_ERROR:Qs,Z_DATA_ERROR:aw,Z_MEM_ERROR:nw,Z_BUF_ERROR:x7,Z_DEFLATED:L2}=Jv,y0=16180,R2=16181,T2=16182,O2=16183,M2=16184,D2=16185,F2=16186,P2=16187,U2=16188,B2=16189,e0=16190,Jo=16191,tg=16192,z2=16193,ag=16194,I2=16195,q2=16196,H2=16197,$2=16198,Ch=16199,Lh=16200,G2=16201,V2=16202,W2=16203,Y2=16204,X2=16205,ng=16206,K2=16207,J2=16208,rn=16209,rw=16210,sw=16211,b7=852,y7=592,v7=15,w7=v7,Z2=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function N7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<y0||t.mode>sw?1:0},iw=e=>{if(Vc(e))return Qs;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=y0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(b7),t.distcode=t.distdyn=new Int32Array(y7),t.sane=1,t.back=-1,Gc},ow=e=>{if(Vc(e))return Qs;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,iw(e)},lw=(e,t)=>{let n;if(Vc(e))return Qs;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Qs:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,ow(e))},cw=(e,t)=>{if(!e)return Qs;const n=new N7;e.state=n,n.strm=e,n.window=null,n.mode=y0;const i=lw(e,t);return i!==Gc&&(e.state=null),i},j7=e=>cw(e,w7);let Q2=!0,rg,sg;const S7=e=>{if(Q2){rg=new Int32Array(512),sg=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(cf(ew,e.lens,0,288,rg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;cf(tw,e.lens,0,32,sg,0,e.work,{bits:5}),Q2=!1}e.lencode=rg,e.lenbits=9,e.distcode=sg,e.distbits=5},dw=(e,t,n,i)=>{let o;const c=e.state;return c.window===null&&(c.wsize=1<<c.wbits,c.wnext=0,c.whave=0,c.window=new Uint8Array(c.wsize)),i>=c.wsize?(c.window.set(t.subarray(n-c.wsize,n),0),c.wnext=0,c.whave=c.wsize):(o=c.wsize-c.wnext,o>i&&(o=i),c.window.set(t.subarray(n-i,n-i+o),c.wnext),i-=o,i?(c.window.set(t.subarray(n-i,n),0),c.wnext=i,c.whave=c.wsize):(c.wnext+=o,c.wnext===c.wsize&&(c.wnext=0),c.whave<c.wsize&&(c.whave+=o))),0},A7=(e,t)=>{let n,i,o,c,f,u,h,m,p,w,j,y,A,T,E=0,C,I,G,D,te,de,Y,O;const R=new Uint8Array(4);let V,F;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vc(e)||!e.output||!e.input&&e.avail_in!==0)return Qs;n=e.state,n.mode===Jo&&(n.mode=tg),f=e.next_out,o=e.output,h=e.avail_out,c=e.next_in,i=e.input,u=e.avail_in,m=n.hold,p=n.bits,w=u,j=h,O=Gc;e:for(;;)switch(n.mode){case y0:if(n.wrap===0){n.mode=tg;break}for(;p<16;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if(n.wrap&2&&m===35615){n.wbits===0&&(n.wbits=15),n.check=0,R[0]=m&255,R[1]=m>>>8&255,n.check=io(n.check,R,2,0),m=0,p=0,n.mode=R2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((m&255)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=rn;break}if((m&15)!==L2){e.msg="unknown compression method",n.mode=rn;break}if(m>>>=4,p-=4,Y=(m&15)+8,n.wbits===0&&(n.wbits=Y),Y>15||Y>n.wbits){e.msg="invalid window size",n.mode=rn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=m&512?B2:Jo,m=0,p=0;break;case R2:for(;p<16;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if(n.flags=m,(n.flags&255)!==L2){e.msg="unknown compression method",n.mode=rn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=rn;break}n.head&&(n.head.text=m>>8&1),n.flags&512&&n.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,n.check=io(n.check,R,2,0)),m=0,p=0,n.mode=T2;case T2:for(;p<32;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}n.head&&(n.head.time=m),n.flags&512&&n.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,n.check=io(n.check,R,4,0)),m=0,p=0,n.mode=O2;case O2:for(;p<16;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}n.head&&(n.head.xflags=m&255,n.head.os=m>>8),n.flags&512&&n.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,n.check=io(n.check,R,2,0)),m=0,p=0,n.mode=M2;case M2:if(n.flags&1024){for(;p<16;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}n.length=m,n.head&&(n.head.extra_len=m),n.flags&512&&n.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,n.check=io(n.check,R,2,0)),m=0,p=0}else n.head&&(n.head.extra=null);n.mode=D2;case D2:if(n.flags&1024&&(y=n.length,y>u&&(y=u),y&&(n.head&&(Y=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(c,c+y),Y)),n.flags&512&&n.wrap&4&&(n.check=io(n.check,i,y,c)),u-=y,c+=y,n.length-=y),n.length))break e;n.length=0,n.mode=F2;case F2:if(n.flags&2048){if(u===0)break e;y=0;do Y=i[c+y++],n.head&&Y&&n.length<65536&&(n.head.name+=String.fromCharCode(Y));while(Y&&y<u);if(n.flags&512&&n.wrap&4&&(n.check=io(n.check,i,y,c)),u-=y,c+=y,Y)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=P2;case P2:if(n.flags&4096){if(u===0)break e;y=0;do Y=i[c+y++],n.head&&Y&&n.length<65536&&(n.head.comment+=String.fromCharCode(Y));while(Y&&y<u);if(n.flags&512&&n.wrap&4&&(n.check=io(n.check,i,y,c)),u-=y,c+=y,Y)break e}else n.head&&(n.head.comment=null);n.mode=U2;case U2:if(n.flags&512){for(;p<16;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if(n.wrap&4&&m!==(n.check&65535)){e.msg="header crc mismatch",n.mode=rn;break}m=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Jo;break;case B2:for(;p<32;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}e.adler=n.check=Z2(m),m=0,p=0,n.mode=e0;case e0:if(n.havedict===0)return e.next_out=f,e.avail_out=h,e.next_in=c,e.avail_in=u,n.hold=m,n.bits=p,p7;e.adler=n.check=1,n.mode=Jo;case Jo:if(t===m7||t===Eh)break e;case tg:if(n.last){m>>>=p&7,p-=p&7,n.mode=ng;break}for(;p<3;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}switch(n.last=m&1,m>>>=1,p-=1,m&3){case 0:n.mode=z2;break;case 1:if(S7(n),n.mode=Ch,t===Eh){m>>>=2,p-=2;break e}break;case 2:n.mode=q2;break;case 3:e.msg="invalid block type",n.mode=rn}m>>>=2,p-=2;break;case z2:for(m>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if((m&65535)!==(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=rn;break}if(n.length=m&65535,m=0,p=0,n.mode=ag,t===Eh)break e;case ag:n.mode=I2;case I2:if(y=n.length,y){if(y>u&&(y=u),y>h&&(y=h),y===0)break e;o.set(i.subarray(c,c+y),f),u-=y,c+=y,h-=y,f+=y,n.length-=y;break}n.mode=Jo;break;case q2:for(;p<14;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if(n.nlen=(m&31)+257,m>>>=5,p-=5,n.ndist=(m&31)+1,m>>>=5,p-=5,n.ncode=(m&15)+4,m>>>=4,p-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=rn;break}n.have=0,n.mode=H2;case H2:for(;n.have<n.ncode;){for(;p<3;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}n.lens[z[n.have++]]=m&7,m>>>=3,p-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,V={bits:n.lenbits},O=cf(h7,n.lens,0,19,n.lencode,0,n.work,V),n.lenbits=V.bits,O){e.msg="invalid code lengths set",n.mode=rn;break}n.have=0,n.mode=$2;case $2:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[m&(1<<n.lenbits)-1],C=E>>>24,I=E>>>16&255,G=E&65535,!(C<=p);){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if(G<16)m>>>=C,p-=C,n.lens[n.have++]=G;else{if(G===16){for(F=C+2;p<F;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if(m>>>=C,p-=C,n.have===0){e.msg="invalid bit length repeat",n.mode=rn;break}Y=n.lens[n.have-1],y=3+(m&3),m>>>=2,p-=2}else if(G===17){for(F=C+3;p<F;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}m>>>=C,p-=C,Y=0,y=3+(m&7),m>>>=3,p-=3}else{for(F=C+7;p<F;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}m>>>=C,p-=C,Y=0,y=11+(m&127),m>>>=7,p-=7}if(n.have+y>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=rn;break}for(;y--;)n.lens[n.have++]=Y}}if(n.mode===rn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=rn;break}if(n.lenbits=9,V={bits:n.lenbits},O=cf(ew,n.lens,0,n.nlen,n.lencode,0,n.work,V),n.lenbits=V.bits,O){e.msg="invalid literal/lengths set",n.mode=rn;break}if(n.distbits=6,n.distcode=n.distdyn,V={bits:n.distbits},O=cf(tw,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,V),n.distbits=V.bits,O){e.msg="invalid distances set",n.mode=rn;break}if(n.mode=Ch,t===Eh)break e;case Ch:n.mode=Lh;case Lh:if(u>=6&&h>=258){e.next_out=f,e.avail_out=h,e.next_in=c,e.avail_in=u,n.hold=m,n.bits=p,o7(e,j),f=e.next_out,o=e.output,h=e.avail_out,c=e.next_in,i=e.input,u=e.avail_in,m=n.hold,p=n.bits,n.mode===Jo&&(n.back=-1);break}for(n.back=0;E=n.lencode[m&(1<<n.lenbits)-1],C=E>>>24,I=E>>>16&255,G=E&65535,!(C<=p);){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if(I&&(I&240)===0){for(D=C,te=I,de=G;E=n.lencode[de+((m&(1<<D+te)-1)>>D)],C=E>>>24,I=E>>>16&255,G=E&65535,!(D+C<=p);){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}m>>>=D,p-=D,n.back+=D}if(m>>>=C,p-=C,n.back+=C,n.length=G,I===0){n.mode=X2;break}if(I&32){n.back=-1,n.mode=Jo;break}if(I&64){e.msg="invalid literal/length code",n.mode=rn;break}n.extra=I&15,n.mode=G2;case G2:if(n.extra){for(F=n.extra;p<F;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V2;case V2:for(;E=n.distcode[m&(1<<n.distbits)-1],C=E>>>24,I=E>>>16&255,G=E&65535,!(C<=p);){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if((I&240)===0){for(D=C,te=I,de=G;E=n.distcode[de+((m&(1<<D+te)-1)>>D)],C=E>>>24,I=E>>>16&255,G=E&65535,!(D+C<=p);){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}m>>>=D,p-=D,n.back+=D}if(m>>>=C,p-=C,n.back+=C,I&64){e.msg="invalid distance code",n.mode=rn;break}n.offset=G,n.extra=I&15,n.mode=W2;case W2:if(n.extra){for(F=n.extra;p<F;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=rn;break}n.mode=Y2;case Y2:if(h===0)break e;if(y=j-h,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=rn;break}y>n.wnext?(y-=n.wnext,A=n.wsize-y):A=n.wnext-y,y>n.length&&(y=n.length),T=n.window}else T=o,A=f-n.offset,y=n.length;y>h&&(y=h),h-=y,n.length-=y;do o[f++]=T[A++];while(--y);n.length===0&&(n.mode=Lh);break;case X2:if(h===0)break e;o[f++]=n.length,h--,n.mode=Lh;break;case ng:if(n.wrap){for(;p<32;){if(u===0)break e;u--,m|=i[c++]<<p,p+=8}if(j-=h,e.total_out+=j,n.total+=j,n.wrap&4&&j&&(e.adler=n.check=n.flags?io(n.check,o,j,f-j):mp(n.check,o,j,f-j)),j=h,n.wrap&4&&(n.flags?m:Z2(m))!==n.check){e.msg="incorrect data check",n.mode=rn;break}m=0,p=0}n.mode=K2;case K2:if(n.wrap&&n.flags){for(;p<32;){if(u===0)break e;u--,m+=i[c++]<<p,p+=8}if(n.wrap&4&&m!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=rn;break}m=0,p=0}n.mode=J2;case J2:O=g7;break e;case rn:O=aw;break e;case rw:return nw;case sw:default:return Qs}return e.next_out=f,e.avail_out=h,e.next_in=c,e.avail_in=u,n.hold=m,n.bits=p,(n.wsize||j!==e.avail_out&&n.mode<rn&&(n.mode<ng||t!==C2))&&dw(e,e.output,e.next_out,j-e.avail_out),w-=e.avail_in,j-=e.avail_out,e.total_in+=w,e.total_out+=j,n.total+=j,n.wrap&4&&j&&(e.adler=n.check=n.flags?io(n.check,o,j,e.next_out-j):mp(n.check,o,j,e.next_out-j)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Jo?128:0)+(n.mode===Ch||n.mode===ag?256:0),(w===0&&j===0||t===C2)&&O===Gc&&(O=x7),O},k7=e=>{if(Vc(e))return Qs;let t=e.state;return t.window&&(t.window=null),e.state=null,Gc},_7=(e,t)=>{if(Vc(e))return Qs;const n=e.state;return(n.wrap&2)===0?Qs:(n.head=t,t.done=!1,Gc)},E7=(e,t)=>{const n=t.length;let i,o,c;return Vc(e)||(i=e.state,i.wrap!==0&&i.mode!==e0)?Qs:i.mode===e0&&(o=1,o=mp(o,t,n,0),o!==i.check)?aw:(c=dw(e,t,n,n),c?(i.mode=rw,nw):(i.havedict=1,Gc))};var C7=ow,L7=lw,R7=iw,T7=j7,O7=cw,M7=A7,D7=k7,F7=_7,P7=E7,U7="pako inflate (from Nodeca project)",Zo={inflateReset:C7,inflateReset2:L7,inflateResetKeep:R7,inflateInit:T7,inflateInit2:O7,inflate:M7,inflateEnd:D7,inflateGetHeader:F7,inflateSetDictionary:P7,inflateInfo:U7};function B7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var z7=B7;const uw=Object.prototype.toString,{Z_NO_FLUSH:I7,Z_FINISH:q7,Z_OK:pf,Z_STREAM_END:ig,Z_NEED_DICT:og,Z_STREAM_ERROR:H7,Z_DATA_ERROR:ey,Z_MEM_ERROR:$7}=Jv;function Cf(e){this.options=Zv.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s7,this.strm.avail_out=0;let n=Zo.inflateInit2(this.strm,t.windowBits);if(n!==pf)throw new Error(gp[n]);if(this.header=new z7,Zo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=pp.string2buf(t.dictionary):uw.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Zo.inflateSetDictionary(this.strm,t.dictionary),n!==pf)))throw new Error(gp[n])}Cf.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,o=this.options.dictionary;let c,f,u;if(this.ended)return!1;for(t===~~t?f=t:f=t===!0?q7:I7,uw.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),c=Zo.inflate(n,f),c===og&&o&&(c=Zo.inflateSetDictionary(n,o),c===pf?c=Zo.inflate(n,f):c===ey&&(c=og));n.avail_in>0&&c===ig&&n.state.wrap>0&&e[n.next_in]!==0;)Zo.inflateReset(n),c=Zo.inflate(n,f);switch(c){case H7:case ey:case og:case $7:return this.onEnd(c),this.ended=!0,!1}if(u=n.avail_out,n.next_out&&(n.avail_out===0||c===ig))if(this.options.to==="string"){let h=pp.utf8border(n.output,n.next_out),m=n.next_out-h,p=pp.buf2string(n.output,h);n.next_out=m,n.avail_out=i-m,m&&n.output.set(n.output.subarray(h,h+m),0),this.onData(p)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(c===pf&&u===0)){if(c===ig)return c=Zo.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Cf.prototype.onData=function(e){this.chunks.push(e)};Cf.prototype.onEnd=function(e){e===pf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Zv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function G7(e,t){const n=new Cf(t);if(n.push(e),n.err)throw n.msg||gp[n.err];return n.result}var V7=Cf,W7=G7,Y7={Inflate:V7,inflate:W7};const{Inflate:X7,inflate:K7}=Y7;var ty=X7,J7=K7;const fw=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;fw[e]=t}const ay=4294967295;function Z7(e,t,n){let i=e;for(let o=0;o<n;o++)i=fw[(i^t[o])&255]^i>>>8;return i}function Q7(e,t){return(Z7(ay,e,t)^ay)>>>0}function ny(e,t,n){const i=e.readUint32(),o=Q7(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(o!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${o}`)}function hw(e,t,n){for(let i=0;i<n;i++)t[i]=e[i]}function mw(e,t,n,i){let o=0;for(;o<i;o++)t[o]=e[o];for(;o<n;o++)t[o]=e[o]+t[o-i]&255}function gw(e,t,n,i){let o=0;if(n.length===0)for(;o<i;o++)t[o]=e[o];else for(;o<i;o++)t[o]=e[o]+n[o]&255}function pw(e,t,n,i,o){let c=0;if(n.length===0){for(;c<o;c++)t[c]=e[c];for(;c<i;c++)t[c]=e[c]+(t[c-o]>>1)&255}else{for(;c<o;c++)t[c]=e[c]+(n[c]>>1)&255;for(;c<i;c++)t[c]=e[c]+(t[c-o]+n[c]>>1)&255}}function xw(e,t,n,i,o){let c=0;if(n.length===0){for(;c<o;c++)t[c]=e[c];for(;c<i;c++)t[c]=e[c]+t[c-o]&255}else{for(;c<o;c++)t[c]=e[c]+n[c]&255;for(;c<i;c++)t[c]=e[c]+eE(t[c-o],n[c],n[c-o])&255}}function eE(e,t,n){const i=e+t-n,o=Math.abs(i-e),c=Math.abs(i-t),f=Math.abs(i-n);return o<=c&&o<=f?e:c<=f?t:n}function tE(e,t,n,i,o,c){switch(e){case 0:hw(t,n,o);break;case 1:mw(t,n,o,c);break;case 2:gw(t,n,i,o);break;case 3:pw(t,n,i,o,c);break;case 4:xw(t,n,i,o,c);break;default:throw new Error(`Unsupported filter: ${e}`)}}const aE=new Uint16Array([255]),nE=new Uint8Array(aE.buffer),rE=nE[0]===255;function sE(e){const{data:t,width:n,height:i,channels:o,depth:c}=e,f=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(c/8)*o,h=new Uint8Array(i*n*u);let m=0;for(let p=0;p<7;p++){const w=f[p],j=Math.ceil((n-w.x)/w.xStep),y=Math.ceil((i-w.y)/w.yStep);if(j<=0||y<=0)continue;const A=j*u,T=new Uint8Array(A);for(let E=0;E<y;E++){const C=t[m++],I=t.subarray(m,m+A);m+=A;const G=new Uint8Array(A);tE(C,I,G,T,A,u),T.set(G);for(let D=0;D<j;D++){const te=w.x+D*w.xStep,de=w.y+E*w.yStep;if(!(te>=n||de>=i))for(let Y=0;Y<u;Y++)h[(de*n+te)*u+Y]=G[D*u+Y]}}}if(c===16){const p=new Uint16Array(h.buffer);if(rE)for(let w=0;w<p.length;w++)p[w]=iE(p[w]);return p}else return h}function iE(e){return(e&255)<<8|e>>8&255}const oE=new Uint16Array([255]),lE=new Uint8Array(oE.buffer),cE=lE[0]===255,dE=new Uint8Array(0);function ry(e){const{data:t,width:n,height:i,channels:o,depth:c}=e,f=Math.ceil(c/8)*o,u=Math.ceil(c/8*o*n),h=new Uint8Array(i*u);let m=dE,p=0,w,j;for(let y=0;y<i;y++){switch(w=t.subarray(p+1,p+1+u),j=h.subarray(y*u,(y+1)*u),t[p]){case 0:hw(w,j,u);break;case 1:mw(w,j,u,f);break;case 2:gw(w,j,m,u);break;case 3:pw(w,j,m,u,f);break;case 4:xw(w,j,m,u,f);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}m=j,p+=u+1}if(c===16){const y=new Uint16Array(h.buffer);if(cE)for(let A=0;A<y.length;A++)y[A]=uE(y[A]);return y}else return h}function uE(e){return(e&255)<<8|e>>8&255}const Hh=Uint8Array.of(137,80,78,71,13,10,26,10);function sy(e){if(!fE(e.readBytes(Hh.length)))throw new Error("wrong PNG signature")}function fE(e){if(e.length<Hh.length)return!1;for(let t=0;t<Hh.length;t++)if(e[t]!==Hh[t])return!1;return!0}const hE="tEXt",mE=0,bw=new TextDecoder("latin1");function gE(e){if(xE(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const pE=/^[\u0000-\u00FF]*$/;function xE(e){if(!pE.test(e))throw new Error("invalid latin1 text")}function bE(e,t,n){const i=yw(t);e[i]=yE(t,n-i.length-1)}function yw(e){for(e.mark();e.readByte()!==mE;);const t=e.offset;e.reset();const n=bw.decode(e.readBytes(t-e.offset-1));return e.skip(1),gE(n),n}function yE(e,t){return bw.decode(e.readBytes(t))}const Ls={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},lg={UNKNOWN:-1,DEFLATE:0},iy={UNKNOWN:-1,ADAPTIVE:0},cg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Rh={NONE:0,BACKGROUND:1,PREVIOUS:2},dg={SOURCE:0,OVER:1};class vE extends n1{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,n={}){super(t);const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new ty,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=lg.UNKNOWN,this._filterMethod=iy.UNKNOWN,this._interlaceMethod=cg.UNKNOWN,this._colorType=Ls.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sy(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(sy(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case hE:bE(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ny(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ny(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=wE(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ls.GREYSCALE:i=1;break;case Ls.TRUECOLOUR:i=3;break;case Ls.INDEXED_COLOUR:i=1;break;case Ls.GREYSCALE_ALPHA:i=2;break;case Ls.TRUECOLOUR_ALPHA:i=4;break;case Ls.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==lg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let o=0;o<n;o++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ls.GREYSCALE:case Ls.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case Ls.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ls.UNKNOWN:case Ls.GREYSCALE_ALPHA:case Ls.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=yw(this),i=this.readUint8();if(i!==lg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const o=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:J7(o)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=ry({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(i,o,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case Rh.NONE:break;case Rh.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const f=(o*t.width+c)*this._png.channels;for(let u=0;u<this._png.channels;u++)i.data[f+u]=0}break;case Rh.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,o=(c,f)=>{const u=((c+n.yOffset)*this._png.width+n.xOffset+f)*this._png.channels,h=(c*n.width+f)*this._png.channels;return{index:u,frameIndex:h}};switch(n.blendOp){case dg.SOURCE:for(let c=0;c<n.height;c++)for(let f=0;f<n.width;f++){const{index:u,frameIndex:h}=o(c,f);for(let m=0;m<this._png.channels;m++)t.data[u+m]=n.data[h+m]}break;case dg.OVER:for(let c=0;c<n.height;c++)for(let f=0;f<n.width;f++){const{index:u,frameIndex:h}=o(c,f);for(let m=0;m<this._png.channels;m++){const p=n.data[h+this._png.channels-1]/i,w=m%(this._png.channels-1)===0?1:n.data[h+m],j=Math.floor(p*w+(1-p)*t.data[u+m]);t.data[u+m]+=j}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==iy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===cg.NO_INTERLACE)this._png.data=ry({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===cg.ADAM7)this._png.data=sE({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Rh.NONE,blendOp:dg.SOURCE,data:t}),this._inflator=new ty,this._writingDataChunks=!1}}function wE(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var oy;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(oy||(oy={}));function NE(e,t){return new vE(e,t).decode()}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ug(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var $a={log:ug,warn:function(e){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):ug.call(null,arguments))},error:function(e){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):ug(e))}};function fg(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Mc(i.response,t,n)},i.onerror=function(){$a.error("could not download file")},i.send()}function ly(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Th(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Mc=Wt.saveAs||((typeof window>"u"?"undefined":Ma(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=Wt.URL||Wt.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener",typeof e=="string"?(o.href=e,o.origin!==location.origin?ly(o.href)?fg(e,t,n):Th(o,o.target="_blank"):Th(o)):(o.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){Th(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(ly(e))fg(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){Th(i)})}else navigator.msSaveOrOpenBlob((function(o,c){return c===void 0?c={autoBom:!1}:Ma(c)!=="object"&&($a.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return fg(e,t,n);var o=e.type==="application/octet-stream",c=/constructor/i.test(Wt.HTMLElement)||Wt.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||o&&c)&&(typeof FileReader>"u"?"undefined":Ma(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=f?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},u.readAsDataURL(e)}else{var h=Wt.URL||Wt.webkitURL,m=h.createObjectURL(e);i?i.location=m:location.href=m,i=null,setTimeout(function(){h.revokeObjectURL(m)},4e4)}});function vw(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<n.length;i++){var o=n[i].re,c=n[i].process,f=o.exec(e);f&&(t=c(f),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),m=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),m.length==1&&(m="0"+m),"#"+u+h+m}}var $h=Wt.atob.bind(Wt),cy=Wt.btoa.bind(Wt);function hg(e,t){var n=e[0],i=e[1],o=e[2],c=e[3];n=kr(n,i,o,c,t[0],7,-680876936),c=kr(c,n,i,o,t[1],12,-389564586),o=kr(o,c,n,i,t[2],17,606105819),i=kr(i,o,c,n,t[3],22,-1044525330),n=kr(n,i,o,c,t[4],7,-176418897),c=kr(c,n,i,o,t[5],12,1200080426),o=kr(o,c,n,i,t[6],17,-1473231341),i=kr(i,o,c,n,t[7],22,-45705983),n=kr(n,i,o,c,t[8],7,1770035416),c=kr(c,n,i,o,t[9],12,-1958414417),o=kr(o,c,n,i,t[10],17,-42063),i=kr(i,o,c,n,t[11],22,-1990404162),n=kr(n,i,o,c,t[12],7,1804603682),c=kr(c,n,i,o,t[13],12,-40341101),o=kr(o,c,n,i,t[14],17,-1502002290),n=_r(n,i=kr(i,o,c,n,t[15],22,1236535329),o,c,t[1],5,-165796510),c=_r(c,n,i,o,t[6],9,-1069501632),o=_r(o,c,n,i,t[11],14,643717713),i=_r(i,o,c,n,t[0],20,-373897302),n=_r(n,i,o,c,t[5],5,-701558691),c=_r(c,n,i,o,t[10],9,38016083),o=_r(o,c,n,i,t[15],14,-660478335),i=_r(i,o,c,n,t[4],20,-405537848),n=_r(n,i,o,c,t[9],5,568446438),c=_r(c,n,i,o,t[14],9,-1019803690),o=_r(o,c,n,i,t[3],14,-187363961),i=_r(i,o,c,n,t[8],20,1163531501),n=_r(n,i,o,c,t[13],5,-1444681467),c=_r(c,n,i,o,t[2],9,-51403784),o=_r(o,c,n,i,t[7],14,1735328473),n=Er(n,i=_r(i,o,c,n,t[12],20,-1926607734),o,c,t[5],4,-378558),c=Er(c,n,i,o,t[8],11,-2022574463),o=Er(o,c,n,i,t[11],16,1839030562),i=Er(i,o,c,n,t[14],23,-35309556),n=Er(n,i,o,c,t[1],4,-1530992060),c=Er(c,n,i,o,t[4],11,1272893353),o=Er(o,c,n,i,t[7],16,-155497632),i=Er(i,o,c,n,t[10],23,-1094730640),n=Er(n,i,o,c,t[13],4,681279174),c=Er(c,n,i,o,t[0],11,-358537222),o=Er(o,c,n,i,t[3],16,-722521979),i=Er(i,o,c,n,t[6],23,76029189),n=Er(n,i,o,c,t[9],4,-640364487),c=Er(c,n,i,o,t[12],11,-421815835),o=Er(o,c,n,i,t[15],16,530742520),n=Cr(n,i=Er(i,o,c,n,t[2],23,-995338651),o,c,t[0],6,-198630844),c=Cr(c,n,i,o,t[7],10,1126891415),o=Cr(o,c,n,i,t[14],15,-1416354905),i=Cr(i,o,c,n,t[5],21,-57434055),n=Cr(n,i,o,c,t[12],6,1700485571),c=Cr(c,n,i,o,t[3],10,-1894986606),o=Cr(o,c,n,i,t[10],15,-1051523),i=Cr(i,o,c,n,t[1],21,-2054922799),n=Cr(n,i,o,c,t[8],6,1873313359),c=Cr(c,n,i,o,t[15],10,-30611744),o=Cr(o,c,n,i,t[6],15,-1560198380),i=Cr(i,o,c,n,t[13],21,1309151649),n=Cr(n,i,o,c,t[4],6,-145523070),c=Cr(c,n,i,o,t[11],10,-1120210379),o=Cr(o,c,n,i,t[2],15,718787259),i=Cr(i,o,c,n,t[9],21,-343485551),e[0]=Jl(n,e[0]),e[1]=Jl(i,e[1]),e[2]=Jl(o,e[2]),e[3]=Jl(c,e[3])}function v0(e,t,n,i,o,c){return t=Jl(Jl(t,e),Jl(i,c)),Jl(t<<o|t>>>32-o,n)}function kr(e,t,n,i,o,c,f){return v0(t&n|~t&i,e,t,o,c,f)}function _r(e,t,n,i,o,c,f){return v0(t&i|n&~i,e,t,o,c,f)}function Er(e,t,n,i,o,c,f){return v0(t^n^i,e,t,o,c,f)}function Cr(e,t,n,i,o,c,f){return v0(n^(t|~i),e,t,o,c,f)}function ww(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)hg(i,jE(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(hg(i,o),t=0;t<16;t++)o[t]=0;return o[14]=8*n,hg(i,o),i}function jE(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var dy="0123456789abcdef".split("");function SE(e){for(var t="",n=0;n<4;n++)t+=dy[e>>8*n+4&15]+dy[e>>8*n&15];return t}function AE(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function xp(e){return ww(e).map(AE).join("")}var kE=(function(e){for(var t=0;t<e.length;t++)e[t]=SE(e[t]);return e.join("")})(ww("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jl(e,t){if(kE){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function bp(e,t){var n,i,o,c;if(e!==n){for(var f=(o=e,c=1+(256/e.length|0),new Array(c+1).join(o)),u=[],h=0;h<256;h++)u[h]=h;var m=0;for(h=0;h<256;h++){var p=u[h];m=(m+p+f.charCodeAt(h))%256,u[h]=u[m],u[m]=p}n=e,i=u}else u=i;var w=t.length,j=0,y=0,A="";for(h=0;h<w;h++)y=(y+(p=u[j=(j+1)%256]))%256,u[j]=u[y],u[y]=p,f=u[(u[j]+u[y])%256],A+=String.fromCharCode(t.charCodeAt(h)^f);return A}var uy={print:4,modify:8,copy:16,"annot-forms":32};function Hd(e,t,n,i){this.v=1,this.r=2;var o=192;e.forEach(function(u){if(uy.perm!==void 0)throw new Error("Invalid permission: "+u);o+=uy[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var c=(t+this.padding).substr(0,32),f=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(c,f),this.P=-(1+(255^o)),this.encryptionKey=xp(c+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=bp(this.encryptionKey,this.padding)}function $d(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var o=e.charCodeAt(i);t+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):e[i]}return t}function fy(e){if(Ma(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,o){if(o=o||!1,typeof n!="string"||typeof i!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var c=Math.random().toString(35);return t[n][c]=[i,!!o],c},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var c in t[n]){var f=t[n][c];try{f[0].apply(e,i)}catch(u){Wt.console&&$a.error("jsPDF PubSub Error",u.message,u)}f[1]&&o.push(c)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function t0(e){if(!(this instanceof t0))return new t0(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Nw(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Fc(e,t,n,i,o){if(!(this instanceof Fc))return new Fc(e,t,n,i,o);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Nw.call(this,i,o)}function Vd(e,t,n,i,o){if(!(this instanceof Vd))return new Vd(e,t,n,i,o);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Nw.call(this,i,o)}function Ot(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],o=arguments[2],c=arguments[3],f=[],u=1,h=16,m="S",p=null;Ma(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,o=e.format||o,c=e.compress||e.compressPdf||c,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(h=e.floatPrecision),m=e.defaultPathOperation||"S"),f=e.filters||(c===!0?["FlateEncode"]:f),i=i||"mm",n=(""+(n||"P")).toLowerCase();var w=e.putOnlyUsedFonts||!1,j={},y={internal:{},__private__:{}};y.__private__.PubSub=fy;var A="1.3",T=y.__private__.getPdfVersion=function(){return A};y.__private__.setPdfVersion=function(N){A=N};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return E};var C=y.__private__.getPageFormat=function(N){return E[N]};o=o||"a4";var I="compat",G="advanced",D=I;function te(){this.saveGraphicsState(),X(new Mt(Ge,0,0,-Ge,0,di()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),m="n",D=G}function de(){this.restoreGraphicsState(),m="S",D=I}var Y=y.__private__.combineFontStyleAndFontWeight=function(N,H){if(N=="bold"&&H=="normal"||N=="bold"&&H==400||N=="normal"&&H=="italic"||N=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(N=H==400||H==="normal"?N==="italic"?"italic":"normal":H!=700&&H!=="bold"||N!=="normal"?(H==700?"bold":H)+""+N:"bold"),N};y.advancedAPI=function(N){var H=D===I;return H&&te.call(this),typeof N!="function"||(N(this),H&&de.call(this)),this},y.compatAPI=function(N){var H=D===G;return H&&de.call(this),typeof N!="function"||(N(this),H&&te.call(this)),this},y.isAdvancedAPI=function(){return D===G};var O,R=function(N){if(D!==G)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=y.roundToPrecision=y.__private__.roundToPrecision=function(N,H){var ge=t||H;if(isNaN(N)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ge).replace(/0+$/,"")};O=y.hpf=y.__private__.hpf=typeof h=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return V(N,h)}:h==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return V(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return V(N,16)};var F=y.f2=y.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return V(N,2)},z=y.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return V(N,3)},ee=y.scale=y.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return D===I?N*Ge:D===G?N:void 0},le=function(N){return ee((function(H){return D===I?di()-H:D===G?H:void 0})(N))};y.__private__.setPrecision=y.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var ve,ae="00000000000000000000000000000000",se=y.__private__.getFileId=function(){return ae},Z=y.__private__.setFileId=function(N){return ae=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(_n=new Hd(p.userPermissions,p.userPassword,p.ownerPassword,ae)),ae};y.setFileId=function(N){return Z(N),this},y.getFileId=function(){return se()};var J=y.__private__.convertDateToPDFDate=function(N){var H=N.getTimezoneOffset(),ge=H<0?"+":"-",Ae=Math.floor(Math.abs(H/60)),Oe=Math.abs(H%60),at=[ge,q(Ae),"'",q(Oe),"'"].join("");return["D:",N.getFullYear(),q(N.getMonth()+1),q(N.getDate()),q(N.getHours()),q(N.getMinutes()),q(N.getSeconds()),at].join("")},fe=y.__private__.convertPDFDateToDate=function(N){var H=parseInt(N.substr(2,4),10),ge=parseInt(N.substr(6,2),10)-1,Ae=parseInt(N.substr(8,2),10),Oe=parseInt(N.substr(10,2),10),at=parseInt(N.substr(12,2),10),ct=parseInt(N.substr(14,2),10);return new Date(H,ge,Ae,Oe,at,ct,0)},U=y.__private__.setCreationDate=function(N){var H;if(N===void 0&&(N=new Date),N instanceof Date)H=J(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=N}return ve=H},_=y.__private__.getCreationDate=function(N){var H=ve;return N==="jsDate"&&(H=fe(ve)),H};y.setCreationDate=function(N){return U(N),this},y.getCreationDate=function(N){return _(N)};var L,q=y.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},B=y.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},re=0,oe=[],Q=[],ue=0,ye=[],ke=[],Ne=!1,pe=Q;y.__private__.setCustomOutputDestination=function(N){Ne=!0,pe=N};var Fe=function(N){Ne||(pe=N)};y.__private__.resetCustomOutputDestination=function(){Ne=!1,pe=Q};var X=y.__private__.out=function(N){return N=N.toString(),ue+=N.length+1,pe.push(N),pe},We=y.__private__.write=function(N){return X(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},xe=y.__private__.getArrayBuffer=function(N){for(var H=N.length,ge=new ArrayBuffer(H),Ae=new Uint8Array(ge);H--;)Ae[H]=N.charCodeAt(H);return ge},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Ue};var Re=e.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(N){return Re=D===G?N/Ge:N,this};var ze,rt=y.__private__.getFontSize=y.getFontSize=function(){return D===I?Re:Re*Ge},dt=e.R2L||!1;y.__private__.setR2L=y.setR2L=function(N){return dt=N,this},y.__private__.getR2L=y.getR2L=function(){return dt};var gt,Ee=y.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))ze=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');ze=N}else ze=parseInt(N,10)};y.__private__.getZoomMode=function(){return ze};var Le,Xe=y.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');gt=N};y.__private__.getPageMode=function(){return gt};var Ze=y.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Le=N};y.__private__.getLayoutMode=function(){return Le},y.__private__.setDisplayMode=y.setDisplayMode=function(N,H,ge){return Ee(N),Ze(H),Xe(ge),this};var we={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(N){if(Object.keys(we).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return we[N]},y.__private__.getDocumentProperties=function(){return we},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(N){for(var H in we)we.hasOwnProperty(H)&&N[H]&&(we[H]=N[H]);return this},y.__private__.setDocumentProperty=function(N,H){if(Object.keys(we).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return we[N]=H};var Be,Ge,ut,je,Ve,lt={},ht={},bt=[],yt={},na={},Dt={},Ht={},ja=null,be=0,tt=[],vt=new fy(y),ra=e.hotfixes||[],Bt={},on={},ln=[],Mt=function N(H,ge,Ae,Oe,at,ct){if(!(this instanceof N))return new N(H,ge,Ae,Oe,at,ct);isNaN(H)&&(H=1),isNaN(ge)&&(ge=0),isNaN(Ae)&&(Ae=0),isNaN(Oe)&&(Oe=1),isNaN(at)&&(at=0),isNaN(ct)&&(ct=0),this._matrix=[H,ge,Ae,Oe,at,ct]};Object.defineProperty(Mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Mt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(N)},Mt.prototype.multiply=function(N){var H=N.sx*this.sx+N.shy*this.shx,ge=N.sx*this.shy+N.shy*this.sy,Ae=N.shx*this.sx+N.sy*this.shx,Oe=N.shx*this.shy+N.sy*this.sy,at=N.tx*this.sx+N.ty*this.shx+this.tx,ct=N.tx*this.shy+N.ty*this.sy+this.ty;return new Mt(H,ge,Ae,Oe,at,ct)},Mt.prototype.decompose=function(){var N=this.sx,H=this.shy,ge=this.shx,Ae=this.sy,Oe=this.tx,at=this.ty,ct=Math.sqrt(N*N+H*H),At=(N/=ct)*ge+(H/=ct)*Ae;ge-=N*At,Ae-=H*At;var Rt=Math.sqrt(ge*ge+Ae*Ae);return At/=Rt,N*(Ae/=Rt)<H*(ge/=Rt)&&(N=-N,H=-H,At=-At,ct=-ct),{scale:new Mt(ct,0,0,Rt,0,0),translate:new Mt(1,0,0,1,Oe,at),rotate:new Mt(N,H,-H,N,0,0),skew:new Mt(1,0,At,1,0,0)}},Mt.prototype.toString=function(N){return this.join(" ")},Mt.prototype.inversed=function(){var N=this.sx,H=this.shy,ge=this.shx,Ae=this.sy,Oe=this.tx,at=this.ty,ct=1/(N*Ae-H*ge),At=Ae*ct,Rt=-H*ct,$t=-ge*ct,Yt=N*ct;return new Mt(At,Rt,$t,Yt,-At*Oe-$t*at,-Rt*Oe-Yt*at)},Mt.prototype.applyToPoint=function(N){var H=N.x*this.sx+N.y*this.shx+this.tx,ge=N.x*this.shy+N.y*this.sy+this.ty;return new Yr(H,ge)},Mt.prototype.applyToRectangle=function(N){var H=this.applyToPoint(N),ge=this.applyToPoint(new Yr(N.x+N.w,N.y+N.h));return new si(H.x,H.y,ge.x-H.x,ge.y-H.y)},Mt.prototype.clone=function(){var N=this.sx,H=this.shy,ge=this.shx,Ae=this.sy,Oe=this.tx,at=this.ty;return new Mt(N,H,ge,Ae,Oe,at)},y.Matrix=Mt;var ti=y.matrixMult=function(N,H){return H.multiply(N)},Os=new Mt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Os;var Or=function(N,H){if(!na[N]){var ge=(H instanceof Fc?"Sh":"P")+(Object.keys(yt).length+1).toString(10);H.id=ge,na[N]=ge,yt[ge]=H,vt.publish("addPattern",H)}};y.ShadingPattern=Fc,y.TilingPattern=Vd,y.addShadingPattern=function(N,H){return R("addShadingPattern()"),Or(N,H),this},y.beginTilingPattern=function(N){R("beginTilingPattern()"),ko(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},y.endTilingPattern=function(N,H){R("endTilingPattern()"),H.stream=ke[L].join(`
`),Or(N,H),vt.publish("endTilingPattern",H),ln.pop().restore()};var Mr,Ga=y.__private__.newObject=function(){var N=xn();return Fn(N,!0),N},xn=y.__private__.newObjectDeferred=function(){return re++,oe[re]=function(){return ue},re},Fn=function(N,H){return H=typeof H=="boolean"&&H,oe[N]=ue,H&&X(N+" 0 obj"),N},Bi=y.__private__.newAdditionalObject=function(){var N={objId:xn(),content:""};return ye.push(N),N},fr=xn(),Ca=xn(),Va=y.__private__.decodeColorString=function(N){var H=N.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ge=parseFloat(H[0]);H=[ge,ge,ge,"r"]}for(var Ae="#",Oe=0;Oe<3;Oe++)Ae+=("0"+Math.floor(255*parseFloat(H[Oe])).toString(16)).slice(-2);return Ae},ar=y.__private__.encodeColorString=function(N){var H;typeof N=="string"&&(N={ch1:N});var ge=N.ch1,Ae=N.ch2,Oe=N.ch3,at=N.ch4,ct=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var At=new vw(ge);if(At.ok)ge=At.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Rt=parseInt(ge.substr(1),16);ge=Rt>>16&255,Ae=Rt>>8&255,Oe=255&Rt}if(Ae===void 0||at===void 0&&ge===Ae&&Ae===Oe)H=typeof ge=="string"?ge+" "+ct[0]:N.precision===2?F(ge/255)+" "+ct[0]:z(ge/255)+" "+ct[0];else if(at===void 0||Ma(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return["1.","1.","1.",ct[1]].join(" ");H=typeof ge=="string"?[ge,Ae,Oe,ct[1]].join(" "):N.precision===2?[F(ge/255),F(Ae/255),F(Oe/255),ct[1]].join(" "):[z(ge/255),z(Ae/255),z(Oe/255),ct[1]].join(" ")}else H=typeof ge=="string"?[ge,Ae,Oe,at,ct[2]].join(" "):N.precision===2?[F(ge),F(Ae),F(Oe),F(at),ct[2]].join(" "):[z(ge),z(Ae),z(Oe),z(at),ct[2]].join(" ");return H},Dr=y.__private__.getFilters=function(){return f},Vr=y.__private__.putStream=function(N){var H=(N=N||{}).data||"",ge=N.filters||Dr(),Ae=N.alreadyAppliedFilters||[],Oe=N.addLength1||!1,at=H.length,ct=N.objectId,At=function(En){return En};if(p!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(At=_n.encryptor(ct,0));var Rt={};ge===!0&&(ge=["FlateEncode"]);var $t=N.additionalKeyValues||[],Yt=(Rt=Ot.API.processDataByFilters!==void 0?Ot.API.processDataByFilters(H,ge):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(Rt.data.length!==0&&($t.push({key:"Length",value:Rt.data.length}),Oe===!0&&$t.push({key:"Length1",value:at})),Yt.length!=0)if(Yt.split("/").length-1==1)$t.push({key:"Filter",value:Yt});else{$t.push({key:"Filter",value:"["+Yt+"]"});for(var fa=0;fa<$t.length;fa+=1)if($t[fa].key==="DecodeParms"){for(var Wa=[],dn=0;dn<Rt.reverseChain.split("/").length-1;dn+=1)Wa.push("null");Wa.push($t[fa].value),$t[fa].value="["+Wa.join(" ")+"]"}}X("<<");for(var Da=0;Da<$t.length;Da++)X("/"+$t[Da].key+" "+$t[Da].value);X(">>"),Rt.data.length!==0&&(X("stream"),X(At(Rt.data)),X("endstream"))},vo=y.__private__.putPage=function(N){var H=N.number,ge=N.data,Ae=N.objId,Oe=N.contentsObjId;Fn(Ae,!0),X("<</Type /Page"),X("/Parent "+N.rootDictionaryObjId+" 0 R"),X("/Resources "+N.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(O(N.mediaBox.bottomLeftX))+" "+parseFloat(O(N.mediaBox.bottomLeftY))+" "+O(N.mediaBox.topRightX)+" "+O(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&X("/CropBox ["+O(N.cropBox.bottomLeftX)+" "+O(N.cropBox.bottomLeftY)+" "+O(N.cropBox.topRightX)+" "+O(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&X("/BleedBox ["+O(N.bleedBox.bottomLeftX)+" "+O(N.bleedBox.bottomLeftY)+" "+O(N.bleedBox.topRightX)+" "+O(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&X("/TrimBox ["+O(N.trimBox.bottomLeftX)+" "+O(N.trimBox.bottomLeftY)+" "+O(N.trimBox.topRightX)+" "+O(N.trimBox.topRightY)+"]"),N.artBox!==null&&X("/ArtBox ["+O(N.artBox.bottomLeftX)+" "+O(N.artBox.bottomLeftY)+" "+O(N.artBox.topRightX)+" "+O(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&X("/UserUnit "+N.userUnit),vt.publish("putPage",{objId:Ae,pageContext:tt[H],pageNumber:H,page:ge}),X("/Contents "+Oe+" 0 R"),X(">>"),X("endobj");var at=ge.join(`
`);return D===G&&(at+=`
Q`),Fn(Oe,!0),Vr({data:at,filters:Dr(),objectId:Oe}),X("endobj"),Ae},hs=y.__private__.putPages=function(){var N,H,ge=[];for(N=1;N<=be;N++)tt[N].objId=xn(),tt[N].contentsObjId=xn();for(N=1;N<=be;N++)ge.push(vo({number:N,data:ke[N],objId:tt[N].objId,contentsObjId:tt[N].contentsObjId,mediaBox:tt[N].mediaBox,cropBox:tt[N].cropBox,bleedBox:tt[N].bleedBox,trimBox:tt[N].trimBox,artBox:tt[N].artBox,userUnit:tt[N].userUnit,rootDictionaryObjId:fr,resourceDictionaryObjId:Ca}));Fn(fr,!0),X("<</Type /Pages");var Ae="/Kids [";for(H=0;H<be;H++)Ae+=ge[H]+" 0 R ";X(Ae+"]"),X("/Count "+be),X(">>"),X("endobj"),vt.publish("postPutPages")},ms=function(N){vt.publish("putFont",{font:N,out:X,newObject:Ga,putStream:Vr}),N.isAlreadyPutted!==!0&&(N.objectNumber=Ga(),X("<<"),X("/Type /Font"),X("/BaseFont /"+$d(N.postScriptName)),X("/Subtype /Type1"),typeof N.encoding=="string"&&X("/Encoding /"+N.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},zi=function(N){N.objectNumber=Ga();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[O(N.x),O(N.y),O(N.x+N.width),O(N.y+N.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ge=N.pages[1].join(`
`);Vr({data:ge,additionalKeyValues:H,objectId:N.objectNumber}),X("endobj")},gs=function(N,H){H||(H=21);var ge=Ga(),Ae=(function(ct,At){var Rt,$t=[],Yt=1/(At-1);for(Rt=0;Rt<1;Rt+=Yt)$t.push(Rt);if($t.push(1),ct[0].offset!=0){var fa={offset:0,color:ct[0].color};ct.unshift(fa)}if(ct[ct.length-1].offset!=1){var Wa={offset:1,color:ct[ct.length-1].color};ct.push(Wa)}for(var dn="",Da=0,En=0;En<$t.length;En++){for(Rt=$t[En];Rt>ct[Da+1].offset;)Da++;var yn=ct[Da].offset,$n=(Rt-yn)/(ct[Da+1].offset-yn),ui=ct[Da].color,ws=ct[Da+1].color;dn+=B(Math.round((1-$n)*ui[0]+$n*ws[0]).toString(16))+B(Math.round((1-$n)*ui[1]+$n*ws[1]).toString(16))+B(Math.round((1-$n)*ui[2]+$n*ws[2]).toString(16))}return dn.trim()})(N.colors,H),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+H+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vr({data:Ae,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),X("endobj"),N.objectNumber=Ga(),X("<< /ShadingType "+N.type),X("/ColorSpace /DeviceRGB");var at="/Coords ["+O(parseFloat(N.coords[0]))+" "+O(parseFloat(N.coords[1]))+" ";N.type===2?at+=O(parseFloat(N.coords[2]))+" "+O(parseFloat(N.coords[3])):at+=O(parseFloat(N.coords[2]))+" "+O(parseFloat(N.coords[3]))+" "+O(parseFloat(N.coords[4]))+" "+O(parseFloat(N.coords[5])),X(at+="]"),N.matrix&&X("/Matrix ["+N.matrix.toString()+"]"),X("/Function "+ge+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},ps=function(N,H){var ge=xn(),Ae=Ga();H.push({resourcesOid:ge,objectOid:Ae}),N.objectNumber=Ae;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+N.boundingBox.map(O).join(" ")+"]"}),Oe.push({key:"XStep",value:O(N.xStep)}),Oe.push({key:"YStep",value:O(N.yStep)}),Oe.push({key:"Resources",value:ge+" 0 R"}),N.matrix&&Oe.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Vr({data:N.stream,additionalKeyValues:Oe,objectId:N.objectNumber}),X("endobj")},wo=function(N){for(var H in N.objectNumber=Ga(),X("<<"),N)switch(H){case"opacity":X("/ca "+F(N[H]));break;case"stroke-opacity":X("/CA "+F(N[H]))}X(">>"),X("endobj")},Ms=function(N){Fn(N.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var H in X("/Font <<"),lt)lt.hasOwnProperty(H)&&(w===!1||w===!0&&j.hasOwnProperty(H))&&X("/"+H+" "+lt[H].objectNumber+" 0 R");X(">>")})(),(function(){if(Object.keys(yt).length>0){for(var H in X("/Shading <<"),yt)yt.hasOwnProperty(H)&&yt[H]instanceof Fc&&yt[H].objectNumber>=0&&X("/"+H+" "+yt[H].objectNumber+" 0 R");vt.publish("putShadingPatternDict"),X(">>")}})(),(function(H){if(Object.keys(yt).length>0){for(var ge in X("/Pattern <<"),yt)yt.hasOwnProperty(ge)&&yt[ge]instanceof y.TilingPattern&&yt[ge].objectNumber>=0&&yt[ge].objectNumber<H&&X("/"+ge+" "+yt[ge].objectNumber+" 0 R");vt.publish("putTilingPatternDict"),X(">>")}})(N.objectOid),(function(){if(Object.keys(Dt).length>0){var H;for(H in X("/ExtGState <<"),Dt)Dt.hasOwnProperty(H)&&Dt[H].objectNumber>=0&&X("/"+H+" "+Dt[H].objectNumber+" 0 R");vt.publish("putGStateDict"),X(">>")}})(),(function(){for(var H in X("/XObject <<"),Bt)Bt.hasOwnProperty(H)&&Bt[H].objectNumber>=0&&X("/"+H+" "+Bt[H].objectNumber+" 0 R");vt.publish("putXobjectDict"),X(">>")})(),X(">>"),X("endobj")},cn=function(N){ht[N.fontName]=ht[N.fontName]||{},ht[N.fontName][N.fontStyle]=N.id},tc=function(N,H,ge,Ae,Oe){var at={id:"F"+(Object.keys(lt).length+1).toString(10),postScriptName:N,fontName:H,fontStyle:ge,encoding:Ae,isStandardFont:Oe||!1,metadata:{}};return vt.publish("addFont",{font:at,instance:this}),lt[at.id]=at,cn(at),at.id},Fr=y.__private__.pdfEscape=y.pdfEscape=function(N,H){return(function(ge,Ae){var Oe,at,ct,At,Rt,$t,Yt,fa,Wa;if(ct=(Ae=Ae||{}).sourceEncoding||"Unicode",Rt=Ae.outputEncoding,(Ae.autoencode||Rt)&&lt[Be].metadata&&lt[Be].metadata[ct]&&lt[Be].metadata[ct].encoding&&(At=lt[Be].metadata[ct].encoding,!Rt&&lt[Be].encoding&&(Rt=lt[Be].encoding),!Rt&&At.codePages&&(Rt=At.codePages[0]),typeof Rt=="string"&&(Rt=At[Rt]),Rt)){for(Yt=!1,$t=[],Oe=0,at=ge.length;Oe<at;Oe++)(fa=Rt[ge.charCodeAt(Oe)])?$t.push(String.fromCharCode(fa)):$t.push(ge[Oe]),$t[Oe].charCodeAt(0)>>8&&(Yt=!0);ge=$t.join("")}for(Oe=ge.length;Yt===void 0&&Oe!==0;)ge.charCodeAt(Oe-1)>>8&&(Yt=!0),Oe--;if(!Yt)return ge;for($t=Ae.noBOM?[]:[254,255],Oe=0,at=ge.length;Oe<at;Oe++){if((Wa=(fa=ge.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$t.push(Wa),$t.push(fa-(Wa<<8))}return String.fromCharCode.apply(void 0,$t)})(N,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xs=y.__private__.beginPage=function(N){ke[++be]=[],tt[be]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},nc(be),Fe(ke[L])},ai=function(N,H){var ge,Ae,Oe;switch(n=H||n,typeof N=="string"&&(ge=C(N.toLowerCase()),Array.isArray(ge)&&(Ae=ge[0],Oe=ge[1])),Array.isArray(N)&&(Ae=N[0]*Ge,Oe=N[1]*Ge),isNaN(Ae)&&(Ae=o[0],Oe=o[1]),(Ae>14400||Oe>14400)&&($a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Oe=Math.min(14400,Oe)),o=[Ae,Oe],n.substr(0,1)){case"l":Oe>Ae&&(o=[Oe,Ae]);break;case"p":Ae>Oe&&(o=[Oe,Ae])}xs(o),zt(jo),X(Br),fl!==0&&X(fl+" J"),Pn!==0&&X(Pn+" j"),vt.publish("addPage",{pageNumber:be})},ac=function(N){N>0&&N<=be&&(ke.splice(N,1),tt.splice(N,1),be--,L>be&&(L=be),this.setPage(L))},nc=function(N){N>0&&N<=be&&(L=N)},rc=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return ke.length-1},Yc=function(N,H,ge){var Ae,Oe=void 0;return ge=ge||{},N=N!==void 0?N:lt[Be].fontName,H=H!==void 0?H:lt[Be].fontStyle,Ae=N.toLowerCase(),ht[Ae]!==void 0&&ht[Ae][H]!==void 0?Oe=ht[Ae][H]:ht[N]!==void 0&&ht[N][H]!==void 0?Oe=ht[N][H]:ge.disableWarning===!1&&$a.warn("Unable to look up font label for font '"+N+"', '"+H+"'. Refer to getFontList() for available fonts."),Oe||ge.noFallback||(Oe=ht.times[H])==null&&(Oe=ht.times.normal),Oe},Pr=y.__private__.putInfo=function(){var N=Ga(),H=function(Ae){return Ae};for(var ge in p!==null&&(H=_n.encryptor(N,0)),X("<<"),X("/Producer ("+Fr(H("jsPDF "+Ot.version))+")"),we)we.hasOwnProperty(ge)&&we[ge]&&X("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Fr(H(we[ge]))+")");X("/CreationDate ("+Fr(H(ve))+")"),X(">>"),X("endobj")},ni=y.__private__.putCatalog=function(N){var H=(N=N||{}).rootDictionaryObjId||fr;switch(Ga(),X("<<"),X("/Type /Catalog"),X("/Pages "+H+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+ze;ge.substr(ge.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&X("/OpenAction [3 0 R /XYZ null null "+F(ze)+"]")}switch(Le||(Le="continuous"),Le){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}gt&&X("/PageMode /"+gt),vt.publish("putCatalog"),X(">>"),X("endobj")},bs=y.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(re+1)),X("/Root "+re+" 0 R"),X("/Info "+(re-1)+" 0 R"),p!==null&&X("/Encrypt "+_n.oid+" 0 R"),X("/ID [ <"+ae+"> <"+ae+"> ]"),X(">>")},ya=y.__private__.putHeader=function(){X("%PDF-"+A),X("%")},sc=y.__private__.putXRef=function(){var N="0000000000";X("xref"),X("0 "+(re+1)),X("0000000000 65535 f ");for(var H=1;H<=re;H++)typeof oe[H]=="function"?X((N+oe[H]()).slice(-10)+" 00000 n "):oe[H]!==void 0?X((N+oe[H]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Ds=y.__private__.buildDocument=function(){var N;re=0,ue=0,Q=[],oe=[],ye=[],fr=xn(),Ca=xn(),Fe(Q),vt.publish("buildDocument"),ya(),hs(),(function(){vt.publish("putAdditionalObjects");for(var ge=0;ge<ye.length;ge++){var Ae=ye[ge];Fn(Ae.objId,!0),X(Ae.content),X("endobj")}vt.publish("postPutAdditionalObjects")})(),N=[],(function(){for(var ge in lt)lt.hasOwnProperty(ge)&&(w===!1||w===!0&&j.hasOwnProperty(ge))&&ms(lt[ge])})(),(function(){var ge;for(ge in Dt)Dt.hasOwnProperty(ge)&&wo(Dt[ge])})(),(function(){for(var ge in Bt)Bt.hasOwnProperty(ge)&&zi(Bt[ge])})(),(function(ge){var Ae;for(Ae in yt)yt.hasOwnProperty(Ae)&&(yt[Ae]instanceof Fc?gs(yt[Ae]):yt[Ae]instanceof Vd&&ps(yt[Ae],ge))})(N),vt.publish("putResources"),N.forEach(Ms),Ms({resourcesOid:Ca,objectOid:Number.MAX_SAFE_INTEGER}),vt.publish("postPutResources"),p!==null&&(_n.oid=Ga(),X("<<"),X("/Filter /Standard"),X("/V "+_n.v),X("/R "+_n.r),X("/U <"+_n.toHexString(_n.U)+">"),X("/O <"+_n.toHexString(_n.O)+">"),X("/P "+_n.P),X(">>"),X("endobj")),Pr(),ni();var H=ue;return sc(),bs(),X("startxref"),X(""+H),X("%%EOF"),Fe(ke[L]),Q.join(`
`)},Ii=y.__private__.getBlob=function(N){return new Blob([xe(N)],{type:"application/pdf"})},ic=y.output=y.__private__.output=(Mr=function(N,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",N){case void 0:return Ds();case"save":y.save(H.filename);break;case"arraybuffer":return xe(Ds());case"blob":return Ii(Ds());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(Ii(Ds()))||void 0;$a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Ae=Ds();try{ge=cy(Ae)}catch{ge=cy(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+H.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Oe=H.pdfObjectUrl,at="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",At=Wt.open();return At!==null&&At.document.write(ct),At}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',$t=Wt.open();if($t!==null){$t.document.write(Rt);var Yt=this;$t.document.documentElement.querySelector("#pdfViewer").onload=function(){$t.document.title=H.filename,$t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return $t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Wa=Wt.open();if(Wa!==null&&(Wa.document.write(fa),Wa.document.title=H.filename),Wa||typeof safari>"u")return Wa;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",H);default:return null}},Mr.foo=function(){try{return Mr.apply(this,arguments)}catch(ge){var N=ge.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var H="Error in function "+N.split(`
`)[0].split("<")[0]+": "+ge.message;if(!Wt.console)throw new Error(H);Wt.console.error(H,ge),Wt.alert&&alert(H)}},Mr.foo.bar=Mr,Mr.foo),hr=function(N){return Array.isArray(ra)===!0&&ra.indexOf(N)>-1};switch(i){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=hr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ge=i}var _n=null;U(),Z();var bn=y.__private__.getPageInfo=y.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[N].objId,pageNumber:N,pageContext:tt[N]}},dl=y.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in tt)if(tt[H].objId===N)break;return bn(H)},Xc=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:tt[L].objId,pageNumber:L,pageContext:tt[L]}};y.addPage=function(){return ai.apply(this,arguments),this},y.setPage=function(){return nc.apply(this,arguments),Fe.call(this,ke[L]),this},y.insertPage=function(N){return this.addPage(),this.movePage(L,N),this},y.movePage=function(N,H){var ge,Ae;if(N>H){ge=ke[N],Ae=tt[N];for(var Oe=N;Oe>H;Oe--)ke[Oe]=ke[Oe-1],tt[Oe]=tt[Oe-1];ke[H]=ge,tt[H]=Ae,this.setPage(H)}else if(N<H){ge=ke[N],Ae=tt[N];for(var at=N;at<H;at++)ke[at]=ke[at+1],tt[at]=tt[at+1];ke[H]=ge,tt[H]=Ae,this.setPage(H)}return this},y.deletePage=function(){return ac.apply(this,arguments),this},y.__private__.text=y.text=function(N,H,ge,Ae,Oe){var at,ct,At,Rt,$t,Yt,fa,Wa,dn,Da=(Ae=Ae||{}).scope||this;if(typeof N=="number"&&typeof H=="number"&&(typeof ge=="string"||Array.isArray(ge))){var En=ge;ge=H,H=N,N=En}if(arguments[3]instanceof Mt==0?(At=arguments[4],Rt=arguments[5],Ma(fa=arguments[3])==="object"&&fa!==null||(typeof At=="string"&&(Rt=At,At=null),typeof fa=="string"&&(Rt=fa,fa=null),typeof fa=="number"&&(At=fa,fa=null),Ae={flags:fa,angle:At,align:Rt})):(R("The transform parameter of text() with a Matrix value"),dn=Oe),isNaN(H)||isNaN(ge)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Da;var yn,$n="",ui=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:ri,ws=Da.internal.scaleFactor;function fi(va){return va=va.split("	").join(Array(Ae.TabLen||9).join(" ")),Fr(va,fa)}function gc(va){for(var ha,Fa=va.concat(),fn=[],Gs=Fa.length;Gs--;)typeof(ha=Fa.shift())=="string"?fn.push(ha):Array.isArray(va)&&(ha.length===1||ha[1]===void 0&&ha[2]===void 0)?fn.push(ha[0]):fn.push([ha[0],ha[1],ha[2]]);return fn}function ml(va,ha){var Fa;if(typeof va=="string")Fa=ha(va)[0];else if(Array.isArray(va)){for(var fn,Gs,As=va.concat(),Lo=[],bc=As.length;bc--;)typeof(fn=As.shift())=="string"?Lo.push(ha(fn)[0]):Array.isArray(fn)&&typeof fn[0]=="string"&&(Gs=ha(fn[0],fn[1],fn[2]),Lo.push([Gs[0],Gs[1],Gs[2]]));Fa=Lo}return Fa}var Us=!1,Ns=!0;if(typeof N=="string")Us=!0;else if(Array.isArray(N)){var Eo=N.concat();ct=[];for(var hi,Un=Eo.length;Un--;)(typeof(hi=Eo.shift())!="string"||Array.isArray(hi)&&typeof hi[0]!="string")&&(Ns=!1);Us=Ns}if(Us===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Hi=Re/Da.internal.scaleFactor,$i=Hi*(ui-1);switch(Ae.baseline){case"bottom":ge-=$i;break;case"top":ge+=Hi-$i;break;case"hanging":ge+=Hi-2*$i;break;case"middle":ge+=Hi/2-$i}if((Yt=Ae.maxWidth||0)>0&&(typeof N=="string"?N=Da.splitTextToSize(N,Yt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(va,ha){return va.concat(Da.splitTextToSize(ha,Yt))},[]))),at={text:N,x:H,y:ge,options:Ae,mutex:{pdfEscape:Fr,activeFontKey:Be,fonts:lt,activeFontSize:Re}},vt.publish("preProcessText",at),N=at.text,At=(Ae=at.options).angle,dn instanceof Mt==0&&At&&typeof At=="number"){At*=Math.PI/180,Ae.rotationDirection===0&&(At=-At),D===G&&(At=-At);var gl=Math.cos(At),Bs=Math.sin(At);dn=new Mt(gl,Bs,-Bs,gl,0,0)}else At&&At instanceof Mt&&(dn=At);D!==G||dn||(dn=Os),($t=Ae.charSpace||Wr)!==void 0&&($n+=O(ee($t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wa=Ae.horizontalScale)!==void 0&&($n+=O(100*Wa)+` Tz
`),Ae.lang;var gr=-1,mi=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,pl=Da.internal.getCurrentPageInfo().pageContext;switch(mi){case 0:case!1:case"fill":gr=0;break;case 1:case!0:case"stroke":gr=1;break;case 2:case"fillThenStroke":gr=2;break;case 3:case"invisible":gr=3;break;case 4:case"fillAndAddForClipping":gr=4;break;case 5:case"strokeAndAddPathForClipping":gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gr=6;break;case 7:case"addToPathForClipping":gr=7}var pc=pl.usedRenderingMode!==void 0?pl.usedRenderingMode:-1;gr!==-1?$n+=gr+` Tr
`:pc!==-1&&($n+=`0 Tr
`),gr!==-1&&(pl.usedRenderingMode=gr),Rt=Ae.align||"left";var zr,js=Re*ui,gi=Da.internal.pageSize.getWidth(),xc=lt[Be];$t=Ae.charSpace||Wr,Yt=Ae.maxWidth||0,fa=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var Ss=[],Gi=function(va){return Da.getStringUnitWidth(va,{font:xc,charSpace:$t,fontSize:Re,doKerning:!1})*Re/ws};if(Object.prototype.toString.call(N)==="[object Array]"){var jr;ct=gc(N),Rt!=="left"&&(zr=ct.map(Gi));var pr,zs=0;if(Rt==="right"){H-=zr[0],N=[],Un=ct.length;for(var Is=0;Is<Un;Is++)Is===0?(pr=Ur(H),jr=Hn(ge)):(pr=ee(zs-zr[Is]),jr=-js),N.push([ct[Is],pr,jr]),zs=zr[Is]}else if(Rt==="center"){H-=zr[0]/2,N=[],Un=ct.length;for(var pi=0;pi<Un;pi++)pi===0?(pr=Ur(H),jr=Hn(ge)):(pr=ee((zs-zr[pi])/2),jr=-js),N.push([ct[pi],pr,jr]),zs=zr[pi]}else if(Rt==="left"){N=[],Un=ct.length;for(var xl=0;xl<Un;xl++)N.push(ct[xl])}else if(Rt==="justify"&&xc.encoding==="Identity-H"){N=[],Un=ct.length,Yt=Yt!==0?Yt:gi;for(var bl=0,un=0;un<Un;un++)if(jr=un===0?Hn(ge):-js,pr=un===0?Ur(H):bl,un<Un-1){var rd=ee((Yt-zr[un])/(ct[un].split(" ").length-1)),qs=ct[un].split(" ");N.push([qs[0]+" ",pr,jr]),bl=0;for(var Hs=1;Hs<qs.length;Hs++){var Gn=(Gi(qs[Hs-1]+" "+qs[Hs])-Gi(qs[Hs]))*ws+rd;Hs==qs.length-1?N.push([qs[Hs],Gn,0]):N.push([qs[Hs]+" ",Gn,0]),bl-=Gn}}else N.push([ct[un],pr,jr]);N.push(["",bl,0])}else{if(Rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Un=ct.length,Yt=Yt!==0?Yt:gi,un=0;un<Un;un++){jr=un===0?Hn(ge):-js,pr=un===0?Ur(H):0;var xi=ct[un].split(" ").length-1,yl=xi>0?(Yt-zr[un])/xi:0;un<Un-1?Ss.push(O(ee(yl))):Ss.push(0),N.push([ct[un],pr,jr])}}}(typeof Ae.R2L=="boolean"?Ae.R2L:dt)===!0&&(N=ml(N,function(va,ha,Fa){return[va.split("").reverse().join(""),ha,Fa]})),at={text:N,x:H,y:ge,options:Ae,mutex:{pdfEscape:Fr,activeFontKey:Be,fonts:lt,activeFontSize:Re}},vt.publish("postProcessText",at),N=at.text,yn=at.mutex.isHex||!1;var vl=lt[Be].encoding;vl!=="WinAnsiEncoding"&&vl!=="StandardEncoding"||(N=ml(N,function(va,ha,Fa){return[fi(va),ha,Fa]})),ct=gc(N),N=[];for(var bi,yi,$s,Co=Array.isArray(ct[0])?1:0,Ir="",vi=function(va,ha,Fa){var fn="";return Fa instanceof Mt?(Fa=typeof Ae.angle=="number"?ti(Fa,new Mt(1,0,0,1,va,ha)):ti(new Mt(1,0,0,1,va,ha),Fa),D===G&&(Fa=ti(new Mt(1,0,0,-1,0,0),Fa)),fn=Fa.join(" ")+` Tm
`):fn=O(va)+" "+O(ha)+` Td
`,fn},nr=0;nr<ct.length;nr++){switch(Ir="",Co){case 1:$s=(yn?"<":"(")+ct[nr][0]+(yn?">":")"),bi=parseFloat(ct[nr][1]),yi=parseFloat(ct[nr][2]);break;case 0:$s=(yn?"<":"(")+ct[nr]+(yn?">":")"),bi=Ur(H),yi=Hn(ge)}Ss!==void 0&&Ss[nr]!==void 0&&(Ir=Ss[nr]+` Tw
`),nr===0?N.push(Ir+vi(bi,yi,dn)+$s):Co===0?N.push(Ir+$s):Co===1&&N.push(Ir+vi(bi,yi,dn)+$s)}N=Co===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Xr=`BT
/`;return Xr+=Be+" "+Re+` Tf
`,Xr+=O(Re*ui)+` TL
`,Xr+=Fs+`
`,Xr+=$n,Xr+=N,X(Xr+="ET"),j[Be]=!0,Da};var oc=y.__private__.clip=y.clip=function(N){return X(N==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return oc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return X("n"),this};var mr=y.__private__.isValidStyle=function(N){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(H=!0),H};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(N){return mr(N)&&(m=N),this};var lc=y.__private__.getStyle=y.getStyle=function(N){var H=m;switch(N){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=N}return H},cc=y.close=function(){return X("h"),this};y.stroke=function(){return X("S"),this},y.fill=function(N){return ys("f",N),this},y.fillEvenOdd=function(N){return ys("f*",N),this},y.fillStroke=function(N){return ys("B",N),this},y.fillStrokeEvenOdd=function(N){return ys("B*",N),this};var ys=function(N,H){Ma(H)==="object"?Jc(H,N):X(N)},No=function(N){N===null||D===G&&N===void 0||(N=lc(N),X(N))};function Kc(N,H,ge,Ae,Oe){var at=new Vd(H||this.boundingBox,ge||this.xStep,Ae||this.yStep,this.gState,Oe||this.matrix);at.stream=this.stream;var ct=N+"$$"+this.cloneIndex+++"$$";return Or(ct,at),at}var Jc=function(N,H){var ge=na[N.key],Ae=yt[ge];if(Ae instanceof Fc)X("q"),X(dc(H)),Ae.gState&&y.setGState(Ae.gState),X(N.matrix.toString()+" cm"),X("/"+ge+" sh"),X("Q");else if(Ae instanceof Vd){var Oe=new Mt(1,0,0,-1,0,di());N.matrix&&(Oe=Oe.multiply(N.matrix||Os),ge=Kc.call(Ae,N.key,N.boundingBox,N.xStep,N.yStep,Oe).id),X("q"),X("/Pattern cs"),X("/"+ge+" scn"),Ae.gState&&y.setGState(Ae.gState),X(H),X("Q")}},dc=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},uc=y.moveTo=function(N,H){return X(O(ee(N))+" "+O(le(H))+" m"),this},Zc=y.lineTo=function(N,H){return X(O(ee(N))+" "+O(le(H))+" l"),this},Nr=y.curveTo=function(N,H,ge,Ae,Oe,at){return X([O(ee(N)),O(le(H)),O(ee(ge)),O(le(Ae)),O(ee(Oe)),O(le(at)),"c"].join(" ")),this};y.__private__.line=y.line=function(N,H,ge,Ae,Oe){if(isNaN(N)||isNaN(H)||isNaN(ge)||isNaN(Ae)||!mr(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return D===I?this.lines([[ge-N,Ae-H]],N,H,[1,1],Oe||"S"):this.lines([[ge-N,Ae-H]],N,H,[1,1]).stroke()},y.__private__.lines=y.lines=function(N,H,ge,Ae,Oe,at){var ct,At,Rt,$t,Yt,fa,Wa,dn,Da,En,yn,$n;if(typeof N=="number"&&($n=ge,ge=H,H=N,N=$n),Ae=Ae||[1,1],at=at||!1,isNaN(H)||isNaN(ge)||!Array.isArray(N)||!Array.isArray(Ae)||!mr(Oe)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uc(H,ge),ct=Ae[0],At=Ae[1],$t=N.length,En=H,yn=ge,Rt=0;Rt<$t;Rt++)(Yt=N[Rt]).length===2?(En=Yt[0]*ct+En,yn=Yt[1]*At+yn,Zc(En,yn)):(fa=Yt[0]*ct+En,Wa=Yt[1]*At+yn,dn=Yt[2]*ct+En,Da=Yt[3]*At+yn,En=Yt[4]*ct+En,yn=Yt[5]*At+yn,Nr(fa,Wa,dn,Da,En,yn));return at&&cc(),No(Oe),this},y.path=function(N){for(var H=0;H<N.length;H++){var ge=N[H],Ae=ge.c;switch(ge.op){case"m":uc(Ae[0],Ae[1]);break;case"l":Zc(Ae[0],Ae[1]);break;case"c":Nr.apply(this,Ae);break;case"h":cc()}}return this},y.__private__.rect=y.rect=function(N,H,ge,Ae,Oe){if(isNaN(N)||isNaN(H)||isNaN(ge)||isNaN(Ae)||!mr(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return D===I&&(Ae=-Ae),X([O(ee(N)),O(le(H)),O(ee(ge)),O(ee(Ae)),"re"].join(" ")),No(Oe),this},y.__private__.triangle=y.triangle=function(N,H,ge,Ae,Oe,at,ct){if(isNaN(N)||isNaN(H)||isNaN(ge)||isNaN(Ae)||isNaN(Oe)||isNaN(at)||!mr(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-N,Ae-H],[Oe-ge,at-Ae],[N-Oe,H-at]],N,H,[1,1],ct,!0),this},y.__private__.roundedRect=y.roundedRect=function(N,H,ge,Ae,Oe,at,ct){if(isNaN(N)||isNaN(H)||isNaN(ge)||isNaN(Ae)||isNaN(Oe)||isNaN(at)||!mr(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var At=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*ge),at=Math.min(at,.5*Ae),this.lines([[ge-2*Oe,0],[Oe*At,0,Oe,at-at*At,Oe,at],[0,Ae-2*at],[0,at*At,-Oe*At,at,-Oe,at],[2*Oe-ge,0],[-Oe*At,0,-Oe,-at*At,-Oe,-at],[0,2*at-Ae],[0,-at*At,Oe*At,-at,Oe,-at]],N+Oe,H,[1,1],ct,!0),this},y.__private__.ellipse=y.ellipse=function(N,H,ge,Ae,Oe){if(isNaN(N)||isNaN(H)||isNaN(ge)||isNaN(Ae)||!mr(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*ge,ct=4/3*(Math.SQRT2-1)*Ae;return uc(N+ge,H),Nr(N+ge,H-ct,N+at,H-Ae,N,H-Ae),Nr(N-at,H-Ae,N-ge,H-ct,N-ge,H),Nr(N-ge,H+ct,N-at,H+Ae,N,H+Ae),Nr(N+at,H+Ae,N+ge,H+ct,N+ge,H),No(Oe),this},y.__private__.circle=y.circle=function(N,H,ge,Ae){if(isNaN(N)||isNaN(H)||isNaN(ge)||!mr(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,H,ge,ge,Ae)},y.setFont=function(N,H,ge){return ge&&(H=Y(H,ge)),Be=Yc(N,H,{disableWarning:!1}),this};var vs=y.__private__.getFont=y.getFont=function(){return lt[Yc.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var N,H,ge={};for(N in ht)if(ht.hasOwnProperty(N))for(H in ge[N]=[],ht[N])ht[N].hasOwnProperty(H)&&ge[N].push(H);return ge},y.addFont=function(N,H,ge,Ae,Oe){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(ge=Y(ge,Ae)),tc.call(this,N,H,ge,Oe=Oe||"Identity-H")};var ri,jo=e.lineWidth||.200025,qi=y.__private__.getLineWidth=y.getLineWidth=function(){return jo},zt=y.__private__.setLineWidth=y.setLineWidth=function(N){return jo=N,X(O(ee(N))+" w"),this};y.__private__.setLineDash=Ot.API.setLineDash=Ot.API.setLineDashPattern=function(N,H){if(N=N||[],H=H||0,isNaN(H)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ge){return O(ee(ge))}).join(" "),H=O(ee(H)),X("["+N+"] "+H+" d"),this};var Qc=y.__private__.getLineHeight=y.getLineHeight=function(){return Re*ri};y.__private__.getLineHeight=y.getLineHeight=function(){return Re*ri};var fc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(ri=N),this},ed=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return ri};fc(e.lineHeight);var Ur=y.__private__.getHorizontalCoordinate=function(N){return ee(N)},Hn=y.__private__.getVerticalCoordinate=function(N){return D===G?N:tt[L].mediaBox.topRightY-tt[L].mediaBox.bottomLeftY-ee(N)},hc=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(N){return O(Ur(N))},So=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(N){return O(Hn(N))},Br=e.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Va(Br)},y.__private__.setStrokeColor=y.setDrawColor=function(N,H,ge,Ae){return Br=ar({ch1:N,ch2:H,ch3:ge,ch4:Ae,pdfColorType:"draw",precision:2}),X(Br),this};var Ao=e.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Va(Ao)},y.__private__.setFillColor=y.setFillColor=function(N,H,ge,Ae){return Ao=ar({ch1:N,ch2:H,ch3:ge,ch4:Ae,pdfColorType:"fill",precision:2}),X(Ao),this};var Fs=e.textColor||"0 g",td=y.__private__.getTextColor=y.getTextColor=function(){return Va(Fs)};y.__private__.setTextColor=y.setTextColor=function(N,H,ge,Ae){return Fs=ar({ch1:N,ch2:H,ch3:ge,ch4:Ae,pdfColorType:"text",precision:3}),this};var Wr=e.charSpace,ul=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Wr||0)};y.__private__.setCharSpace=y.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wr=N,this};var fl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(N){var H=y.CapJoinStyles[N];if(H===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fl=H,X(H+" J"),this};var Pn=0;y.__private__.setLineJoin=y.setLineJoin=function(N){var H=y.CapJoinStyles[N];if(H===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pn=H,X(H+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(O(ee(N))+" M"),this},y.GState=t0,y.setGState=function(N){(N=typeof N=="string"?Dt[Ht[N]]:Ps(null,N)).equals(ja)||(X("/"+N.id+" gs"),ja=N)};var Ps=function(N,H){if(!N||!Ht[N]){var ge=!1;for(var Ae in Dt)if(Dt.hasOwnProperty(Ae)&&Dt[Ae].equals(H)){ge=!0;break}if(ge)H=Dt[Ae];else{var Oe="GS"+(Object.keys(Dt).length+1).toString(10);Dt[Oe]=H,H.id=Oe}return N&&(Ht[N]=H.id),vt.publish("addGState",H),H}};y.addGState=function(N,H){return Ps(N,H),this},y.saveGraphicsState=function(){return X("q"),bt.push({key:Be,size:Re,color:Fs}),this},y.restoreGraphicsState=function(){X("Q");var N=bt.pop();return Be=N.key,Re=N.size,Fs=N.color,ja=null,this},y.setCurrentTransformationMatrix=function(N){return X(N.toString()+" cm"),this},y.comment=function(N){return X("#"+N),this};var Yr=function(N,H){var ge=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(at){isNaN(at)||(ge=parseFloat(at))}});var Ae=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(at){isNaN(at)||(Ae=parseFloat(at))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(at){Oe=at.toString()}}),this},si=function(N,H,ge,Ae){Yr.call(this,N,H),this.type="rect";var Oe=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(ct){isNaN(ct)||(Oe=parseFloat(ct))}});var at=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(ct){isNaN(ct)||(at=parseFloat(ct))}}),this},hl=function(){this.page=be,this.currentPage=L,this.pages=ke.slice(0),this.pagesContext=tt.slice(0),this.x=ut,this.y=je,this.matrix=Ve,this.width=oi(L),this.height=mc(L),this.outputDestination=pe,this.id="",this.objectNumber=-1};hl.prototype.restore=function(){be=this.page,L=this.currentPage,tt=this.pagesContext,ke=this.pages,ut=this.x,je=this.y,Ve=this.matrix,_o(L,this.width),li(L,this.height),pe=this.outputDestination};var ko=function(N,H,ge,Ae,Oe){ln.push(new hl),be=L=0,ke=[],ut=N,je=H,Ve=Oe,xs([ge,Ae])};for(var ii in y.beginFormObject=function(N,H,ge,Ae,Oe){return ko(N,H,ge,Ae,Oe),this},y.endFormObject=function(N){return(function(H){if(on[H])ln.pop().restore();else{var ge=new hl,Ae="Xo"+(Object.keys(Bt).length+1).toString(10);ge.id=Ae,on[H]=Ae,Bt[Ae]=ge,vt.publish("addFormObject",ge),ln.pop().restore()}})(N),this},y.doFormObject=function(N,H){var ge=Bt[on[N]];return X("q"),X(H.toString()+" cm"),X("/"+ge.id+" Do"),X("Q"),this},y.getFormObject=function(N){var H=Bt[on[N]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},y.save=function(N,H){return N=N||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Mc(Ii(Ds()),N),typeof Mc.unload=="function"&&Wt.setTimeout&&setTimeout(Mc.unload,911),this):new Promise(function(ge,Ae){try{var Oe=Mc(Ii(Ds()),N);typeof Mc.unload=="function"&&Wt.setTimeout&&setTimeout(Mc.unload,911),ge(Oe)}catch(at){Ae(at.message)}})},Ot.API)Ot.API.hasOwnProperty(ii)&&(ii==="events"&&Ot.API.events.length?(function(N,H){var ge,Ae,Oe;for(Oe=H.length-1;Oe!==-1;Oe--)ge=H[Oe][0],Ae=H[Oe][1],N.subscribe.apply(N,[ge].concat(typeof Ae=="function"?[Ae]:Ae))})(vt,Ot.API.events):y[ii]=Ot.API[ii]);function oi(N){return tt[N].mediaBox.topRightX-tt[N].mediaBox.bottomLeftX}function _o(N,H){tt[N].mediaBox.topRightX=H+tt[N].mediaBox.bottomLeftX}function mc(N){return tt[N].mediaBox.topRightY-tt[N].mediaBox.bottomLeftY}function li(N,H){tt[N].mediaBox.topRightY=H+tt[N].mediaBox.bottomLeftY}var ci=y.getPageWidth=function(N){return oi(N=N||L)/Ge},ad=y.setPageWidth=function(N,H){_o(N,H*Ge)},di=y.getPageHeight=function(N){return mc(N=N||L)/Ge},nd=y.setPageHeight=function(N,H){li(N,H*Ge)};return y.internal={pdfEscape:Fr,getStyle:lc,getFont:vs,getFontSize:rt,getCharSpace:ul,getTextColor:td,getLineHeight:Qc,getLineHeightFactor:ed,getLineWidth:qi,write:We,getHorizontalCoordinate:Ur,getVerticalCoordinate:Hn,getCoordinateString:hc,getVerticalCoordinateString:So,collections:{},newObject:Ga,newAdditionalObject:Bi,newObjectDeferred:xn,newObjectDeferredBegin:Fn,getFilters:Dr,putStream:Vr,events:vt,scaleFactor:Ge,pageSize:{getWidth:function(){return ci(L)},setWidth:function(N){ad(L,N)},getHeight:function(){return di(L)},setHeight:function(N){nd(L,N)}},encryptionOptions:p,encryption:_n,getEncryptor:function(N){return p!==null?_n.encryptor(N,0):function(H){return H}},output:ic,getNumberOfPages:rc,get pages(){return ke},out:X,f2:F,f3:z,getPageInfo:bn,getPageInfoByObjId:dl,getCurrentPageInfo:Xc,getPDFVersion:T,Point:Yr,Rectangle:si,Matrix:Mt,hasHotfix:hr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return ci(L)},set:function(N){ad(L,N)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return di(L)},set:function(N){nd(L,N)},enumerable:!0,configurable:!0}),(function(N){for(var H=0,ge=Ue.length;H<ge;H++){var Ae=tc.call(this,N[H][0],N[H][1],N[H][2],Ue[H][3],!0);w===!1&&(j[Ae]=!0);var Oe=N[H][0].split("-");cn({id:Ae,fontName:Oe[0],fontStyle:Oe[1]||""})}vt.publish("addFonts",{fonts:lt,dictionary:ht})}).call(y,Ue),Be="F1",ai(o,n),vt.publish("initialized"),y}Hd.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Hd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hd.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Hd.prototype.processOwnerPassword=function(e,t){return bp(xp(t).substr(0,5),e)},Hd.prototype.encryptor=function(e,t){var n=xp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return bp(n,i)}},t0.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ma(e)!==Ma(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},Ot.API={events:[]},Ot.version="4.0.0";var kn=Ot.API,r1=1,Wc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(e){return e.toFixed(2)},Vl=function(e){return e.toFixed(5)};kn.__acroform__={};var fs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},hy=function(e){return e*r1},oo=function(e){var t=new Sw,n=Lt.internal.getHeight(e)||0,i=Lt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jt(i)),Number(Jt(n))],t},_E=kn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},EE=kn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},CE=kn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Rn=kn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return CE(e,t-1)},Tn=kn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _E(e,t-1)},On=kn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return EE(e,t-1)},LE=kn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,o=e[0],c=e[1],f=e[2],u=e[3],h={};return h.lowerLeft_X=n(o)||0,h.lowerLeft_Y=i(c+u)||0,h.upperRight_X=n(o+f)||0,h.upperRight_Y=i(c)||0,[Number(Jt(h.lowerLeft_X)),Number(Jt(h.lowerLeft_Y)),Number(Jt(h.upperRight_X)),Number(Jt(h.upperRight_Y))]},RE=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=yp(e,n),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+Jt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var c=oo(e);return c.scope=e.scope,c.stream=t.join(`
`),c}},yp=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},o=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map(function(F){return F.split(`
`)}):o.map(function(F){return[F]});var c=n,f=Lt.internal.getHeight(e)||0;f=f<0?-f:f;var u=Lt.internal.getWidth(e)||0;u=u<0?-u:u;var h=function(F,z,ee){if(F+1<o.length){var le=z+" "+o[F+1][0];return Oh(le,e,ee).width<=u-4}return!1};c++;e:for(;c>0;){t="",c--;var m,p,w=Oh("3",e,c).height,j=e.multiline?f-c:(f-w)/2,y=j+=2,A=0,T=0,E=0;if(c<=0){t=`(...) Tj
`,t+="% Width of Text: "+Oh(t,e,c=12).width+", FieldWidth:"+u+`
`;break}for(var C="",I=0,G=0;G<o.length;G++)if(o.hasOwnProperty(G)){var D=!1;if(o[G].length!==1&&E!==o[G].length-1){if((w+2)*(I+2)+2>f)continue e;C+=o[G][E],D=!0,T=G,G--}else{C=(C+=o[G][E]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var te=parseInt(G),de=h(te,C,c),Y=G>=o.length-1;if(de&&!Y){C+=" ",E=0;continue}if(de||Y){if(Y)T=te;else if(e.multiline&&(w+2)*(I+2)+2>f)continue e}else{if(!e.multiline||(w+2)*(I+2)+2>f)continue e;T=te}}for(var O="",R=A;R<=T;R++){var V=o[R];if(e.multiline){if(R===T){O+=V[E]+" ",E=(E+1)%V.length;continue}if(R===A){O+=V[V.length-1]+" ";continue}}O+=V[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,p=Oh(O,e,c).width,e.textAlign){case"right":m=u-p-2;break;case"center":m=(u-p)/2;break;default:m=2}t+=Jt(m)+" "+Jt(y)+` Td
`,t+="("+Wc(O)+`) Tj
`,t+=-Jt(m)+` 0 Td
`,y=-(c+2),p=0,A=D?T:T+1,I++,C=""}break}return i.text=t,i.fontSize=c,i},Oh=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},TE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},OE=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},ME=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Di.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(TE)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Aw,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];c.objId=void 0,c.hasAnnotation&&OE(c,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,o){var c=!i;for(var f in i||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(f)){var u=i[f],h=[],m=u.Rect;if(u.Rect&&(u.Rect=LE(u.Rect,o)),o.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Lt.createDefaultAppearanceStream(u),Ma(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=m,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=RE(u);h.push({key:"AP",value:"<</N "+p+">>"}),o.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var w="";for(var j in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(j)){var y=u.appearanceStreamContent[j];if(w+="/"+j+" ",w+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var f in y)if(y.hasOwnProperty(f)){var A=y[f];typeof A=="function"&&(A=A.call(o,u)),w+="/"+f+" "+A+" ",o.internal.acroformPlugin.xForms.indexOf(A)>=0||o.internal.acroformPlugin.xForms.push(A)}}else typeof(A=y)=="function"&&(A=A.call(o,u)),w+="/"+f+" "+A,o.internal.acroformPlugin.xForms.indexOf(A)>=0||o.internal.acroformPlugin.xForms.push(A);w+=">>"}h.push({key:"AP",value:`<<
`+w+">>"})}o.internal.putStream({additionalKeyValues:h,objectId:u.objId}),o.internal.out("endobj")}c&&(function(T,E){for(var C in T)if(T.hasOwnProperty(C)){var I=C,G=T[C];E.internal.newObjectDeferredBegin(G.objId,!0),Ma(G)==="object"&&typeof G.putStream=="function"&&G.putStream(),delete T[I]}})(o.internal.acroformPlugin.xForms,o)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},jw=kn.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(f){return f};if(Array.isArray(e)){for(var o="[",c=0;c<e.length;c++)switch(c!==0&&(o+=" "),Ma(e[c])){case"boolean":case"number":case"object":o+=e[c].toString();break;case"string":e[c].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),o+="("+Wc(i(e[c].toString()))+")"):o+=e[c].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mg=function(e,t,n){var i=function(o){return o};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Wc(i(e))+")"},uo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uo.prototype.toString=function(){return this.objId+" 0 R"},uo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},uo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(c){return c!="content"&&c!="appearanceStreamContent"&&c!="scope"&&c!="objId"&&c.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],o=this[i];o&&(Array.isArray(o)?e.push({key:i,value:jw(o,this.objId,this.scope)}):o instanceof uo?(o.scope=this.scope,e.push({key:i,value:o.objId+" 0 R"})):typeof o!="function"&&e.push({key:i,value:o}))}return e};var Sw=function(){uo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};fs(Sw,uo);var Aw=function(){uo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Wc(n(e))+")"}},set:function(n){e=n}})};fs(Aw,uo);var Di=function e(){uo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rn(t,3)},set:function(C){C?this.F=Tn(t,3):this.F=On(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(C){i=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(C){i[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(C){i[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(C){i[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(C){i[3]=C}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var c=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!c||c.length<1){if(this instanceof a0)return;c="FieldObject"+e.FieldNum++}var C=function(I){return I};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Wc(C(c))+")"},set:function(C){c=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return c},set:function(C){c=C}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/r1:m},set:function(C){m=C}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(C){p=C}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof a0||this instanceof Ic))return mg(w,this.objId,this.scope)},set:function(C){C=C.toString(),w=C}});var j=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(j)return this instanceof cr==0?mg(j,this.objId,this.scope):j},set:function(C){C=C.toString(),j=this instanceof cr==0?C.substr(0,1)==="("?zd(C.substr(1,C.length-2)):zd(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cr==1?zd(j.substr(1,j.length-1)):j},set:function(C){C=C.toString(),j=this instanceof cr==1?"/"+C:C}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof cr==0?mg(y,this.objId,this.scope):y},set:function(C){C=C.toString(),y=this instanceof cr==0?C.substr(0,1)==="("?zd(C.substr(1,C.length-2)):zd(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cr==1?zd(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof cr==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(C){C=!!C,T=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(C){A=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,1)},set:function(C){C?this.Ff=Tn(this.Ff,1):this.Ff=On(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,2)},set:function(C){C?this.Ff=Tn(this.Ff,2):this.Ff=On(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,3)},set:function(C){C?this.Ff=Tn(this.Ff,3):this.Ff=On(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');E=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(E){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};fs(Di,uo);var Yd=function(){Di.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jw(t,this.objId,this.scope)},set:function(n){var i,o;o=[],typeof(i=n)=="string"&&(o=(function(c,f,u){u||(u=1);for(var h,m=[];h=f.exec(c);)m.push(h[u]);return m})(i,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,18)},set:function(n){n?this.Ff=Tn(this.Ff,18):this.Ff=On(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Tn(this.Ff,19):this.Ff=On(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,20)},set:function(n){n?(this.Ff=Tn(this.Ff,20),t.sort()):this.Ff=On(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,22)},set:function(n){n?this.Ff=Tn(this.Ff,22):this.Ff=On(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,23)},set:function(n){n?this.Ff=Tn(this.Ff,23):this.Ff=On(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,27)},set:function(n){n?this.Ff=Tn(this.Ff,27):this.Ff=On(this.Ff,27)}}),this.hasAppearanceStream=!1};fs(Yd,Di);var Xd=function(){Yd.call(this),this.fontName="helvetica",this.combo=!1};fs(Xd,Yd);var Kd=function(){Xd.call(this),this.combo=!0};fs(Kd,Xd);var Gh=function(){Kd.call(this),this.edit=!0};fs(Gh,Kd);var cr=function(){Di.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,15)},set:function(n){n?this.Ff=Tn(this.Ff,15):this.Ff=On(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,16)},set:function(n){n?this.Ff=Tn(this.Ff,16):this.Ff=On(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,17)},set:function(n){n?this.Ff=Tn(this.Ff,17):this.Ff=On(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,26)},set:function(n){n?this.Ff=Tn(this.Ff,26):this.Ff=On(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(c){return c};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,o=[];for(i in o.push("<<"),t)o.push("/"+i+" ("+Wc(n(t[i]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){Ma(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};fs(cr,Di);var Vh=function(){cr.call(this),this.pushButton=!0};fs(Vh,cr);var Jd=function(){cr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};fs(Jd,cr);var a0=function(){var e,t;Di.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(o){t=o}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(u){return u};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var c,f=[];for(c in f.push("<<"),i)f.push("/"+c+" ("+Wc(o(i[c]))+")");return f.push(">>"),f.join(`
`)},set:function(o){Ma(o)==="object"&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){typeof o=="string"&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fs(a0,Di),Jd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Jd.prototype.createOption=function(e){var t=new a0;return t.Parent=this,t.optionName=e,this.Kids.push(t),DE.call(this.scope,t),t};var Wh=function(){cr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};fs(Wh,cr);var Ic=function(){Di.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,13)},set:function(t){t?this.Ff=Tn(this.Ff,13):this.Ff=On(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,21)},set:function(t){t?this.Ff=Tn(this.Ff,21):this.Ff=On(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,23)},set:function(t){t?this.Ff=Tn(this.Ff,23):this.Ff=On(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,24)},set:function(t){t?this.Ff=Tn(this.Ff,24):this.Ff=On(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,25)},set:function(t){t?this.Ff=Tn(this.Ff,25):this.Ff=On(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,26)},set:function(t){t?this.Ff=Tn(this.Ff,26):this.Ff=On(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fs(Ic,Di);var Yh=function(){Ic.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,14)},set:function(e){e?this.Ff=Tn(this.Ff,14):this.Ff=On(this.Ff,14)}}),this.password=!0};fs(Yh,Ic);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=oo(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),c=yp(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Jt(Lt.internal.getWidth(e))+" "+Jt(Lt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Jt(c.fontSize)+" Tf "+o),n.push("BT"),n.push(c.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=oo(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=[],c=Lt.internal.getHeight(e),f=Lt.internal.getWidth(e),u=yp(e,e.caption);return o.push("1 g"),o.push("0 0 "+Jt(f)+" "+Jt(c)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Jt(f-1)+" "+Jt(c-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+Jt(u.fontSize)+" Tf "+i),o.push(u.text),o.push("ET"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(e){var t=oo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(Lt.internal.getWidth(e))+" "+Jt(Lt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Lt.RadioButton.Circle.YesNormal,t.D[e]=Lt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=oo(e);t.scope=e.scope;var n=[],i=Lt.internal.getWidth(e)<=Lt.internal.getHeight(e)?Lt.internal.getWidth(e)/4:Lt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var o=Lt.internal.Bezier_C,c=Number((i*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Vl(Lt.internal.getWidth(e)/2)+" "+Vl(Lt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),n.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),n.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),n.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=oo(e);t.scope=e.scope;var n=[],i=Lt.internal.getWidth(e)<=Lt.internal.getHeight(e)?Lt.internal.getWidth(e)/4:Lt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),c=Number((o*Lt.internal.Bezier_C).toFixed(5)),f=Number((i*Lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Vl(Lt.internal.getWidth(e)/2)+" "+Vl(Lt.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+c+" "+c+" "+o+" 0 "+o+" c"),n.push("-"+c+" "+o+" -"+o+" "+c+" -"+o+" 0 c"),n.push("-"+o+" -"+c+" -"+c+" -"+o+" 0 -"+o+" c"),n.push(c+" -"+o+" "+o+" -"+c+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Vl(Lt.internal.getWidth(e)/2)+" "+Vl(Lt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+f+" "+f+" "+i+" 0 "+i+" c"),n.push("-"+f+" "+i+" -"+i+" "+f+" -"+i+" 0 c"),n.push("-"+i+" -"+f+" -"+f+" -"+i+" 0 -"+i+" c"),n.push(f+" -"+i+" "+i+" -"+f+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=oo(e);t.scope=e.scope;var n=[],i=Lt.internal.getWidth(e)<=Lt.internal.getHeight(e)?Lt.internal.getWidth(e)/4:Lt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),c=Number((o*Lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Vl(Lt.internal.getWidth(e)/2)+" "+Vl(Lt.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+c+" "+c+" "+o+" 0 "+o+" c"),n.push("-"+c+" "+o+" -"+o+" "+c+" -"+o+" 0 c"),n.push("-"+o+" -"+c+" -"+c+" -"+o+" 0 -"+o+" c"),n.push(c+" -"+o+" "+o+" -"+c+" "+o+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Lt.RadioButton.Cross.YesNormal,t.D[e]=Lt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=oo(e);t.scope=e.scope;var n=[],i=Lt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Jt(Lt.internal.getWidth(e)-2)+" "+Jt(Lt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(i.x1.x)+" "+Jt(i.x1.y)+" m"),n.push(Jt(i.x2.x)+" "+Jt(i.x2.y)+" l"),n.push(Jt(i.x4.x)+" "+Jt(i.x4.y)+" m"),n.push(Jt(i.x3.x)+" "+Jt(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=oo(e);t.scope=e.scope;var n=Lt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Jt(Lt.internal.getWidth(e))+" "+Jt(Lt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Jt(Lt.internal.getWidth(e)-2)+" "+Jt(Lt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),i.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),i.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),i.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=oo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(Lt.internal.getWidth(e))+" "+Jt(Lt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Lt.internal.getWidth(e),n=Lt.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},Lt.internal.getWidth=function(e){var t=0;return Ma(e)==="object"&&(t=hy(e.Rect[2])),t},Lt.internal.getHeight=function(e){var t=0;return Ma(e)==="object"&&(t=hy(e.Rect[3])),t};var DE=kn.addField=function(e){if(ME(this,e),!(e instanceof Di))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};kn.AcroFormChoiceField=Yd,kn.AcroFormListBox=Xd,kn.AcroFormComboBox=Kd,kn.AcroFormEditBox=Gh,kn.AcroFormButton=cr,kn.AcroFormPushButton=Vh,kn.AcroFormRadioButton=Jd,kn.AcroFormCheckBox=Wh,kn.AcroFormTextField=Ic,kn.AcroFormPasswordField=Yh,kn.AcroFormAppearance=Lt,kn.AcroForm={ChoiceField:Yd,ListBox:Xd,ComboBox:Kd,EditBox:Gh,Button:cr,PushButton:Vh,RadioButton:Jd,CheckBox:Wh,TextField:Ic,PasswordField:Yh,Appearance:Lt},Ot.AcroForm={ChoiceField:Yd,ListBox:Xd,ComboBox:Kd,EditBox:Gh,Button:cr,PushButton:Vh,RadioButton:Jd,CheckBox:Wh,TextField:Ic,PasswordField:Yh,Appearance:Lt};Ot.AcroForm;function kw(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=e.__addimage__.getImageFileTypeByImageData=function(F,z){var ee,le,ve,ae,se,Z=n;if((z=z||n)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(de(F))for(se in i)for(ve=i[se],ee=0;ee<ve.length;ee+=1){for(ae=!0,le=0;le<ve[ee].length;le+=1)if(ve[ee][le]!==void 0&&ve[ee][le]!==F[le]){ae=!1;break}if(ae===!0){Z=se;break}}else for(se in i)for(ve=i[se],ee=0;ee<ve.length;ee+=1){for(ae=!0,le=0;le<ve[ee].length;le+=1)if(ve[ee][le]!==void 0&&ve[ee][le]!==F.charCodeAt(le)){ae=!1;break}if(ae===!0){Z=se;break}}return Z===n&&z!==n&&(Z=z),Z},c=function F(z){for(var ee=this.internal.write,le=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:z.width}),ae.push({key:"Height",value:z.height}),z.colorSpace===C.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===C.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var se="",Z=0,J=z.transparency.length;Z<J;Z++)se+=z.transparency[Z]+" "+z.transparency[Z]+" ";ae.push({key:"Mask",value:"["+se+"]"})}z.sMask!==void 0&&ae.push({key:"SMask",value:z.objectId+1+" 0 R"});var fe=z.filter!==void 0?["/"+z.filter]:void 0;if(le({data:z.data,additionalKeyValues:ae,alreadyAppliedFilters:fe,objectId:z.objectId}),ee("endobj"),"sMask"in z&&z.sMask!==void 0){var U,_=(U=z.sMaskBitsPerComponent)!==null&&U!==void 0?U:z.bitsPerComponent,L={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:_,data:z.sMask};"filter"in z&&(L.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(_," /Columns ").concat(z.width),L.filter=z.filter),F.call(this,L)}if(z.colorSpace===C.INDEXED){var q=this.internal.newObject();le({data:O(new Uint8Array(z.palette)),objectId:q}),ee("endobj")}},f=function(){var F=this.internal.collections[t+"images"];for(var z in F)c.call(this,F[z])},u=function(){var F,z=this.internal.collections[t+"images"],ee=this.internal.write;for(var le in z)ee("/I"+(F=z[le]).index,F.objectId,"0","R")},h=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",f),this.internal.events.subscribe("putXobjectDict",u))},m=function(){var F=this.internal.collections[t+"images"];return h.call(this),F},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},w=function(F){return typeof e["process"+F.toUpperCase()]=="function"},j=function(F){return Ma(F)==="object"&&F.nodeType===1},y=function(F,z){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var ee=""+F.getAttribute("src");if(ee.indexOf("data:image/")===0)return $h(unescape(ee).split("base64,").pop());var le=e.loadFile(ee,!0);if(le!==void 0)return le}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var ve;switch(z){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;default:ve="image/jpeg"}return $h(F.toDataURL(ve,1).split("base64,").pop())}},A=function(F){var z=this.internal.collections[t+"images"];if(z){for(var ee in z)if(F===z[ee].alias)return z[ee]}},T=function(F,z,ee){return F||z||(F=-96,z=-96),F<0&&(F=-1*ee.width*72/F/this.internal.scaleFactor),z<0&&(z=-1*ee.height*72/z/this.internal.scaleFactor),F===0&&(F=z*ee.width/ee.height),z===0&&(z=F*ee.height/ee.width),[F,z]},E=function(F,z,ee,le,ve,ae){var se=T.call(this,ee,le,ve),Z=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,fe=m.call(this);if(ee=se[0],le=se[1],fe[ve.index]=ve,ae){ae*=Math.PI/180;var U=Math.cos(ae),_=Math.sin(ae),L=function(B){return B.toFixed(4)},q=[L(U),L(_),L(-1*_),L(U),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,Z(F),J(z+le),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([Z(ee),"0","0",Z(le),"0","0","cm"].join(" "))):this.internal.write([Z(ee),"0","0",Z(le),Z(F),J(z+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},G=e.__addimage__.sHashCode=function(F){var z,ee,le=0;if(typeof F=="string")for(ee=F.length,z=0;z<ee;z++)le=(le<<5)-le+F.charCodeAt(z),le|=0;else if(de(F))for(ee=F.byteLength/2,z=0;z<ee;z++)le=(le<<5)-le+F[z],le|=0;return le},D=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var z=!0;return F.length===0&&(z=!1),F.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(z=!1),z},te=e.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var z=F.indexOf(",");return z<0?null:F.substring(0,z).trim().endsWith("base64")?F.substring(z+1):null};e.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var de=e.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},Y=e.__addimage__.binaryStringToUint8Array=function(F){for(var z=F.length,ee=new Uint8Array(z),le=0;le<z;le++)ee[le]=F.charCodeAt(le);return ee},O=e.__addimage__.arrayBufferToBinaryString=function(F){for(var z="",ee=de(F)?F:new Uint8Array(F),le=0;le<ee.length;le+=8192)z+=String.fromCharCode.apply(null,ee.subarray(le,le+8192));return z};e.addImage=function(){var F,z,ee,le,ve,ae,se,Z,J;if(typeof arguments[1]=="number"?(z=n,ee=arguments[1],le=arguments[2],ve=arguments[3],ae=arguments[4],se=arguments[5],Z=arguments[6],J=arguments[7]):(z=arguments[1],ee=arguments[2],le=arguments[3],ve=arguments[4],ae=arguments[5],se=arguments[6],Z=arguments[7],J=arguments[8]),Ma(F=arguments[0])==="object"&&!j(F)&&"imageData"in F){var fe=F;F=fe.imageData,z=fe.format||z||n,ee=fe.x||ee||0,le=fe.y||le||0,ve=fe.w||fe.width||ve,ae=fe.h||fe.height||ae,se=fe.alias||se,Z=fe.compression||Z,J=fe.rotation||fe.angle||J}var U=this.internal.getFilters();if(Z===void 0&&U.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(ee)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var _=R.call(this,F,z,se,Z);return E.call(this,ee,le,ve,ae,_,J),this};var R=function(F,z,ee,le){var ve,ae,se;if(typeof F=="string"&&o(F)===n){F=unescape(F);var Z=V(F,!1);(Z!==""||(Z=e.loadFile(F,!0))!==void 0)&&(F=Z)}if(j(F)&&(F=y(F,z)),z=o(F,z),!w(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((se=ee)==null||se.length===0)&&(ee=(function(J){return typeof J=="string"||de(J)?G(J):de(J.data)?G(J.data):null})(F)),(ve=A.call(this,ee))||(F instanceof Uint8Array||z==="RGBA"||(ae=F,F=Y(F)),ve=this["process"+z.toUpperCase()](F,p.call(this),ee,(function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in e.image_compression?J:I.NONE})(le),ae)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},V=e.__addimage__.convertBase64ToBinaryString=function(F,z){z=typeof z!="boolean"||z;var ee,le="";if(typeof F=="string"){var ve;ee=(ve=te(F))!==null&&ve!==void 0?ve:F;try{le=$h(ee)}catch(ae){if(z)throw D(ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};e.getImageProperties=function(F){var z,ee,le="";if(j(F)&&(F=y(F)),typeof F=="string"&&o(F)===n&&((le=V(F,!1))===""&&(le=e.loadFile(F)||""),F=le),ee=o(F),!w(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(F instanceof Uint8Array||(F=Y(F)),!(z=this["process"+ee.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=ee,z}})(Ot.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,o,c,f=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),m=n.pageContext.annotations,p=!1,w=0;w<m.length&&!p;w++)switch((i=m[w]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var j=0;j<m.length;j++){i=m[j];var y=this.internal.pdfEscape,A=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(T.objId),I=i.title||"Note";c="<</Type /Annot /Subtype /Text "+(o="/Rect ["+f(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+f(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+y(C(i.contents))+")",c+=" /Popup "+E.objId+" 0 R",c+=" /P "+h.objId+" 0 R",c+=" /T ("+y(C(I))+") >>",T.content=c;var G=T.objId+" 0 R";c="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+f(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+f(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+G,i.open&&(c+=" /Open true"),c+=" >>",E.content=c,this.internal.write(T.objId,"0 R",E.objId,"0 R");break;case"freetext":o="/Rect ["+f(i.bounds.x)+" "+u(i.bounds.y)+" "+f(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var D=i.color||"#000000";c="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+y(A(i.contents))+")",c+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",c+=" /Border [0 0 0]",c+=" >>",this.internal.write(c);break;case"link":if(i.options.name){var te=this.annotations._nameMap[i.options.name];i.options.pageNumber=te.page,i.options.top=te.y}else i.options.top||(i.options.top=0);if(o="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",c="",i.options.url)c="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+y(A(i.options.url))+") >>";else if(i.options.pageNumber)switch(c="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":c+=" /Fit]";break;case"FitH":c+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,c+=" /FitV "+i.options.left+"]";break;default:var de=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),c+=" /XYZ "+i.options.left+" "+de+" "+i.options.zoom+"]"}c!=""&&(c+=" >>",this.internal.write(c))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,o,c,f){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(n),y:m(i),w:h(n+o),h:m(i+c)},options:f,type:"link"})},e.textWithLink=function(n,i,o,c){var f,u,h=this.getTextWidth(n),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(c.maxWidth!==void 0){u=c.maxWidth;var p=this.splitTextToSize(n,u).length;f=Math.ceil(m*p)}else u=h,f=m;return this.text(n,i,o,c),o+=.2*m,c.align==="center"&&(i-=h/2),c.align==="right"&&(i-=h),this.link(i,o-m,u,f,c),h},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}})(Ot.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var c=e.__arabicParser__.isInArabicSubstitutionA=function(T){return t[T.charCodeAt(0)]!==void 0},f=e.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},u=e.__arabicParser__.isArabicEndLetter=function(T){return f(T)&&c(T)&&t[T.charCodeAt(0)].length<=2},h=e.__arabicParser__.isArabicAlfLetter=function(T){return f(T)&&o.indexOf(T.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return f(T)&&c(T)&&t[T.charCodeAt(0)].length>=1};var m=e.__arabicParser__.arabicLetterHasFinalForm=function(T){return f(T)&&c(T)&&t[T.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(T){return f(T)&&c(T)&&t[T.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(T){return f(T)&&c(T)&&t[T.charCodeAt(0)].length==4},w=e.__arabicParser__.resolveLigatures=function(T){var E=0,C=n,I="",G=0;for(E=0;E<T.length;E+=1)C[T.charCodeAt(E)]!==void 0?(G++,typeof(C=C[T.charCodeAt(E)])=="number"&&(I+=String.fromCharCode(C),C=n,G=0),E===T.length-1&&(C=n,I+=T.charAt(E-(G-1)),E-=G-1,G=0)):(C=n,I+=T.charAt(E-G),E-=G,G=0);return I};e.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&i[T.charCodeAt(0)]!==void 0};var j=e.__arabicParser__.getCorrectForm=function(T,E,C){return f(T)?c(T)===!1?-1:!m(T)||!f(E)&&!f(C)||!f(C)&&u(E)||u(T)&&!f(E)||u(T)&&h(E)||u(T)&&u(E)?0:p(T)&&f(E)&&!u(E)&&f(C)&&m(C)?3:u(T)||!f(C)?1:2:-1},y=function(T){var E=0,C=0,I=0,G="",D="",te="",de=(T=T||"").split("\\s+"),Y=[];for(E=0;E<de.length;E+=1){for(Y.push(""),C=0;C<de[E].length;C+=1)G=de[E][C],D=de[E][C-1],te=de[E][C+1],f(G)?(I=j(G,D,te),Y[E]+=I!==-1?String.fromCharCode(t[G.charCodeAt(0)][I]):G):Y[E]+=G;Y[E]=w(Y[E])}return Y.join(" ")},A=e.__arabicParser__.processArabic=e.processArabic=function(){var T,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(E)){var I=0;for(C=[],I=0;I<E.length;I+=1)Array.isArray(E[I])?C.push([y(E[I][0]),E[I][1],E[I][2]]):C.push([y(E[I])]);T=C}else T=y(E);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};e.events.push(["preProcessText",A])})(Ot.API),Ot.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(u){o=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var c=[];Object.defineProperty(this,"childNodes",{get:function(){return c},set:function(u){c=u}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(u){f=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var o;if((n=n||"2d")!=="2d")return null;for(o in i)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=i[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ot.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new c,this.internal.__cell__.pages=1},c=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(T){m=T}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(T){p=T}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(T){w=T}});var j=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return j},set:function(T){j=T}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(T){y=T}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(T){A=T}}),this};c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},c.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},e.getTextDimensions=function(h,m){i.call(this);var p=(m=m||{}).fontSize||this.getFontSize(),w=m.font||this.getFont(),j=m.scaleFactor||this.internal.scaleFactor,y=0,A=0,T=0,E=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var C=m.maxWidth;C>0?typeof h=="string"?h=this.splitTextToSize(h,C):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(G,D){return G.concat(E.splitTextToSize(D,C))},[])):h=Array.isArray(h)?h:[h];for(var I=0;I<h.length;I++)y<(T=this.getStringUnitWidth(h[I],{font:w})*p)&&(y=T);return y!==0&&(A=h.length),{w:y/=j,h:Math.max((A*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/j,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new c(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=e.cell=function(){var h;h=arguments[0]instanceof c?arguments[0]:new c(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var m=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,w=this.internal.__cell__.margins||t,j=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===h.lineNumber?(h.x=(m.x||0)+(m.width||0),h.y=m.y||0):m.y+m.height+h.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=w.top,y&&j&&(this.printHeaderRow(h.lineNumber,!0),h.y+=j[0].height)):h.y=m.y+m.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};e.table=function(h,m,p,w,j){if(i.call(this),!p)throw new Error("No data for PDF table.");var y,A,T,E,C=[],I=[],G=[],D={},te={},de=[],Y=[],O=(j=j||{}).autoSize||!1,R=j.printHeaders!==!1,V=j.css&&j.css["font-size"]!==void 0?16*j.css["font-size"]:j.fontSize||12,F=j.margins||Object.assign({width:this.getPageWidth()},t),z=typeof j.padding=="number"?j.padding:3,ee=j.headerBackgroundColor||"#c8c8c8",le=j.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=le,this.setFontSize(V),w==null)I=C=Object.keys(p[0]),G=C.map(function(){return"left"});else if(Array.isArray(w)&&Ma(w[0])==="object")for(C=w.map(function(fe){return fe.name}),I=w.map(function(fe){return fe.prompt||fe.name||""}),G=w.map(function(fe){return fe.align||"left"}),y=0;y<w.length;y+=1)te[w[y].name]=.7499990551181103*w[y].width;else Array.isArray(w)&&typeof w[0]=="string"&&(I=C=w,G=C.map(function(){return"left"}));if(O||Array.isArray(w)&&typeof w[0]=="string")for(y=0;y<C.length;y+=1){for(D[E=C[y]]=p.map(function(fe){return fe[E]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(I[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=D[E],this.setFont(void 0,"normal"),T=0;T<A.length;T+=1)de.push(this.getTextDimensions(A[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);te[E]=Math.max.apply(null,de)+z+z,de=[]}if(R){var ve={};for(y=0;y<C.length;y+=1)ve[C[y]]={},ve[C[y]].text=I[y],ve[C[y]].align=G[y];var ae=u.call(this,ve,te);Y=C.map(function(fe){return new c(h,m,te[fe],ae,ve[fe].text,void 0,ve[fe].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var se=w.reduce(function(fe,U){return fe[U.name]=U.align,fe},{});for(y=0;y<p.length;y+=1){"rowStart"in j&&j.rowStart instanceof Function&&j.rowStart({row:y,data:p[y]},this);var Z=u.call(this,p[y],te);for(T=0;T<C.length;T+=1){var J=p[y][C[T]];"cellStart"in j&&j.cellStart instanceof Function&&j.cellStart({row:y,col:T,data:J},this),f.call(this,new c(h,m,te[C[T]],Z,J,y+2,se[C[T]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=m,this};var u=function(h,m){var p=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,j=this.internal.scaleFactor;return Object.keys(h).map(function(y){var A=h[y];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,m[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*w/j+p+p},this).reduce(function(y,A){return Math.max(y,A)},0)};e.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},e.printHeaderRow=function(h,m){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new c(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var j=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),m&&(p.y=this.internal.__cell__.margins.top||0,j.push(p)),p.lineNumber=h;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,p),this.setTextColor(A)}j.length>0&&this.setTableHeaderRow(j),this.setFont(void 0,"normal"),n=!1}})(Ot.API);var _w={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ew=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vp=kw(Ew),Cw=[100,200,300,400,500,600,700,800,900],FE=kw(Cw);function gg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(c){return _w[c=c||"normal"]?c:"normal"})(e.style),i=(function(c){return c?typeof c=="number"?c>=100&&c<=900&&c%100==0?c:400:/^\d00$/.test(c)?parseInt(c):c==="bold"?700:400:400})(e.weight),o=(function(c){return typeof vp[c=c||"normal"]=="number"?c:"normal"})(e.stretch);return{family:t,style:n,weight:i,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,n,i].join(" ")}}}function my(e,t,n,i){var o;for(o=n;o>=0&&o<t.length;o+=i)if(e[t[o]])return e[t[o]];for(o=n;o>=0&&o<t.length;o-=i)if(e[t[o]])return e[t[o]]}var PE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function py(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function xy(e){return e.trimLeft()}function UE(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function BE(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Mh,by,yy,Id,Dh,vy,wy,Ny,pg=["times"];function jy(e,t,n,i,o){var c=4,f=Ay;switch(o){case Ot.API.image_compression.FAST:c=1,f=Sy;break;case Ot.API.image_compression.MEDIUM:c=6,f=ky;break;case Ot.API.image_compression.SLOW:c=9,f=_y}e=(function(h,m,p,w){for(var j,y=h.length/m,A=new Uint8Array(h.length+y),T=[zE,Sy,Ay,ky,_y],E=0;E<y;E+=1){var C=E*m,I=h.subarray(C,C+m);if(w)A.set(w(I,p,j),C+E);else{for(var G=T.length,D=[],te=0;te<G;te+=1)D[te]=T[te](I,p,j);var de=qE(D.concat());A.set(D[de],C+E)}j=I}return A})(e,t,Math.ceil(n*i/8),f);var u=hp(e,{level:c});return Ot.API.__addimage__.arrayBufferToBinaryString(u)}function zE(e){var t=Array.apply([],e);return t.unshift(0),t}function Sy(e,t){var n=e.length,i=[];i[0]=1;for(var o=0;o<n;o+=1){var c=e[o-t]||0;i[o+1]=e[o]-c+256&255}return i}function Ay(e,t,n){var i=e.length,o=[];o[0]=2;for(var c=0;c<i;c+=1){var f=n&&n[c]||0;o[c+1]=e[c]-f+256&255}return o}function ky(e,t,n){var i=e.length,o=[];o[0]=3;for(var c=0;c<i;c+=1){var f=e[c-t]||0,u=n&&n[c]||0;o[c+1]=e[c]+256-(f+u>>>1)&255}return o}function _y(e,t,n){var i=e.length,o=[];o[0]=4;for(var c=0;c<i;c+=1){var f=IE(e[c-t]||0,n&&n[c]||0,n&&n[c-t]||0);o[c+1]=e[c]-f+256&255}return o}function IE(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),o=Math.abs(e-n),c=Math.abs(e+t-n-n);return i<=o&&i<=c?e:o<=c?t:n}function qE(e){var t=e.map(function(n){return n.reduce(function(i,o){return i+Math.abs(o)},0)});return t.indexOf(Math.min.apply(null,t))}function xg(e,t,n){var i=t*n,o=Math.floor(i/8),c=16-(i-8*o+n),f=(1<<n)-1;return Lw(e,o)>>c&f}function Ey(e,t,n,i){var o=n*i,c=Math.floor(o/8),f=16-(o-8*c+i),u=(1<<i)-1,h=(t&u)<<f;(function(m,p,w){if(p+1<m.byteLength)m.setUint16(p,w,!1);else{var j=w>>8&255;m.setUint8(p,j)}})(e,c,Lw(e,c)&~(u<<f)&65535|h)}function Lw(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function HE(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,o=e[t++],c=o>>7,f=1<<1+(7&o);e[t++],e[t++];var u=null,h=null;c&&(u=t,h=f,t+=3*f);var m=!0,p=[],w=0,j=null,y=0,A=null;for(this.width=n,this.height=i;m&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,A=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var T=e[t++];w=e[t++]|e[t++]<<8,j=e[t++],1&T||(j=null),y=T>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var E=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,G=e[t++]|e[t++]<<8,D=e[t++],te=D>>6&1,de=1<<1+(7&D),Y=u,O=h,R=!1;D>>7&&(R=!0,Y=t,O=de,t+=3*de);var V=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}p.push({x:E,y:C,width:I,height:G,has_local_palette:R,palette_offset:Y,palette_size:O,data_offset:V,data_length:t-V,transparent_index:j,interlaced:!!te,delay:w,disposal:y});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return A},this.frameInfo=function(z){if(z<0||z>=p.length)throw new Error("Frame index out of range.");return p[z]},this.decodeAndBlitFrameBGRA=function(z,ee){var le=this.frameInfo(z),ve=le.width*le.height,ae=new Uint8Array(ve);Cy(e,le.data_offset,ae,ve);var se=le.palette_offset,Z=le.transparent_index;Z===null&&(Z=256);var J=le.width,fe=n-J,U=J,_=4*(le.y*n+le.x),L=4*((le.y+le.height)*n+le.x),q=_,B=4*fe;le.interlaced===!0&&(B+=4*n*7);for(var re=8,oe=0,Q=ae.length;oe<Q;++oe){var ue=ae[oe];if(U===0&&(U=J,(q+=B)>=L&&(B=4*fe+4*n*(re-1),q=_+(J+fe)*(re<<1),re>>=1)),ue===Z)q+=4;else{var ye=e[se+3*ue],ke=e[se+3*ue+1],Ne=e[se+3*ue+2];ee[q++]=Ne,ee[q++]=ke,ee[q++]=ye,ee[q++]=255}--U}},this.decodeAndBlitFrameRGBA=function(z,ee){var le=this.frameInfo(z),ve=le.width*le.height,ae=new Uint8Array(ve);Cy(e,le.data_offset,ae,ve);var se=le.palette_offset,Z=le.transparent_index;Z===null&&(Z=256);var J=le.width,fe=n-J,U=J,_=4*(le.y*n+le.x),L=4*((le.y+le.height)*n+le.x),q=_,B=4*fe;le.interlaced===!0&&(B+=4*n*7);for(var re=8,oe=0,Q=ae.length;oe<Q;++oe){var ue=ae[oe];if(U===0&&(U=J,(q+=B)>=L&&(B=4*fe+4*n*(re-1),q=_+(J+fe)*(re<<1),re>>=1)),ue===Z)q+=4;else{var ye=e[se+3*ue],ke=e[se+3*ue+1],Ne=e[se+3*ue+2];ee[q++]=ye,ee[q++]=ke,ee[q++]=Ne,ee[q++]=255}--U}}}function Cy(e,t,n,i){for(var o=e[t++],c=1<<o,f=c+1,u=f+1,h=o+1,m=(1<<h)-1,p=0,w=0,j=0,y=e[t++],A=new Int32Array(4096),T=null;;){for(;p<16&&y!==0;)w|=e[t++]<<p,p+=8,y===1?y=e[t++]:--y;if(p<h)break;var E=w&m;if(w>>=h,p-=h,E!==c){if(E===f)break;for(var C=E<u?E:T,I=0,G=C;G>c;)G=A[G]>>8,++I;var D=G;if(j+I+(C!==E?1:0)>i)return void $a.log("Warning, gif stream longer than expected.");n[j++]=D;var te=j+=I;for(C!==E&&(n[j++]=D),G=C;I--;)G=A[G],n[--te]=255&G,G>>=8;T!==null&&u<4096&&(A[u++]=T<<8|D,u>=m+1&&h<12&&(++h,m=m<<1|1)),T=E}else u=f+1,m=(1<<(h=o+1))-1,T=null}return j!==i&&$a.log("Warning, gif stream shorter than expected."),n}function bg(e){var t,n,i,o,c,f=Math.floor,u=new Array(64),h=new Array(64),m=new Array(64),p=new Array(64),w=new Array(65535),j=new Array(65535),y=new Array(64),A=new Array(64),T=[],E=0,C=7,I=new Array(64),G=new Array(64),D=new Array(64),te=new Array(256),de=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(_,L){for(var q=0,B=0,re=new Array,oe=1;oe<=16;oe++){for(var Q=1;Q<=_[oe];Q++)re[L[B]]=[],re[L[B]][0]=q,re[L[B]][1]=oe,B++,q++;q*=2}return re}function se(_){for(var L=_[0],q=_[1]-1;q>=0;)L&1<<q&&(E|=1<<C),q--,--C<0&&(E==255?(Z(255),Z(0)):Z(E),C=7,E=0)}function Z(_){T.push(_)}function J(_){Z(_>>8&255),Z(255&_)}function fe(_,L,q,B,re){for(var oe,Q=re[0],ue=re[240],ye=(function(Re,ze){var rt,dt,gt,Ee,Le,Xe,Ze,we,Be,Ge,ut=0;for(Be=0;Be<8;++Be){rt=Re[ut],dt=Re[ut+1],gt=Re[ut+2],Ee=Re[ut+3],Le=Re[ut+4],Xe=Re[ut+5],Ze=Re[ut+6];var je=rt+(we=Re[ut+7]),Ve=rt-we,lt=dt+Ze,ht=dt-Ze,bt=gt+Xe,yt=gt-Xe,na=Ee+Le,Dt=Ee-Le,Ht=je+na,ja=je-na,be=lt+bt,tt=lt-bt;Re[ut]=Ht+be,Re[ut+4]=Ht-be;var vt=.707106781*(tt+ja);Re[ut+2]=ja+vt,Re[ut+6]=ja-vt;var ra=.382683433*((Ht=Dt+yt)-(tt=ht+Ve)),Bt=.5411961*Ht+ra,on=1.306562965*tt+ra,ln=.707106781*(be=yt+ht),Mt=Ve+ln,ti=Ve-ln;Re[ut+5]=ti+Bt,Re[ut+3]=ti-Bt,Re[ut+1]=Mt+on,Re[ut+7]=Mt-on,ut+=8}for(ut=0,Be=0;Be<8;++Be){rt=Re[ut],dt=Re[ut+8],gt=Re[ut+16],Ee=Re[ut+24],Le=Re[ut+32],Xe=Re[ut+40],Ze=Re[ut+48];var Os=rt+(we=Re[ut+56]),Or=rt-we,Mr=dt+Ze,Ga=dt-Ze,xn=gt+Xe,Fn=gt-Xe,Bi=Ee+Le,fr=Ee-Le,Ca=Os+Bi,Va=Os-Bi,ar=Mr+xn,Dr=Mr-xn;Re[ut]=Ca+ar,Re[ut+32]=Ca-ar;var Vr=.707106781*(Dr+Va);Re[ut+16]=Va+Vr,Re[ut+48]=Va-Vr;var vo=.382683433*((Ca=fr+Fn)-(Dr=Ga+Or)),hs=.5411961*Ca+vo,ms=1.306562965*Dr+vo,zi=.707106781*(ar=Fn+Ga),gs=Or+zi,ps=Or-zi;Re[ut+40]=ps+hs,Re[ut+24]=ps-hs,Re[ut+8]=gs+ms,Re[ut+56]=gs-ms,ut++}for(Be=0;Be<64;++Be)Ge=Re[Be]*ze[Be],y[Be]=Ge>0?Ge+.5|0:Ge-.5|0;return y})(_,L),ke=0;ke<64;++ke)A[Y[ke]]=ye[ke];var Ne=A[0]-q;q=A[0],Ne==0?se(B[0]):(se(B[j[oe=32767+Ne]]),se(w[oe]));for(var pe=63;pe>0&&A[pe]==0;)pe--;if(pe==0)return se(Q),q;for(var Fe,X=1;X<=pe;){for(var We=X;A[X]==0&&X<=pe;)++X;var xe=X-We;if(xe>=16){Fe=xe>>4;for(var Ue=1;Ue<=Fe;++Ue)se(ue);xe&=15}oe=32767+A[X],se(re[(xe<<4)+j[oe]]),se(w[oe]),X++}return pe!=63&&se(Q),q}function U(_){_=Math.min(Math.max(_,1),100),c!=_&&((function(L){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var re=f((q[B]*L+50)/100);re=Math.min(Math.max(re,1),255),u[Y[B]]=re}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var ue=f((oe[Q]*L+50)/100);ue=Math.min(Math.max(ue,1),255),h[Y[Q]]=ue}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Ne=0;Ne<8;Ne++)for(var pe=0;pe<8;pe++)m[ke]=1/(u[Y[ke]]*ye[Ne]*ye[pe]*8),p[ke]=1/(h[Y[ke]]*ye[Ne]*ye[pe]*8),ke++})(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),c=_)}this.encode=function(_,L){L&&U(L),T=new Array,E=0,C=7,J(65496),J(65504),J(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),J(1),J(1),Z(0),Z(0),(function(){J(65499),J(132),Z(0);for(var dt=0;dt<64;dt++)Z(u[dt]);Z(1);for(var gt=0;gt<64;gt++)Z(h[gt])})(),(function(dt,gt){J(65472),J(17),Z(8),J(gt),J(dt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(_.width,_.height),(function(){J(65476),J(418),Z(0);for(var dt=0;dt<16;dt++)Z(O[dt+1]);for(var gt=0;gt<=11;gt++)Z(R[gt]);Z(16);for(var Ee=0;Ee<16;Ee++)Z(V[Ee+1]);for(var Le=0;Le<=161;Le++)Z(F[Le]);Z(1);for(var Xe=0;Xe<16;Xe++)Z(z[Xe+1]);for(var Ze=0;Ze<=11;Ze++)Z(ee[Ze]);Z(17);for(var we=0;we<16;we++)Z(le[we+1]);for(var Be=0;Be<=161;Be++)Z(ve[Be])})(),J(65498),J(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var q=0,B=0,re=0;E=0,C=7,this.encode.displayName="_encode_";for(var oe,Q,ue,ye,ke,Ne,pe,Fe,X,We=_.data,xe=_.width,Ue=_.height,Re=4*xe,ze=0;ze<Ue;){for(oe=0;oe<Re;){for(ke=Re*ze+oe,pe=-1,Fe=0,X=0;X<64;X++)Ne=ke+(Fe=X>>3)*Re+(pe=4*(7&X)),ze+Fe>=Ue&&(Ne-=Re*(ze+1+Fe-Ue)),oe+pe>=Re&&(Ne-=oe+pe-Re+4),Q=We[Ne++],ue=We[Ne++],ye=We[Ne++],I[X]=(de[Q]+de[ue+256|0]+de[ye+512|0]>>16)-128,G[X]=(de[Q+768|0]+de[ue+1024|0]+de[ye+1280|0]>>16)-128,D[X]=(de[Q+1280|0]+de[ue+1536|0]+de[ye+1792|0]>>16)-128;q=fe(I,m,q,t,i),B=fe(G,p,B,n,o),re=fe(D,p,re,n,o),oe+=32}ze+=8}if(C>=0){var rt=[];rt[1]=C+1,rt[0]=(1<<C+1)-1,se(rt)}return J(65497),new Uint8Array(T)},e=e||50,(function(){for(var _=String.fromCharCode,L=0;L<256;L++)te[L]=_(L)})(),t=ae(O,R),n=ae(z,ee),i=ae(V,F),o=ae(le,ve),(function(){for(var _=1,L=2,q=1;q<=15;q++){for(var B=_;B<L;B++)j[32767+B]=q,w[32767+B]=[],w[32767+B][1]=q,w[32767+B][0]=B;for(var re=-(L-1);re<=-_;re++)j[32767+re]=q,w[32767+re]=[],w[32767+re][1]=q,w[32767+re][0]=L-1+re;_<<=1,L<<=1}})(),(function(){for(var _=0;_<256;_++)de[_]=19595*_,de[_+256|0]=38470*_,de[_+512|0]=7471*_+32768,de[_+768|0]=-11059*_,de[_+1024|0]=-21709*_,de[_+1280|0]=32768*_+8421375,de[_+1536|0]=-27439*_,de[_+1792|0]=-5329*_})(),U(e)}function Ci(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ly(e){function t(R){if(!R)throw Error("assert :P")}function n(R,V,F){for(var z=0;4>z;z++)if(R[V+z]!=F.charCodeAt(z))return!0;return!1}function i(R,V,F,z,ee){for(var le=0;le<ee;le++)R[V+le]=F[z+le]}function o(R,V,F,z){for(var ee=0;ee<z;ee++)R[V+ee]=F}function c(R){return new Int32Array(R)}function f(R,V){for(var F=[],z=0;z<R;z++)F.push(new V);return F}function u(R,V){var F=[];return(function z(ee,le,ve){for(var ae=ve[le],se=0;se<ae&&(ee.push(ve.length>le+1?[]:new V),!(ve.length<le+1));se++)z(ee[se],le+1,ve)})(F,0,R),F}var h=function(){var R=this;function V(g,b){for(var S=1<<b-1>>>0;g&S;)S>>>=1;return S?(g&S-1)+S:g}function F(g,b,S,M,$){t(!(M%S));do g[b+(M-=S)]=$;while(0<M)}function z(g,b,S,M,$){if(t(2328>=$),512>=$)var W=c(512);else if((W=c($))==null)return 0;return(function(K,ie,ce,me,_e,Ie){var he,Te,De=ie,Qe=1<<ce,Pe=c(16),Je=c(16);for(t(_e!=0),t(me!=null),t(K!=null),t(0<ce),Te=0;Te<_e;++Te){if(15<me[Te])return 0;++Pe[me[Te]]}if(Pe[0]==_e)return 0;for(Je[1]=0,he=1;15>he;++he){if(Pe[he]>1<<he)return 0;Je[he+1]=Je[he]+Pe[he]}for(Te=0;Te<_e;++Te)he=me[Te],0<me[Te]&&(Ie[Je[he]++]=Te);if(Je[15]==1)return(me=new ee).g=0,me.value=Ie[0],F(K,De,1,Qe,me),Qe;var nt,ft=-1,ot=Qe-1,_t=0,Nt=1,Vt=1,St=1<<ce;for(Te=0,he=1,_e=2;he<=ce;++he,_e<<=1){if(Nt+=Vt<<=1,0>(Vt-=Pe[he]))return 0;for(;0<Pe[he];--Pe[he])(me=new ee).g=he,me.value=Ie[Te++],F(K,De+_t,_e,St,me),_t=V(_t,he)}for(he=ce+1,_e=2;15>=he;++he,_e<<=1){if(Nt+=Vt<<=1,0>(Vt-=Pe[he]))return 0;for(;0<Pe[he];--Pe[he]){if(me=new ee,(_t&ot)!=ft){for(De+=St,nt=1<<(ft=he)-ce;15>ft&&!(0>=(nt-=Pe[ft]));)++ft,nt<<=1;Qe+=St=1<<(nt=ft-ce),K[ie+(ft=_t&ot)].g=nt+ce,K[ie+ft].value=De-ie-ft}me.g=he-ce,me.value=Ie[Te++],F(K,De+(_t>>ce),_e,St,me),_t=V(_t,he)}}return Nt!=2*Je[15]-1?0:Qe})(g,b,S,M,$,W)}function ee(){this.value=this.g=0}function le(){this.value=this.g=0}function ve(){this.G=f(5,ee),this.H=c(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(Gi,le)}function ae(g,b,S,M){t(g!=null),t(b!=null),t(2147483648>M),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=S,g.Jd=b,g.Yc=S+M,g.Zc=4<=M?S+M-4+1:S,Q(g)}function se(g,b){for(var S=0;0<b--;)S|=ye(g,128)<<b;return S}function Z(g,b){var S=se(g,b);return ue(g)?-S:S}function J(g,b,S,M){var $,W=0;for(t(g!=null),t(b!=null),t(4294967288>M),g.Sb=M,g.Ra=0,g.u=0,g.h=0,4<M&&(M=4),$=0;$<M;++$)W+=b[S+$]<<8*$;g.Ra=W,g.bb=M,g.oa=b,g.pa=S}function fe(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<zs-8>>>0,++g.bb,g.u-=8;B(g)&&(g.h=1,g.u=0)}function U(g,b){if(t(0<=b),!g.h&&b<=pr){var S=q(g)&jr[b];return g.u+=b,fe(g),S}return g.h=1,g.u=0}function _(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(g){return g.Ra>>>(g.u&zs-1)>>>0}function B(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>zs}function re(g,b){g.u=b,g.h=B(g)}function oe(g){g.u>=Is&&(t(g.u>=Is),fe(g))}function Q(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ue(g){return se(g,1)}function ye(g,b){var S=g.Ca;0>g.b&&Q(g);var M=g.b,$=S*b>>>8,W=(g.I>>>M>$)+0;for(W?(S-=$,g.I-=$+1<<M>>>0):S=$+1,M=S,$=0;256<=M;)$+=8,M>>=8;return M=7^$+pi[M],g.b-=M,g.Ca=(S<<M)-1,W}function ke(g,b,S){g[b+0]=S>>24&255,g[b+1]=S>>16&255,g[b+2]=S>>8&255,g[b+3]=255&S}function Ne(g,b){return g[b+0]|g[b+1]<<8}function pe(g,b){return Ne(g,b)|g[b+2]<<16}function Fe(g,b){return Ne(g,b)|Ne(g,b+2)<<16}function X(g,b){var S=1<<b;return t(g!=null),t(0<b),g.X=c(S),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function We(g,b){t(g!=null),t(b!=null),t(g.Xa==b.Xa),i(b.X,0,g.X,0,1<<b.Xa)}function xe(){this.X=[],this.Xa=this.Mb=0}function Ue(g,b,S,M){t(S!=null),t(M!=null);var $=S[0],W=M[0];return $==0&&($=(g*W+b/2)/b),W==0&&(W=(b*$+g/2)/g),0>=$||0>=W?0:(S[0]=$,M[0]=W,1)}function Re(g,b){return g+(1<<b)-1>>>b}function ze(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function rt(g,b){R[b]=function(S,M,$,W,K,ie,ce){var me;for(me=0;me<K;++me){var _e=R[g](ie[ce+me-1],$,W+me);ie[ce+me]=ze(S[M+me],_e)}}}function dt(){this.ud=this.hd=this.jd=0}function gt(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function Ee(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Le(g,b){return Ee(g+(g-b+.5>>1))}function Xe(g,b,S){return Math.abs(b-S)-Math.abs(g-S)}function Ze(g,b,S,M,$,W,K){for(M=W[K-1],S=0;S<$;++S)W[K+S]=M=ze(g[b+S],M)}function we(g,b,S,M,$){var W;for(W=0;W<S;++W){var K=g[b+W],ie=K>>8&255,ce=16711935&(ce=(ce=16711935&K)+((ie<<16)+ie));M[$+W]=(4278255360&K)+ce>>>0}}function Be(g,b){b.jd=255&g,b.hd=g>>8&255,b.ud=g>>16&255}function Ge(g,b,S,M,$,W){var K;for(K=0;K<M;++K){var ie=b[S+K],ce=ie>>>8,me=ie,_e=255&(_e=(_e=ie>>>16)+((g.jd<<24>>24)*(ce<<24>>24)>>>5));me=255&(me=(me+=(g.hd<<24>>24)*(ce<<24>>24)>>>5)+((g.ud<<24>>24)*(_e<<24>>24)>>>5)),$[W+K]=(4278255360&ie)+(_e<<16)+me}}function ut(g,b,S,M,$){R[b]=function(W,K,ie,ce,me,_e,Ie,he,Te){for(ce=Ie;ce<he;++ce)for(Ie=0;Ie<Te;++Ie)me[_e++]=$(ie[M(W[K++])])},R[g]=function(W,K,ie,ce,me,_e,Ie){var he=8>>W.b,Te=W.Ea,De=W.K[0],Qe=W.w;if(8>he)for(W=(1<<W.b)-1,Qe=(1<<he)-1;K<ie;++K){var Pe,Je=0;for(Pe=0;Pe<Te;++Pe)Pe&W||(Je=M(ce[me++])),_e[Ie++]=$(De[Je&Qe]),Je>>=he}else R["VP8LMapColor"+S](ce,me,De,Qe,_e,Ie,K,ie,Te)}}function je(g,b,S,M,$){for(S=b+S;b<S;){var W=g[b++];M[$++]=W>>16&255,M[$++]=W>>8&255,M[$++]=255&W}}function Ve(g,b,S,M,$){for(S=b+S;b<S;){var W=g[b++];M[$++]=W>>16&255,M[$++]=W>>8&255,M[$++]=255&W,M[$++]=W>>24&255}}function lt(g,b,S,M,$){for(S=b+S;b<S;){var W=(K=g[b++])>>16&240|K>>12&15,K=240&K|K>>28&15;M[$++]=W,M[$++]=K}}function ht(g,b,S,M,$){for(S=b+S;b<S;){var W=(K=g[b++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;M[$++]=W,M[$++]=K}}function bt(g,b,S,M,$){for(S=b+S;b<S;){var W=g[b++];M[$++]=255&W,M[$++]=W>>8&255,M[$++]=W>>16&255}}function yt(g,b,S,M,$,W){if(W==0)for(S=b+S;b<S;)ke(M,((W=g[b++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),$+=32;else i(M,$,g,b,S)}function na(g,b){R[b][0]=R[g+"0"],R[b][1]=R[g+"1"],R[b][2]=R[g+"2"],R[b][3]=R[g+"3"],R[b][4]=R[g+"4"],R[b][5]=R[g+"5"],R[b][6]=R[g+"6"],R[b][7]=R[g+"7"],R[b][8]=R[g+"8"],R[b][9]=R[g+"9"],R[b][10]=R[g+"10"],R[b][11]=R[g+"11"],R[b][12]=R[g+"12"],R[b][13]=R[g+"13"],R[b][14]=R[g+"0"],R[b][15]=R[g+"0"]}function Dt(g){return g==Sc||g==cd||g==Nl||g==dd}function Ht(){this.eb=[],this.size=this.A=this.fb=0}function ja(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function be(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ht,this.f.kb=new ja,this.sd=null}function tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ra(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Bt(g,b){var S=g.T,M=b.ba.f.RGBA,$=M.eb,W=M.fb+g.ka*M.A,K=Yn[b.ba.S],ie=g.y,ce=g.O,me=g.f,_e=g.N,Ie=g.ea,he=g.W,Te=b.cc,De=b.dc,Qe=b.Mc,Pe=b.Nc,Je=g.ka,nt=g.ka+g.T,ft=g.U,ot=ft+1>>1;for(Je==0?K(ie,ce,null,null,me,_e,Ie,he,me,_e,Ie,he,$,W,null,null,ft):(K(b.ec,b.fc,ie,ce,Te,De,Qe,Pe,me,_e,Ie,he,$,W-M.A,$,W,ft),++S);Je+2<nt;Je+=2)Te=me,De=_e,Qe=Ie,Pe=he,_e+=g.Rc,he+=g.Rc,W+=2*M.A,K(ie,(ce+=2*g.fa)-g.fa,ie,ce,Te,De,Qe,Pe,me,_e,Ie,he,$,W-M.A,$,W,ft);return ce+=g.fa,g.j+nt<g.o?(i(b.ec,b.fc,ie,ce,ft),i(b.cc,b.dc,me,_e,ot),i(b.Mc,b.Nc,Ie,he,ot),S--):1&nt||K(ie,ce,null,null,me,_e,Ie,he,me,_e,Ie,he,$,W+M.A,null,null,ft),S}function on(g,b,S){var M=g.F,$=[g.J];if(M!=null){var W=g.U,K=b.ba.S,ie=K==jc||K==Nl;b=b.ba.f.RGBA;var ce=[0],me=g.ka;ce[0]=g.T,g.Kb&&(me==0?--ce[0]:(--me,$[0]-=g.width),g.j+g.ka+g.T==g.o&&(ce[0]=g.o-g.j-me));var _e=b.eb;me=b.fb+me*b.A,g=yc(M,$[0],g.width,W,ce,_e,me+(ie?0:3),b.A),t(S==ce),g&&Dt(K)&&Ro(_e,me,ie,W,ce,b.A)}return 0}function ln(g){var b=g.ma,S=b.ba.S,M=11>S,$=S==sr||S==Jr||S==jc||S==wl||S==12||Dt(S);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!gi(b.Oa,g,$?11:12))return 0;if($&&Dt(S)&&gc(),g.da)alert("todo:use_scaling");else{if(M){if(b.Ib=ra,g.Kb){if(S=g.U+1>>1,b.memory=c(g.U+2*S),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+S,b.Ib=Bt,gc()}}else alert("todo:EmitYUV");$&&(b.Jb=on,M&&ws())}if(M&&!Zi){for(g=0;256>g;++g)Xn[g]=89858*(g-128)+Al>>ns,S0[g]=-22014*(g-128)+Al,Df[g]=-45773*(g-128),gd[g]=113618*(g-128)+Al>>ns;for(g=Do;g<Ji;++g)b=76283*(g-16)+Al>>ns,A0[g-Do]=Pr(b,255),k0[g-Do]=Pr(b+8>>4,15);Zi=1}return 1}function Mt(g){var b=g.ma,S=g.U,M=g.T;return t(!(1&g.ka)),0>=S||0>=M?0:(S=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,S),b.Dc+=S,1)}function ti(g){g.ma.memory=null}function Os(g,b,S,M){return U(g,8)!=47?0:(b[0]=U(g,14)+1,S[0]=U(g,14)+1,M[0]=U(g,1),U(g,3)!=0?0:!g.h)}function Or(g,b){if(4>g)return g+1;var S=g-2>>1;return(2+(1&g)<<S)+U(b,S)+1}function Mr(g,b){return 120<b?b-120:1<=(S=((S=Qr[b-1])>>4)*g+(8-(15&S)))?S:1;var S}function Ga(g,b,S){var M=q(S),$=g[b+=255&M].g-8;return 0<$&&(re(S,S.u+8),M=q(S),b+=g[b].value,b+=M&(1<<$)-1),re(S,S.u+g[b].g),g[b].value}function xn(g,b,S){return S.g+=g.g,S.value+=g.value<<b>>>0,t(8>=S.g),g.g}function Fn(g,b,S){var M=g.xc;return t((b=M==0?0:g.vc[g.md*(S>>M)+(b>>M)])<g.Wb),g.Ya[b]}function Bi(g,b,S,M){var $=g.ab,W=g.c*b,K=g.C;b=K+b;var ie=S,ce=M;for(M=g.Ta,S=g.Ua;0<$--;){var me=g.gc[$],_e=K,Ie=b,he=ie,Te=ce,De=(ce=M,ie=S,me.Ea);switch(t(_e<Ie),t(Ie<=me.nc),me.hc){case 2:un(he,Te,(Ie-_e)*De,ce,ie);break;case 0:var Qe=_e,Pe=Ie,Je=ce,nt=ie,ft=(St=me).Ea;Qe==0&&(xl(he,Te,null,null,1,Je,nt),Ze(he,Te+1,0,0,ft-1,Je,nt+1),Te+=ft,nt+=ft,++Qe);for(var ot=1<<St.b,_t=ot-1,Nt=Re(ft,St.b),Vt=St.K,St=St.w+(Qe>>St.b)*Nt;Qe<Pe;){var ia=Vt,qa=St,Xt=1;for(bl(he,Te,Je,nt-ft,1,Je,nt);Xt<ft;){var jt=(Xt&~_t)+ot;jt>ft&&(jt=ft),(0,xi[ia[qa++]>>8&15])(he,Te+ +Xt,Je,nt+Xt-ft,jt-Xt,Je,nt+Xt),Xt=jt}Te+=ft,nt+=ft,++Qe&_t||(St+=Nt)}Ie!=me.nc&&i(ce,ie-De,ce,ie+(Ie-_e-1)*De,De);break;case 1:for(De=he,Pe=Te,ft=(he=me.Ea)-(nt=he&~(Je=(Te=1<<me.b)-1)),Qe=Re(he,me.b),ot=me.K,me=me.w+(_e>>me.b)*Qe;_e<Ie;){for(_t=ot,Nt=me,Vt=new dt,St=Pe+nt,ia=Pe+he;Pe<St;)Be(_t[Nt++],Vt),yl(Vt,De,Pe,Te,ce,ie),Pe+=Te,ie+=Te;Pe<ia&&(Be(_t[Nt++],Vt),yl(Vt,De,Pe,ft,ce,ie),Pe+=ft,ie+=ft),++_e&Je||(me+=Qe)}break;case 3:if(he==ce&&Te==ie&&0<me.b){for(Pe=ce,he=De=ie+(Ie-_e)*De-(nt=(Ie-_e)*Re(me.Ea,me.b)),Te=ce,Je=ie,Qe=[],nt=(ft=nt)-1;0<=nt;--nt)Qe[nt]=Te[Je+nt];for(nt=ft-1;0<=nt;--nt)Pe[he+nt]=Qe[nt];rd(me,_e,Ie,ce,De,ce,ie)}else rd(me,_e,Ie,he,Te,ce,ie)}ie=M,ce=S}ce!=S&&i(M,S,ie,ce,W)}function fr(g,b){var S=g.V,M=g.Ba+g.c*g.C,$=b-g.C;if(t(b<=g.l.o),t(16>=$),0<$){var W=g.l,K=g.Ta,ie=g.Ua,ce=W.width;if(Bi(g,$,S,M),$=ie=[ie],t((S=g.C)<(M=b)),t(W.v<W.va),M>W.o&&(M=W.o),S<W.j){var me=W.j-S;S=W.j,$[0]+=me*ce}if(S>=M?S=0:($[0]+=4*W.v,W.ka=S-W.j,W.U=W.va-W.v,W.T=M-S,S=1),S){if(ie=ie[0],11>(S=g.ca).S){var _e=S.f.RGBA,Ie=(M=S.S,$=W.U,W=W.T,me=_e.eb,_e.A),he=W;for(_e=_e.fb+g.Ma*_e.A;0<he--;){var Te=K,De=ie,Qe=$,Pe=me,Je=_e;switch(M){case od:vl(Te,De,Qe,Pe,Je);break;case sr:bi(Te,De,Qe,Pe,Je);break;case Sc:bi(Te,De,Qe,Pe,Je),Ro(Pe,Je,0,Qe,1,0);break;case ld:Co(Te,De,Qe,Pe,Je);break;case Jr:yt(Te,De,Qe,Pe,Je,1);break;case cd:yt(Te,De,Qe,Pe,Je,1),Ro(Pe,Je,0,Qe,1,0);break;case jc:yt(Te,De,Qe,Pe,Je,0);break;case Nl:yt(Te,De,Qe,Pe,Je,0),Ro(Pe,Je,1,Qe,1,0);break;case wl:yi(Te,De,Qe,Pe,Je);break;case dd:yi(Te,De,Qe,Pe,Je),Kr(Pe,Je,Qe,1,0);break;case Vi:$s(Te,De,Qe,Pe,Je);break;default:t(0)}ie+=ce,_e+=Ie}g.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=S.height)}}g.C=b,t(g.C<=g.i)}function Ca(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var S=g.Ya[b].G,M=g.Ya[b].H;if(0<S[1][M[1]+0].g||0<S[2][M[2]+0].g||0<S[3][M[3]+0].g)return 0}return 1}function Va(g,b,S,M,$,W){if(g.Z!=0){var K=g.qd,ie=g.rd;for(t(Ni[g.Z]!=null);b<S;++b)Ni[g.Z](K,ie,M,$,M,$,W),K=M,ie=$,$+=W;g.qd=K,g.rd=ie}}function ar(g,b){var S=g.l.ma,M=S.Z==0||S.Z==1?g.l.j:g.C;if(M=g.C<M?M:g.C,t(b<=g.l.o),b>M){var $=g.l.width,W=S.ca,K=S.tb+$*M,ie=g.V,ce=g.Ba+g.c*M,me=g.gc;t(g.ab==1),t(me[0].hc==3),Hs(me[0],M,b,ie,ce,W,K),Va(S,M,b,W,K,$)}g.C=g.Ma=b}function Dr(g,b,S,M,$,W,K){var ie=g.$/M,ce=g.$%M,me=g.m,_e=g.s,Ie=S+g.$,he=Ie;$=S+M*$;var Te=S+M*W,De=280+_e.ua,Qe=g.Pb?ie:16777216,Pe=0<_e.ua?_e.Wa:null,Je=_e.wc,nt=Ie<Te?Fn(_e,ce,ie):null;t(g.C<W),t(Te<=$);var ft=!1;e:for(;;){for(;ft||Ie<Te;){var ot=0;if(ie>=Qe){var _t=Ie-S;t((Qe=g).Pb),Qe.wd=Qe.m,Qe.xd=_t,0<Qe.s.ua&&We(Qe.s.Wa,Qe.s.vb),Qe=ie+Wi}if(ce&Je||(nt=Fn(_e,ce,ie)),t(nt!=null),nt.Qb&&(b[Ie]=nt.qb,ft=!0),!ft)if(oe(me),nt.jc){ot=me,_t=b;var Nt=Ie,Vt=nt.pd[q(ot)&Gi-1];t(nt.jc),256>Vt.g?(re(ot,ot.u+Vt.g),_t[Nt]=Vt.value,ot=0):(re(ot,ot.u+Vt.g-256),t(256<=Vt.value),ot=Vt.value),ot==0&&(ft=!0)}else ot=Ga(nt.G[0],nt.H[0],me);if(me.h)break;if(ft||256>ot){if(!ft)if(nt.nd)b[Ie]=(nt.qb|ot<<8)>>>0;else{if(oe(me),ft=Ga(nt.G[1],nt.H[1],me),oe(me),_t=Ga(nt.G[2],nt.H[2],me),Nt=Ga(nt.G[3],nt.H[3],me),me.h)break;b[Ie]=(Nt<<24|ft<<16|ot<<8|_t)>>>0}if(ft=!1,++Ie,++ce>=M&&(ce=0,++ie,K!=null&&ie<=W&&!(ie%16)&&K(g,ie),Pe!=null))for(;he<Ie;)ot=b[he++],Pe.X[(506832829*ot&4294967295)>>>Pe.Mb]=ot}else if(280>ot){if(ot=Or(ot-256,me),_t=Ga(nt.G[4],nt.H[4],me),oe(me),_t=Mr(M,_t=Or(_t,me)),me.h)break;if(Ie-S<_t||$-Ie<ot)break e;for(Nt=0;Nt<ot;++Nt)b[Ie+Nt]=b[Ie+Nt-_t];for(Ie+=ot,ce+=ot;ce>=M;)ce-=M,++ie,K!=null&&ie<=W&&!(ie%16)&&K(g,ie);if(t(Ie<=$),ce&Je&&(nt=Fn(_e,ce,ie)),Pe!=null)for(;he<Ie;)ot=b[he++],Pe.X[(506832829*ot&4294967295)>>>Pe.Mb]=ot}else{if(!(ot<De))break e;for(ft=ot-280,t(Pe!=null);he<Ie;)ot=b[he++],Pe.X[(506832829*ot&4294967295)>>>Pe.Mb]=ot;ot=Ie,t(!(ft>>>(_t=Pe).Xa)),b[ot]=_t.X[ft],ft=!0}ft||t(me.h==B(me))}if(g.Pb&&me.h&&Ie<$)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&We(g.s.vb,g.s.Wa);else{if(me.h)break e;K?.(g,ie>W?W:ie),g.a=0,g.$=Ie-S}return 1}return g.a=3,0}function Vr(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,t(g!=null)}function vo(){var g=new $t;return g==null?null:(g.a=0,g.xb=xu,na("Predictor","VP8LPredictors"),na("Predictor","VP8LPredictors_C"),na("PredictorAdd","VP8LPredictorsAdd"),na("PredictorAdd","VP8LPredictorsAdd_C"),un=we,yl=Ge,vl=je,bi=Ve,yi=lt,$s=ht,Co=bt,R.VP8LMapColor32b=qs,R.VP8LMapColor8b=Gn,g)}function hs(g,b,S,M,$){var W=1,K=[g],ie=[b],ce=M.m,me=M.s,_e=null,Ie=0;e:for(;;){if(S)for(;W&&U(ce,1);){var he=K,Te=ie,De=M,Qe=1,Pe=De.m,Je=De.gc[De.ab],nt=U(Pe,2);if(De.Oc&1<<nt)W=0;else{switch(De.Oc|=1<<nt,Je.hc=nt,Je.Ea=he[0],Je.nc=Te[0],Je.K=[null],++De.ab,t(4>=De.ab),nt){case 0:case 1:Je.b=U(Pe,3)+2,Qe=hs(Re(Je.Ea,Je.b),Re(Je.nc,Je.b),0,De,Je.K),Je.K=Je.K[0];break;case 3:var ft,ot=U(Pe,8)+1,_t=16<ot?0:4<ot?1:2<ot?2:3;if(he[0]=Re(Je.Ea,_t),Je.b=_t,ft=Qe=hs(ot,1,0,De,Je.K)){var Nt,Vt=ot,St=Je,ia=1<<(8>>St.b),qa=c(ia);if(qa==null)ft=0;else{var Xt=St.K[0],jt=St.w;for(qa[0]=St.K[0][0],Nt=1;Nt<1*Vt;++Nt)qa[Nt]=ze(Xt[jt+Nt],qa[Nt-1]);for(;Nt<4*ia;++Nt)qa[Nt]=0;St.K[0]=null,St.K[0]=qa,ft=1}}Qe=ft;break;case 2:break;default:t(0)}W=Qe}}if(K=K[0],ie=ie[0],W&&U(ce,1)&&!(W=1<=(Ie=U(ce,4))&&11>=Ie)){M.a=3;break e}var pt;if(pt=W)t:{var Ya,It,Zt,ka=M,Cn=K,Kn=ie,Pa=Ie,vn=S,ir=ka.m,wn=ka.s,aa=[null],ga=1,Xa=0,wa=es[Pa];a:for(;;){if(vn&&U(ir,1)){var Ln=U(ir,3)+2,Ka=Re(Cn,Ln),pa=Re(Kn,Ln),mn=Ka*pa;if(!hs(Ka,pa,0,ka,aa))break a;for(aa=aa[0],wn.xc=Ln,Ya=0;Ya<mn;++Ya){var _a=aa[Ya]>>8&65535;aa[Ya]=_a,_a>=ga&&(ga=_a+1)}}if(ir.h)break a;for(It=0;5>It;++It){var Nn=Oo[It];!It&&0<Pa&&(Nn+=1<<Pa),Xa<Nn&&(Xa=Nn)}var jn=f(ga*wa,ee),La=ga,ma=f(La,ve);if(ma==null)var or=null;else t(65536>=La),or=ma;var tn=c(Xa);if(or==null||tn==null||jn==null){ka.a=1;break a}var Ft=jn;for(Ya=Zt=0;Ya<ga;++Ya){var Pt=or[Ya],xa=Pt.G,Sr=Pt.H,rs=0,br=1,Sn=0;for(It=0;5>It;++It){Nn=Oo[It],xa[It]=Ft,Sr[It]=Zt,!It&&0<Pa&&(Nn+=1<<Pa);r:{var Qi,eo=Nn,xd=ka,Ua=tn,yu=Ft,vu=Zt,bd=0,ji=xd.m,_0=U(ji,1);if(o(Ua,0,0,eo),_0){var wu=U(ji,1)+1,Nu=U(ji,1),yd=U(ji,Nu==0?1:8);Ua[yd]=1,wu==2&&(Ua[yd=U(ji,8)]=1);var Bn=1}else{var an=c(19),Ec=U(ji,4)+4;if(19<Ec){xd.a=3;var to=0;break r}for(Qi=0;Qi<Ec;++Qi)an[Ac[Qi]]=U(ji,3);var _l=void 0,Fo=void 0,Ws=xd,vd=an,El=eo,wd=Ua,Nd=0,Si=Ws.m,ju=8,Su=f(128,ee);n:for(;z(Su,0,7,vd,19);){if(U(Si,1)){var Ff=2+2*U(Si,3);if((_l=2+U(Si,Ff))>El)break n}else _l=El;for(Fo=0;Fo<El&&_l--;){oe(Si);var Au=Su[0+(127&q(Si))];re(Si,Si.u+Au.g);var ao=Au.value;if(16>ao)wd[Fo++]=ao,ao!=0&&(ju=ao);else{var Pf=ao==16,Uf=ao-16,Bf=jl[Uf],ku=U(Si,Zr[Uf])+Bf;if(Fo+ku>El)break n;for(var zf=Pf?ju:0;0<ku--;)wd[Fo++]=zf}}Nd=1;break n}Nd||(Ws.a=3),Bn=Nd}(Bn=Bn&&!ji.h)&&(bd=z(yu,vu,8,Ua,eo)),Bn&&bd!=0?to=bd:(xd.a=3,to=0)}if(to==0)break a;if(br&&ud[It]==1&&(br=Ft[Zt].g==0),rs+=Ft[Zt].g,Zt+=to,3>=It){var Po,jd=tn[0];for(Po=1;Po<Nn;++Po)tn[Po]>jd&&(jd=tn[Po]);Sn+=jd}}if(Pt.nd=br,Pt.Qb=0,br&&(Pt.qb=(xa[3][Sr[3]+0].value<<24|xa[1][Sr[1]+0].value<<16|xa[2][Sr[2]+0].value)>>>0,rs==0&&256>xa[0][Sr[0]+0].value&&(Pt.Qb=1,Pt.qb+=xa[0][Sr[0]+0].value<<8)),Pt.jc=!Pt.Qb&&6>Sn,Pt.jc){var Cc,Ys=Pt;for(Cc=0;Cc<Gi;++Cc){var Ai=Cc,ki=Ys.pd[Ai],Sd=Ys.G[0][Ys.H[0]+Ai];256<=Sd.value?(ki.g=Sd.g+256,ki.value=Sd.value):(ki.g=0,ki.value=0,Ai>>=xn(Sd,8,ki),Ai>>=xn(Ys.G[1][Ys.H[1]+Ai],16,ki),Ai>>=xn(Ys.G[2][Ys.H[2]+Ai],0,ki),xn(Ys.G[3][Ys.H[3]+Ai],24,ki))}}}wn.vc=aa,wn.Wb=ga,wn.Ya=or,wn.yc=jn,pt=1;break t}pt=0}if(!(W=pt)){M.a=3;break e}if(0<Ie){if(me.ua=1<<Ie,!X(me.Wa,Ie)){M.a=1,W=0;break e}}else me.ua=0;var Ad=M,Uo=K,If=ie,Cl=Ad.s,Ll=Cl.xc;if(Ad.c=Uo,Ad.i=If,Cl.md=Re(Uo,Ll),Cl.wc=Ll==0?-1:(1<<Ll)-1,S){M.xb=Yi;break e}if((_e=c(K*ie))==null){M.a=1,W=0;break e}W=(W=Dr(M,_e,0,K,ie,ie,null))&&!ce.h;break e}return W?($!=null?$[0]=_e:(t(_e==null),t(S)),M.$=0,S||Vr(me)):Vr(me),W}function ms(g,b){var S=g.c*g.i,M=S+b+16*b;return t(g.c<=b),g.V=c(M),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+S+b,1)}function zi(g,b){var S=g.C,M=b-S,$=g.V,W=g.Ba+g.c*S;for(t(b<=g.l.o);0<M;){var K=16<M?16:M,ie=g.l.ma,ce=g.l.width,me=ce*K,_e=ie.ca,Ie=ie.tb+ce*S,he=g.Ta,Te=g.Ua;Bi(g,K,$,W),qr(he,Te,_e,Ie,me),Va(ie,S,S+K,_e,Ie,ce),M-=K,$+=K*g.c,S+=K}t(S==b),g.C=g.Ma=b}function gs(){this.ub=this.yd=this.td=this.Rb=0}function ps(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wo(){this.Fb=this.Bb=this.Cb=0,this.Zb=c(4),this.Lb=c(4)}function Ms(){this.Yb=(function(){var g=[];return(function b(S,M,$){for(var W=$[M],K=0;K<W&&(S.push($.length>M+1?[]:0),!($.length<M+1));K++)b(S[K],M+1,$)})(g,0,[3,11]),g})()}function cn(){this.jb=c(3),this.Wc=u([4,8],Ms),this.Xc=u([4,17],Ms)}function tc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new c(4),this.od=new c(4)}function Fr(){this.ld=this.La=this.dd=this.tc=0}function xs(){this.Na=this.la=0}function ai(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ac(){this.ad=c(384),this.Za=0,this.Ob=c(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fr),this.Y=0,this.ya=Array(new ac),this.aa=0,this.l=new ni}function rc(){this.y=c(16),this.f=c(8),this.ea=c(8)}function Yc(){this.cb=this.a=0,this.sc="",this.m=new _,this.Od=new gs,this.Kc=new ps,this.ed=new tc,this.Qa=new wo,this.Ic=this.$c=this.Aa=0,this.D=new nc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,_),this.ia=0,this.pb=f(4,ai),this.Pa=new cn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rc),this.Hd=0,this.rb=Array(new xs),this.sb=0,this.wa=Array(new Fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ac),this.L=this.aa=0,this.gd=u([4,2],Fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pr(g,b){return 0>g?0:g>b?b:g}function ni(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bs(){var g=new Yc;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Hr||(Hr=Ii)),g}function ya(g,b,S){return g.a==0&&(g.a=b,g.sc=S,g.cb=0),0}function sc(g,b,S){return 3<=S&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function Ds(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return ya(g,2,"null VP8Io passed to VP8GetHeaders()");var S=b.data,M=b.w,$=b.ha;if(4>$)return ya(g,7,"Truncated header.");var W=S[M+0]|S[M+1]<<8|S[M+2]<<16,K=g.Od;if(K.Rb=!(1&W),K.td=W>>1&7,K.yd=W>>4&1,K.ub=W>>5,3<K.td)return ya(g,3,"Incorrect keyframe parameters.");if(!K.yd)return ya(g,4,"Frame not displayable.");M+=3,$-=3;var ie=g.Kc;if(K.Rb){if(7>$)return ya(g,7,"cannot parse picture header");if(!sc(S,M,$))return ya(g,3,"Bad code word");ie.c=16383&(S[M+4]<<8|S[M+3]),ie.Td=S[M+4]>>6,ie.i=16383&(S[M+6]<<8|S[M+5]),ie.Ud=S[M+6]>>6,M+=7,$-=7,g.za=ie.c+15>>4,g.Ub=ie.i+15>>4,b.width=ie.c,b.height=ie.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,o((W=g.Pa).jb,0,255,W.jb.length),t((W=g.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,o(W.Zb,0,0,W.Zb.length),o(W.Lb,0,0,W.Lb)}if(K.ub>$)return ya(g,7,"bad partition length");ae(W=g.m,S,M,K.ub),M+=K.ub,$-=K.ub,K.Rb&&(ie.Ld=ue(W),ie.Kd=ue(W)),ie=g.Qa;var ce,me=g.Pa;if(t(W!=null),t(ie!=null),ie.Cb=ue(W),ie.Cb){if(ie.Bb=ue(W),ue(W)){for(ie.Fb=ue(W),ce=0;4>ce;++ce)ie.Zb[ce]=ue(W)?Z(W,7):0;for(ce=0;4>ce;++ce)ie.Lb[ce]=ue(W)?Z(W,6):0}if(ie.Bb)for(ce=0;3>ce;++ce)me.jb[ce]=ue(W)?se(W,8):255}else ie.Bb=0;if(W.Ka)return ya(g,3,"cannot parse segment header");if((ie=g.ed).zd=ue(W),ie.Tb=se(W,6),ie.wb=se(W,3),ie.Pc=ue(W),ie.Pc&&ue(W)){for(me=0;4>me;++me)ue(W)&&(ie.vd[me]=Z(W,6));for(me=0;4>me;++me)ue(W)&&(ie.od[me]=Z(W,6))}if(g.L=ie.Tb==0?0:ie.zd?1:2,W.Ka)return ya(g,3,"cannot parse filter header");var _e=$;if($=ce=M,M=ce+_e,ie=_e,g.Xb=(1<<se(g.m,2))-1,_e<3*(me=g.Xb))S=7;else{for(ce+=3*me,ie-=3*me,_e=0;_e<me;++_e){var Ie=S[$+0]|S[$+1]<<8|S[$+2]<<16;Ie>ie&&(Ie=ie),ae(g.Jc[+_e],S,ce,Ie),ce+=Ie,ie-=Ie,$+=3}ae(g.Jc[+me],S,ce,ie),S=ce<M?0:5}if(S!=0)return ya(g,S,"cannot parse partitions");for(S=se(ce=g.m,7),$=ue(ce)?Z(ce,4):0,M=ue(ce)?Z(ce,4):0,ie=ue(ce)?Z(ce,4):0,me=ue(ce)?Z(ce,4):0,ce=ue(ce)?Z(ce,4):0,_e=g.Qa,Ie=0;4>Ie;++Ie){if(_e.Cb){var he=_e.Zb[Ie];_e.Fb||(he+=S)}else{if(0<Ie){g.pb[Ie]=g.pb[0];continue}he=S}var Te=g.pb[Ie];Te.Sc[0]=ts[Pr(he+$,127)],Te.Sc[1]=as[Pr(he+0,127)],Te.Eb[0]=2*ts[Pr(he+M,127)],Te.Eb[1]=101581*as[Pr(he+ie,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=ts[Pr(he+me,117)],Te.Qc[1]=as[Pr(he+ce,127)],Te.lc=he+ce}if(!K.Rb)return ya(g,4,"Not a key frame.");for(ue(W),K=g.Pa,S=0;4>S;++S){for($=0;8>$;++$)for(M=0;3>M;++M)for(ie=0;11>ie;++ie)me=ye(W,Ia[S][$][M][ie])?se(W,8):Mf[S][$][M][ie],K.Wc[S][$].Yb[M][ie]=me;for($=0;17>$;++$)K.Xc[S][$]=K.Wc[S][oa[$]]}return g.kc=ue(W),g.kc&&(g.Bd=se(W,8)),g.cb=1}function Ii(g,b,S,M,$,W,K){var ie=b[$].Yb[S];for(S=0;16>$;++$){if(!ye(g,ie[S+0]))return $;for(;!ye(g,ie[S+1]);)if(ie=b[++$].Yb[0],S=0,$==16)return 16;var ce=b[$+1].Yb;if(ye(g,ie[S+2])){var me=g,_e=0;if(ye(me,(he=ie)[(Ie=S)+3]))if(ye(me,he[Ie+6])){for(ie=0,Ie=2*(_e=ye(me,he[Ie+8]))+(he=ye(me,he[Ie+9+_e])),_e=0,he=Of[Ie];he[ie];++ie)_e+=_e+ye(me,he[ie]);_e+=3+(8<<Ie)}else ye(me,he[Ie+7])?(_e=7+2*ye(me,165),_e+=ye(me,145)):_e=5+ye(me,159);else _e=ye(me,he[Ie+4])?3+ye(me,he[Ie+5]):2;ie=ce[2]}else _e=1,ie=ce[1];ce=K+pu[$],0>(me=g).b&&Q(me);var Ie,he=me.b,Te=(Ie=me.Ca>>1)-(me.I>>he)>>31;--me.b,me.Ca+=Te,me.Ca|=1,me.I-=(Ie+1&Te)<<he,W[ce]=((_e^Te)-Te)*M[(0<$)+0]}return 16}function ic(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,o(g.zc,0,0,g.zc.length),g.ja=0}function hr(g,b,S,M,$){$=g[b+S+32*M]+($>>3),g[b+S+32*M]=-256&$?0>$?0:255:$}function _n(g,b,S,M,$,W){hr(g,b,0,S,M+$),hr(g,b,1,S,M+W),hr(g,b,2,S,M-W),hr(g,b,3,S,M-$)}function bn(g){return(20091*g>>16)+g}function dl(g,b,S,M){var $,W=0,K=c(16);for($=0;4>$;++$){var ie=g[b+0]+g[b+8],ce=g[b+0]-g[b+8],me=(35468*g[b+4]>>16)-bn(g[b+12]),_e=bn(g[b+4])+(35468*g[b+12]>>16);K[W+0]=ie+_e,K[W+1]=ce+me,K[W+2]=ce-me,K[W+3]=ie-_e,W+=4,b++}for($=W=0;4>$;++$)ie=(g=K[W+0]+4)+K[W+8],ce=g-K[W+8],me=(35468*K[W+4]>>16)-bn(K[W+12]),hr(S,M,0,0,ie+(_e=bn(K[W+4])+(35468*K[W+12]>>16))),hr(S,M,1,0,ce+me),hr(S,M,2,0,ce-me),hr(S,M,3,0,ie-_e),W++,M+=32}function Xc(g,b,S,M){var $=g[b+0]+4,W=35468*g[b+4]>>16,K=bn(g[b+4]),ie=35468*g[b+1]>>16;_n(S,M,0,$+K,g=bn(g[b+1]),ie),_n(S,M,1,$+W,g,ie),_n(S,M,2,$-W,g,ie),_n(S,M,3,$-K,g,ie)}function oc(g,b,S,M,$){dl(g,b,S,M),$&&dl(g,b+16,S,M+4)}function mr(g,b,S,M){vi(g,b+0,S,M,1),vi(g,b+32,S,M+128,1)}function lc(g,b,S,M){var $;for(g=g[b+0]+4,$=0;4>$;++$)for(b=0;4>b;++b)hr(S,M,b,$,g)}function cc(g,b,S,M){g[b+0]&&va(g,b+0,S,M),g[b+16]&&va(g,b+16,S,M+4),g[b+32]&&va(g,b+32,S,M+128),g[b+48]&&va(g,b+48,S,M+128+4)}function ys(g,b,S,M){var $,W=c(16);for($=0;4>$;++$){var K=g[b+0+$]+g[b+12+$],ie=g[b+4+$]+g[b+8+$],ce=g[b+4+$]-g[b+8+$],me=g[b+0+$]-g[b+12+$];W[0+$]=K+ie,W[8+$]=K-ie,W[4+$]=me+ce,W[12+$]=me-ce}for($=0;4>$;++$)K=(g=W[0+4*$]+3)+W[3+4*$],ie=W[1+4*$]+W[2+4*$],ce=W[1+4*$]-W[2+4*$],me=g-W[3+4*$],S[M+0]=K+ie>>3,S[M+16]=me+ce>>3,S[M+32]=K-ie>>3,S[M+48]=me-ce>>3,M+=64}function No(g,b,S){var M,$=b-32,W=rr,K=255-g[$-1];for(M=0;M<S;++M){var ie,ce=W,me=K+g[b-1];for(ie=0;ie<S;++ie)g[b+ie]=ce[me+g[$+ie]];b+=32}}function Kc(g,b){No(g,b,4)}function Jc(g,b){No(g,b,8)}function dc(g,b){No(g,b,16)}function uc(g,b){var S;for(S=0;16>S;++S)i(g,b+32*S,g,b-32,16)}function Zc(g,b){var S;for(S=16;0<S;--S)o(g,b,g[b-1],16),b+=32}function Nr(g,b,S){var M;for(M=0;16>M;++M)o(b,S+32*M,g,16)}function vs(g,b){var S,M=16;for(S=0;16>S;++S)M+=g[b-1+32*S]+g[b+S-32];Nr(M>>5,g,b)}function ri(g,b){var S,M=8;for(S=0;16>S;++S)M+=g[b-1+32*S];Nr(M>>4,g,b)}function jo(g,b){var S,M=8;for(S=0;16>S;++S)M+=g[b+S-32];Nr(M>>4,g,b)}function qi(g,b){Nr(128,g,b)}function zt(g,b,S){return g+2*b+S+2>>2}function Qc(g,b){var S,M=b-32;for(M=new Uint8Array([zt(g[M-1],g[M+0],g[M+1]),zt(g[M+0],g[M+1],g[M+2]),zt(g[M+1],g[M+2],g[M+3]),zt(g[M+2],g[M+3],g[M+4])]),S=0;4>S;++S)i(g,b+32*S,M,0,M.length)}function fc(g,b){var S=g[b-1],M=g[b-1+32],$=g[b-1+64],W=g[b-1+96];ke(g,b+0,16843009*zt(g[b-1-32],S,M)),ke(g,b+32,16843009*zt(S,M,$)),ke(g,b+64,16843009*zt(M,$,W)),ke(g,b+96,16843009*zt($,W,W))}function ed(g,b){var S,M=4;for(S=0;4>S;++S)M+=g[b+S-32]+g[b-1+32*S];for(M>>=3,S=0;4>S;++S)o(g,b+32*S,M,4)}function Ur(g,b){var S=g[b-1+0],M=g[b-1+32],$=g[b-1+64],W=g[b-1-32],K=g[b+0-32],ie=g[b+1-32],ce=g[b+2-32],me=g[b+3-32];g[b+0+96]=zt(M,$,g[b-1+96]),g[b+1+96]=g[b+0+64]=zt(S,M,$),g[b+2+96]=g[b+1+64]=g[b+0+32]=zt(W,S,M),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=zt(K,W,S),g[b+3+64]=g[b+2+32]=g[b+1+0]=zt(ie,K,W),g[b+3+32]=g[b+2+0]=zt(ce,ie,K),g[b+3+0]=zt(me,ce,ie)}function Hn(g,b){var S=g[b+1-32],M=g[b+2-32],$=g[b+3-32],W=g[b+4-32],K=g[b+5-32],ie=g[b+6-32],ce=g[b+7-32];g[b+0+0]=zt(g[b+0-32],S,M),g[b+1+0]=g[b+0+32]=zt(S,M,$),g[b+2+0]=g[b+1+32]=g[b+0+64]=zt(M,$,W),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=zt($,W,K),g[b+3+32]=g[b+2+64]=g[b+1+96]=zt(W,K,ie),g[b+3+64]=g[b+2+96]=zt(K,ie,ce),g[b+3+96]=zt(ie,ce,ce)}function hc(g,b){var S=g[b-1+0],M=g[b-1+32],$=g[b-1+64],W=g[b-1-32],K=g[b+0-32],ie=g[b+1-32],ce=g[b+2-32],me=g[b+3-32];g[b+0+0]=g[b+1+64]=W+K+1>>1,g[b+1+0]=g[b+2+64]=K+ie+1>>1,g[b+2+0]=g[b+3+64]=ie+ce+1>>1,g[b+3+0]=ce+me+1>>1,g[b+0+96]=zt($,M,S),g[b+0+64]=zt(M,S,W),g[b+0+32]=g[b+1+96]=zt(S,W,K),g[b+1+32]=g[b+2+96]=zt(W,K,ie),g[b+2+32]=g[b+3+96]=zt(K,ie,ce),g[b+3+32]=zt(ie,ce,me)}function So(g,b){var S=g[b+0-32],M=g[b+1-32],$=g[b+2-32],W=g[b+3-32],K=g[b+4-32],ie=g[b+5-32],ce=g[b+6-32],me=g[b+7-32];g[b+0+0]=S+M+1>>1,g[b+1+0]=g[b+0+64]=M+$+1>>1,g[b+2+0]=g[b+1+64]=$+W+1>>1,g[b+3+0]=g[b+2+64]=W+K+1>>1,g[b+0+32]=zt(S,M,$),g[b+1+32]=g[b+0+96]=zt(M,$,W),g[b+2+32]=g[b+1+96]=zt($,W,K),g[b+3+32]=g[b+2+96]=zt(W,K,ie),g[b+3+64]=zt(K,ie,ce),g[b+3+96]=zt(ie,ce,me)}function Br(g,b){var S=g[b-1+0],M=g[b-1+32],$=g[b-1+64],W=g[b-1+96];g[b+0+0]=S+M+1>>1,g[b+2+0]=g[b+0+32]=M+$+1>>1,g[b+2+32]=g[b+0+64]=$+W+1>>1,g[b+1+0]=zt(S,M,$),g[b+3+0]=g[b+1+32]=zt(M,$,W),g[b+3+32]=g[b+1+64]=zt($,W,W),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=W}function Ao(g,b){var S=g[b-1+0],M=g[b-1+32],$=g[b-1+64],W=g[b-1+96],K=g[b-1-32],ie=g[b+0-32],ce=g[b+1-32],me=g[b+2-32];g[b+0+0]=g[b+2+32]=S+K+1>>1,g[b+0+32]=g[b+2+64]=M+S+1>>1,g[b+0+64]=g[b+2+96]=$+M+1>>1,g[b+0+96]=W+$+1>>1,g[b+3+0]=zt(ie,ce,me),g[b+2+0]=zt(K,ie,ce),g[b+1+0]=g[b+3+32]=zt(S,K,ie),g[b+1+32]=g[b+3+64]=zt(M,S,K),g[b+1+64]=g[b+3+96]=zt($,M,S),g[b+1+96]=zt(W,$,M)}function Fs(g,b){var S;for(S=0;8>S;++S)i(g,b+32*S,g,b-32,8)}function td(g,b){var S;for(S=0;8>S;++S)o(g,b,g[b-1],8),b+=32}function Wr(g,b,S){var M;for(M=0;8>M;++M)o(b,S+32*M,g,8)}function ul(g,b){var S,M=8;for(S=0;8>S;++S)M+=g[b+S-32]+g[b-1+32*S];Wr(M>>4,g,b)}function fl(g,b){var S,M=4;for(S=0;8>S;++S)M+=g[b+S-32];Wr(M>>3,g,b)}function Pn(g,b){var S,M=4;for(S=0;8>S;++S)M+=g[b-1+32*S];Wr(M>>3,g,b)}function Ps(g,b){Wr(128,g,b)}function Yr(g,b,S){var M=g[b-S],$=g[b+0],W=3*($-M)+wi[1020+g[b-2*S]-g[b+S]],K=Nc[112+(W+4>>3)];g[b-S]=rr[255+M+Nc[112+(W+3>>3)]],g[b+0]=rr[255+$-K]}function si(g,b,S,M){var $=g[b+0],W=g[b+S];return Vn[255+g[b-2*S]-g[b-S]]>M||Vn[255+W-$]>M}function hl(g,b,S,M){return 4*Vn[255+g[b-S]-g[b+0]]+Vn[255+g[b-2*S]-g[b+S]]<=M}function ko(g,b,S,M,$){var W=g[b-3*S],K=g[b-2*S],ie=g[b-S],ce=g[b+0],me=g[b+S],_e=g[b+2*S],Ie=g[b+3*S];return 4*Vn[255+ie-ce]+Vn[255+K-me]>M?0:Vn[255+g[b-4*S]-W]<=$&&Vn[255+W-K]<=$&&Vn[255+K-ie]<=$&&Vn[255+Ie-_e]<=$&&Vn[255+_e-me]<=$&&Vn[255+me-ce]<=$}function ii(g,b,S,M){var $=2*M+1;for(M=0;16>M;++M)hl(g,b+M,S,$)&&Yr(g,b+M,S)}function oi(g,b,S,M){var $=2*M+1;for(M=0;16>M;++M)hl(g,b+M*S,1,$)&&Yr(g,b+M*S,1)}function _o(g,b,S,M){var $;for($=3;0<$;--$)ii(g,b+=4*S,S,M)}function mc(g,b,S,M){var $;for($=3;0<$;--$)oi(g,b+=4,S,M)}function li(g,b,S,M,$,W,K,ie){for(W=2*W+1;0<$--;){if(ko(g,b,S,W,K))if(si(g,b,S,ie))Yr(g,b,S);else{var ce=g,me=b,_e=S,Ie=ce[me-2*_e],he=ce[me-_e],Te=ce[me+0],De=ce[me+_e],Qe=ce[me+2*_e],Pe=27*(nt=wi[1020+3*(Te-he)+wi[1020+Ie-De]])+63>>7,Je=18*nt+63>>7,nt=9*nt+63>>7;ce[me-3*_e]=rr[255+ce[me-3*_e]+nt],ce[me-2*_e]=rr[255+Ie+Je],ce[me-_e]=rr[255+he+Pe],ce[me+0]=rr[255+Te-Pe],ce[me+_e]=rr[255+De-Je],ce[me+2*_e]=rr[255+Qe-nt]}b+=M}}function ci(g,b,S,M,$,W,K,ie){for(W=2*W+1;0<$--;){if(ko(g,b,S,W,K))if(si(g,b,S,ie))Yr(g,b,S);else{var ce=g,me=b,_e=S,Ie=ce[me-_e],he=ce[me+0],Te=ce[me+_e],De=Nc[112+(4+(Qe=3*(he-Ie))>>3)],Qe=Nc[112+(Qe+3>>3)],Pe=De+1>>1;ce[me-2*_e]=rr[255+ce[me-2*_e]+Pe],ce[me-_e]=rr[255+Ie+Qe],ce[me+0]=rr[255+he-De],ce[me+_e]=rr[255+Te-Pe]}b+=M}}function ad(g,b,S,M,$,W){li(g,b,S,1,16,M,$,W)}function di(g,b,S,M,$,W){li(g,b,1,S,16,M,$,W)}function nd(g,b,S,M,$,W){var K;for(K=3;0<K;--K)ci(g,b+=4*S,S,1,16,M,$,W)}function N(g,b,S,M,$,W){var K;for(K=3;0<K;--K)ci(g,b+=4,1,S,16,M,$,W)}function H(g,b,S,M,$,W,K,ie){li(g,b,$,1,8,W,K,ie),li(S,M,$,1,8,W,K,ie)}function ge(g,b,S,M,$,W,K,ie){li(g,b,1,$,8,W,K,ie),li(S,M,1,$,8,W,K,ie)}function Ae(g,b,S,M,$,W,K,ie){ci(g,b+4*$,$,1,8,W,K,ie),ci(S,M+4*$,$,1,8,W,K,ie)}function Oe(g,b,S,M,$,W,K,ie){ci(g,b+4,1,$,8,W,K,ie),ci(S,M+4,1,$,8,W,K,ie)}function at(){this.ba=new be,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function At(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rt(){this.ua=0,this.Wa=new xe,this.vb=new xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ve,this.yc=new ee}function $t(){this.xb=this.a=0,this.l=new ni,this.ca=new be,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rt,this.ab=0,this.gc=f(4,At),this.Oc=0}function Yt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ni,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fa(g,b,S,M,$,W,K){for(g=g==null?0:g[b+0],b=0;b<K;++b)$[W+b]=g+S[M+b]&255,g=$[W+b]}function Wa(g,b,S,M,$,W,K){var ie;if(g==null)fa(null,null,S,M,$,W,K);else for(ie=0;ie<K;++ie)$[W+ie]=g[b+ie]+S[M+ie]&255}function dn(g,b,S,M,$,W,K){if(g==null)fa(null,null,S,M,$,W,K);else{var ie,ce=g[b+0],me=ce,_e=ce;for(ie=0;ie<K;++ie)me=_e+(ce=g[b+ie])-me,_e=S[M+ie]+(-256&me?0>me?0:255:me)&255,me=ce,$[W+ie]=_e}}function Da(g,b,S,M){var $=b.width,W=b.o;if(t(g!=null&&b!=null),0>S||0>=M||S+M>W)return null;if(!g.Cc){if(g.ga==null){var K;if(g.ga=new Yt,(K=g.ga==null)||(K=b.width*b.o,t(g.Gb.length==0),g.Gb=c(K),g.Uc=0,g.Gb==null?K=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,K=1),K=!K),!K){K=g.ga;var ie=g.Fa,ce=g.P,me=g.qc,_e=g.mb,Ie=g.nb,he=ce+1,Te=me-1,De=K.l;if(t(ie!=null&&_e!=null&&b!=null),Ni[0]=null,Ni[1]=fa,Ni[2]=Wa,Ni[3]=dn,K.ca=_e,K.tb=Ie,K.c=b.width,K.i=b.height,t(0<K.c&&0<K.i),1>=me)b=0;else if(K.$a=3&ie[ce+0],K.Z=ie[ce+0]>>2&3,K.Lc=ie[ce+0]>>4&3,ce=ie[ce+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ce)b=0;else if(De.put=Mt,De.ac=ln,De.bc=ti,De.ma=K,De.width=b.width,De.height=b.height,De.Da=b.Da,De.v=b.v,De.va=b.va,De.j=b.j,De.o=b.o,K.$a)e:{t(K.$a==1),b=vo();t:for(;;){if(b==null){b=0;break e}if(t(K!=null),K.mc=b,b.c=K.c,b.i=K.i,b.l=K.l,b.l.ma=K,b.l.width=K.c,b.l.height=K.i,b.a=0,J(b.m,ie,he,Te),!hs(K.c,K.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Ca(b.s)?(K.ic=1,ie=b.c*b.i,b.Ta=null,b.Ua=0,b.V=c(ie),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(K.ic=0,b=ms(b,K.c)),!b))break t;b=1;break e}K.mc=null,b=0}else b=Te>=K.c*K.i;K=!b}if(K)return null;g.ga.Lc!=1?g.Ga=0:M=W-S}t(g.ga!=null),t(S+M<=W);e:{if(b=(ie=g.ga).c,W=ie.l.o,ie.$a==0){if(he=g.rc,Te=g.Vc,De=g.Fa,ce=g.P+1+S*b,me=g.mb,_e=g.nb+S*b,t(ce<=g.P+g.qc),ie.Z!=0)for(t(Ni[ie.Z]!=null),K=0;K<M;++K)Ni[ie.Z](he,Te,De,ce,me,_e,b),he=me,Te=_e,_e+=b,ce+=b;else for(K=0;K<M;++K)i(me,_e,De,ce,b),he=me,Te=_e,_e+=b,ce+=b;g.rc=he,g.Vc=Te}else{if(t(ie.mc!=null),b=S+M,t((K=ie.mc)!=null),t(b<=K.i),K.C>=b)b=1;else if(ie.ic||ws(),ie.ic){ie=K.V,he=K.Ba,Te=K.c;var Qe=K.i,Pe=(De=1,ce=K.$/Te,me=K.$%Te,_e=K.m,Ie=K.s,K.$),Je=Te*Qe,nt=Te*b,ft=Ie.wc,ot=Pe<nt?Fn(Ie,me,ce):null;t(Pe<=Je),t(b<=Qe),t(Ca(Ie));t:for(;;){for(;!_e.h&&Pe<nt;){if(me&ft||(ot=Fn(Ie,me,ce)),t(ot!=null),oe(_e),256>(Qe=Ga(ot.G[0],ot.H[0],_e)))ie[he+Pe]=Qe,++Pe,++me>=Te&&(me=0,++ce<=b&&!(ce%16)&&ar(K,ce));else{if(!(280>Qe)){De=0;break t}Qe=Or(Qe-256,_e);var _t,Nt=Ga(ot.G[4],ot.H[4],_e);if(oe(_e),!(Pe>=(Nt=Mr(Te,Nt=Or(Nt,_e)))&&Je-Pe>=Qe)){De=0;break t}for(_t=0;_t<Qe;++_t)ie[he+Pe+_t]=ie[he+Pe+_t-Nt];for(Pe+=Qe,me+=Qe;me>=Te;)me-=Te,++ce<=b&&!(ce%16)&&ar(K,ce);Pe<nt&&me&ft&&(ot=Fn(Ie,me,ce))}t(_e.h==B(_e))}ar(K,ce>b?b:ce);break t}!De||_e.h&&Pe<Je?(De=0,K.a=_e.h?5:3):K.$=Pe,b=De}else b=Dr(K,K.V,K.Ba,K.c,K.i,b,zi);if(!b){M=0;break e}}S+M>=W&&(g.Cc=1),M=1}if(!M)return null;if(g.Cc&&((M=g.ga)!=null&&(M.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+S*$}function En(g,b,S,M,$,W){for(;0<$--;){var K,ie=g,ce=b+(S?1:0),me=g,_e=b+(S?0:3);for(K=0;K<M;++K){var Ie=me[_e+4*K];Ie!=255&&(Ie*=32897,ie[ce+4*K+0]=ie[ce+4*K+0]*Ie>>23,ie[ce+4*K+1]=ie[ce+4*K+1]*Ie>>23,ie[ce+4*K+2]=ie[ce+4*K+2]*Ie>>23)}b+=W}}function yn(g,b,S,M,$){for(;0<M--;){var W;for(W=0;W<S;++W){var K=g[b+2*W+0],ie=15&(me=g[b+2*W+1]),ce=4369*ie,me=(240&me|me>>4)*ce>>16;g[b+2*W+0]=(240&K|K>>4)*ce>>16&240|(15&K|K<<4)*ce>>16>>4&15,g[b+2*W+1]=240&me|ie}b+=$}}function $n(g,b,S,M,$,W,K,ie){var ce,me,_e=255;for(me=0;me<$;++me){for(ce=0;ce<M;++ce){var Ie=g[b+ce];W[K+4*ce]=Ie,_e&=Ie}b+=S,K+=ie}return _e!=255}function ui(g,b,S,M,$){var W;for(W=0;W<$;++W)S[M+W]=g[b+W]>>8}function ws(){Ro=En,Kr=yn,yc=$n,qr=ui}function fi(g,b,S){R[g]=function(M,$,W,K,ie,ce,me,_e,Ie,he,Te,De,Qe,Pe,Je,nt,ft){var ot,_t=ft-1>>1,Nt=ie[ce+0]|me[_e+0]<<16,Vt=Ie[he+0]|Te[De+0]<<16;t(M!=null);var St=3*Nt+Vt+131074>>2;for(b(M[$+0],255&St,St>>16,Qe,Pe),W!=null&&(St=3*Vt+Nt+131074>>2,b(W[K+0],255&St,St>>16,Je,nt)),ot=1;ot<=_t;++ot){var ia=ie[ce+ot]|me[_e+ot]<<16,qa=Ie[he+ot]|Te[De+ot]<<16,Xt=Nt+ia+Vt+qa+524296,jt=Xt+2*(ia+Vt)>>3;St=jt+Nt>>1,Nt=(Xt=Xt+2*(Nt+qa)>>3)+ia>>1,b(M[$+2*ot-1],255&St,St>>16,Qe,Pe+(2*ot-1)*S),b(M[$+2*ot-0],255&Nt,Nt>>16,Qe,Pe+(2*ot-0)*S),W!=null&&(St=Xt+Vt>>1,Nt=jt+qa>>1,b(W[K+2*ot-1],255&St,St>>16,Je,nt+(2*ot-1)*S),b(W[K+2*ot+0],255&Nt,Nt>>16,Je,nt+(2*ot+0)*S)),Nt=ia,Vt=qa}1&ft||(St=3*Nt+Vt+131074>>2,b(M[$+ft-1],255&St,St>>16,Qe,Pe+(ft-1)*S),W!=null&&(St=3*Vt+Nt+131074>>2,b(W[K+ft-1],255&St,St>>16,Je,nt+(ft-1)*S)))}}function gc(){Yn[od]=Mo,Yn[sr]=Sl,Yn[ld]=bu,Yn[Jr]=hd,Yn[jc]=Xi,Yn[wl]=Vs,Yn[Vi]=Ki,Yn[Sc]=Sl,Yn[cd]=hd,Yn[Nl]=Xi,Yn[dd]=Vs}function ml(g){return g&-16384?0>g?0:255:g>>md}function Us(g,b){return ml((19077*g>>8)+(26149*b>>8)-14234)}function Ns(g,b,S){return ml((19077*g>>8)-(6419*b>>8)-(13320*S>>8)+8708)}function Eo(g,b){return ml((19077*g>>8)+(33050*b>>8)-17685)}function hi(g,b,S,M,$){M[$+0]=Us(g,S),M[$+1]=Ns(g,b,S),M[$+2]=Eo(g,b)}function Un(g,b,S,M,$){M[$+0]=Eo(g,b),M[$+1]=Ns(g,b,S),M[$+2]=Us(g,S)}function Hi(g,b,S,M,$){var W=Ns(g,b,S);b=W<<3&224|Eo(g,b)>>3,M[$+0]=248&Us(g,S)|W>>5,M[$+1]=b}function $i(g,b,S,M,$){var W=240&Eo(g,b)|15;M[$+0]=240&Us(g,S)|Ns(g,b,S)>>4,M[$+1]=W}function gl(g,b,S,M,$){M[$+0]=255,hi(g,b,S,M,$+1)}function Bs(g,b,S,M,$){Un(g,b,S,M,$),M[$+3]=255}function gr(g,b,S,M,$){hi(g,b,S,M,$),M[$+3]=255}function mi(g,b,S){R[g]=function(M,$,W,K,ie,ce,me,_e,Ie){for(var he=_e+(-2&Ie)*S;_e!=he;)b(M[$+0],W[K+0],ie[ce+0],me,_e),b(M[$+1],W[K+0],ie[ce+0],me,_e+S),$+=2,++K,++ce,_e+=2*S;1&Ie&&b(M[$+0],W[K+0],ie[ce+0],me,_e)}}function pl(g,b,S){return S==0?g==0?b==0?6:5:b==0?4:0:S}function pc(g,b,S,M,$){switch(g>>>30){case 3:vi(b,S,M,$,0);break;case 2:nr(b,S,M,$);break;case 1:va(b,S,M,$)}}function zr(g,b){var S,M,$=b.M,W=b.Nb,K=g.oc,ie=g.pc+40,ce=g.oc,me=g.pc+584,_e=g.oc,Ie=g.pc+600;for(S=0;16>S;++S)K[ie+32*S-1]=129;for(S=0;8>S;++S)ce[me+32*S-1]=129,_e[Ie+32*S-1]=129;for(0<$?K[ie-1-32]=ce[me-1-32]=_e[Ie-1-32]=129:(o(K,ie-32-1,127,21),o(ce,me-32-1,127,9),o(_e,Ie-32-1,127,9)),M=0;M<g.za;++M){var he=b.ya[b.aa+M];if(0<M){for(S=-1;16>S;++S)i(K,ie+32*S-4,K,ie+32*S+12,4);for(S=-1;8>S;++S)i(ce,me+32*S-4,ce,me+32*S+4,4),i(_e,Ie+32*S-4,_e,Ie+32*S+4,4)}var Te=g.Gd,De=g.Hd+M,Qe=he.ad,Pe=he.Hc;if(0<$&&(i(K,ie-32,Te[De].y,0,16),i(ce,me-32,Te[De].f,0,8),i(_e,Ie-32,Te[De].ea,0,8)),he.Za){var Je=K,nt=ie-32+16;for(0<$&&(M>=g.za-1?o(Je,nt,Te[De].y[15],4):i(Je,nt,Te[De+1].y,0,4)),S=0;4>S;S++)Je[nt+128+S]=Je[nt+256+S]=Je[nt+384+S]=Je[nt+0+S];for(S=0;16>S;++S,Pe<<=2)Je=K,nt=ie+hn[S],en[he.Ob[S]](Je,nt),pc(Pe,Qe,16*+S,Je,nt)}else if(Je=pl(M,$,he.Ob[0]),xr[Je](K,ie),Pe!=0)for(S=0;16>S;++S,Pe<<=2)pc(Pe,Qe,16*+S,K,ie+hn[S]);for(S=he.Gc,Je=pl(M,$,he.Dd),ks[Je](ce,me),ks[Je](_e,Ie),Pe=Qe,Je=ce,nt=me,255&(he=0|S)&&(170&he?Xr(Pe,256,Je,nt):ha(Pe,256,Je,nt)),he=_e,Pe=Ie,255&(S>>=8)&&(170&S?Xr(Qe,320,he,Pe):ha(Qe,320,he,Pe)),$<g.Ub-1&&(i(Te[De].y,0,K,ie+480,16),i(Te[De].f,0,ce,me+224,8),i(Te[De].ea,0,_e,Ie+224,8)),S=8*W*g.B,Te=g.sa,De=g.ta+16*M+16*W*g.R,Qe=g.qa,he=g.ra+8*M+S,Pe=g.Ha,Je=g.Ia+8*M+S,S=0;16>S;++S)i(Te,De+S*g.R,K,ie+32*S,16);for(S=0;8>S;++S)i(Qe,he+S*g.B,ce,me+32*S,8),i(Pe,Je+S*g.B,_e,Ie+32*S,8)}}function js(g,b,S,M,$,W,K,ie,ce){var me=[0],_e=[0],Ie=0,he=ce!=null?ce.kd:0,Te=ce??new ct;if(g==null||12>S)return 7;Te.data=g,Te.w=b,Te.ha=S,b=[b],S=[S],Te.gb=[Te.gb];e:{var De=b,Qe=S,Pe=Te.gb;if(t(g!=null),t(Qe!=null),t(Pe!=null),Pe[0]=0,12<=Qe[0]&&!n(g,De[0],"RIFF")){if(n(g,De[0]+8,"WEBP")){Pe=3;break e}var Je=Fe(g,De[0]+4);if(12>Je||4294967286<Je){Pe=3;break e}if(he&&Je>Qe[0]-8){Pe=7;break e}Pe[0]=Je,De[0]+=12,Qe[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Je=0<Te.gb[0],S=S[0];;){e:{var nt=g;Qe=b,Pe=S;var ft=me,ot=_e,_t=De=[0];if((St=Ie=[Ie])[0]=0,8>Pe[0])Pe=7;else{if(!n(nt,Qe[0],"VP8X")){if(Fe(nt,Qe[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var Nt=Fe(nt,Qe[0]+8),Vt=1+pe(nt,Qe[0]+12);if(2147483648<=Vt*(nt=1+pe(nt,Qe[0]+15))){Pe=3;break e}_t!=null&&(_t[0]=Nt),ft!=null&&(ft[0]=Vt),ot!=null&&(ot[0]=nt),Qe[0]+=18,Pe[0]-=18,St[0]=1}Pe=0}}if(Ie=Ie[0],De=De[0],Pe!=0)return Pe;if(Qe=!!(2&De),!Je&&Ie)return 3;if(W!=null&&(W[0]=!!(16&De)),K!=null&&(K[0]=Qe),ie!=null&&(ie[0]=0),K=me[0],De=_e[0],Ie&&Qe&&ce==null){Pe=0;break}if(4>S){Pe=7;break}if(Je&&Ie||!Je&&!Ie&&!n(g,b[0],"ALPH")){S=[S],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{Nt=g,Pe=b,Je=S;var St=Te.gb;ft=Te.na,ot=Te.P,_t=Te.Sa,Vt=22,t(Nt!=null),t(Je!=null),nt=Pe[0];var ia=Je[0];for(t(ft!=null),t(_t!=null),ft[0]=null,ot[0]=null,_t[0]=0;;){if(Pe[0]=nt,Je[0]=ia,8>ia){Pe=7;break e}var qa=Fe(Nt,nt+4);if(4294967286<qa){Pe=3;break e}var Xt=8+qa+1&-2;if(Vt+=Xt,0<St&&Vt>St){Pe=3;break e}if(!n(Nt,nt,"VP8 ")||!n(Nt,nt,"VP8L")){Pe=0;break e}if(ia[0]<Xt){Pe=7;break e}n(Nt,nt,"ALPH")||(ft[0]=Nt,ot[0]=nt+8,_t[0]=qa),nt+=Xt,ia-=Xt}}if(S=S[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],Pe!=0)break}S=[S],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(St=g,Pe=b,Je=S,ft=Te.gb[0],ot=Te.Ja,_t=Te.xa,Nt=Pe[0],nt=!n(St,Nt,"VP8 "),Vt=!n(St,Nt,"VP8L"),t(St!=null),t(Je!=null),t(ot!=null),t(_t!=null),8>Je[0])Pe=7;else{if(nt||Vt){if(St=Fe(St,Nt+4),12<=ft&&St>ft-12){Pe=3;break e}if(he&&St>Je[0]-8){Pe=7;break e}ot[0]=St,Pe[0]+=8,Je[0]-=8,_t[0]=Vt}else _t[0]=5<=Je[0]&&St[Nt+0]==47&&!(St[Nt+4]>>5),ot[0]=Je[0];Pe=0}if(S=S[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],b=b[0],Pe!=0)break;if(4294967286<Te.Ja)return 3;if(ie==null||Qe||(ie[0]=Te.xa?2:1),K=[K],De=[De],Te.xa){if(5>S){Pe=7;break}ie=K,he=De,Qe=W,g==null||5>S?g=0:5<=S&&g[b+0]==47&&!(g[b+4]>>5)?(Je=[0],St=[0],ft=[0],J(ot=new L,g,b,S),Os(ot,Je,St,ft)?(ie!=null&&(ie[0]=Je[0]),he!=null&&(he[0]=St[0]),Qe!=null&&(Qe[0]=ft[0]),g=1):g=0):g=0}else{if(10>S){Pe=7;break}ie=De,g==null||10>S||!sc(g,b+3,S-3)?g=0:(he=g[b+0]|g[b+1]<<8|g[b+2]<<16,Qe=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=Te.Ja||!Qe||!g?g=0:(K&&(K[0]=Qe),ie&&(ie[0]=g),g=1))}if(!g||(K=K[0],De=De[0],Ie&&(me[0]!=K||_e[0]!=De)))return 3;ce!=null&&(ce[0]=Te,ce.offset=b-ce.w,t(4294967286>b-ce.w),t(ce.offset==ce.ha-S));break}return Pe==0||Pe==7&&Ie&&ce==null?(W!=null&&(W[0]|=Te.na!=null&&0<Te.na.length),M!=null&&(M[0]=K),$!=null&&($[0]=De),0):Pe}function gi(g,b,S){var M=b.width,$=b.height,W=0,K=0,ie=M,ce=$;if(b.Da=g!=null&&0<g.Da,b.Da&&(ie=g.cd,ce=g.bd,W=g.v,K=g.j,11>S||(W&=-2,K&=-2),0>W||0>K||0>=ie||0>=ce||W+ie>M||K+ce>$))return 0;if(b.v=W,b.j=K,b.va=W+ie,b.o=K+ce,b.U=ie,b.T=ce,b.da=g!=null&&0<g.da,b.da){if(!Ue(ie,ce,S=[g.ib],W=[g.hb]))return 0;b.ib=S[0],b.hb=W[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*M/4&&b.hb<3*$/4,b.Kb=0),1}function xc(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function Ss(g,b,S,M){if(M==null||0>=g||0>=b)return 2;if(S!=null){if(S.Da){var $=S.cd,W=S.bd,K=-2&S.v,ie=-2&S.j;if(0>K||0>ie||0>=$||0>=W||K+$>g||ie+W>b)return 2;g=$,b=W}if(S.da){if(!Ue(g,b,$=[S.ib],W=[S.hb]))return 2;g=$[0],b=W[0]}}M.width=g,M.height=b;e:{var ce=M.width,me=M.height;if(g=M.S,0>=ce||0>=me||!(g>=od&&13>g))g=2;else{if(0>=M.Rd&&M.sd==null){K=W=$=b=0;var _e=(ie=ce*pd[g])*me;if(11>g||(W=(me+1)/2*(b=(ce+1)/2),g==12&&(K=($=ce)*me)),(me=c(_e+2*W+K))==null){g=1;break e}M.sd=me,11>g?((ce=M.f.RGBA).eb=me,ce.fb=0,ce.A=ie,ce.size=_e):((ce=M.f.kb).y=me,ce.O=0,ce.fa=ie,ce.Fd=_e,ce.f=me,ce.N=0+_e,ce.Ab=b,ce.Cd=W,ce.ea=me,ce.W=0+_e+W,ce.Db=b,ce.Ed=W,g==12&&(ce.F=me,ce.J=0+_e+2*W),ce.Tc=K,ce.lb=$)}if(b=1,$=M.S,W=M.width,K=M.height,$>=od&&13>$)if(11>$)g=M.f.RGBA,b&=(ie=Math.abs(g.A))*(K-1)+W<=g.size,b&=ie>=W*pd[$],b&=g.eb!=null;else{g=M.f.kb,ie=(W+1)/2,_e=(K+1)/2,ce=Math.abs(g.fa),me=Math.abs(g.Ab);var Ie=Math.abs(g.Db),he=Math.abs(g.lb),Te=he*(K-1)+W;b&=ce*(K-1)+W<=g.Fd,b&=me*(_e-1)+ie<=g.Cd,b=(b&=Ie*(_e-1)+ie<=g.Ed)&ce>=W&me>=ie&Ie>=ie,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,$==12&&(b&=he>=W,b&=Te<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||S!=null&&S.fd&&(g=xc(M)),g}var Gi=64,jr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pr=24,zs=32,Is=8,pi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(g){return g},R.Predictor2=function(g,b,S){return b[S+0]},R.Predictor3=function(g,b,S){return b[S+1]},R.Predictor4=function(g,b,S){return b[S-1]},R.Predictor5=function(g,b,S){return gt(gt(g,b[S+1]),b[S+0])},R.Predictor6=function(g,b,S){return gt(g,b[S-1])},R.Predictor7=function(g,b,S){return gt(g,b[S+0])},R.Predictor8=function(g,b,S){return gt(b[S-1],b[S+0])},R.Predictor9=function(g,b,S){return gt(b[S+0],b[S+1])},R.Predictor10=function(g,b,S){return gt(gt(g,b[S-1]),gt(b[S+0],b[S+1]))},R.Predictor11=function(g,b,S){var M=b[S+0];return 0>=Xe(M>>24&255,g>>24&255,(b=b[S-1])>>24&255)+Xe(M>>16&255,g>>16&255,b>>16&255)+Xe(M>>8&255,g>>8&255,b>>8&255)+Xe(255&M,255&g,255&b)?M:g},R.Predictor12=function(g,b,S){var M=b[S+0];return(Ee((g>>24&255)+(M>>24&255)-((b=b[S-1])>>24&255))<<24|Ee((g>>16&255)+(M>>16&255)-(b>>16&255))<<16|Ee((g>>8&255)+(M>>8&255)-(b>>8&255))<<8|Ee((255&g)+(255&M)-(255&b)))>>>0},R.Predictor13=function(g,b,S){var M=b[S-1];return(Le((g=gt(g,b[S+0]))>>24&255,M>>24&255)<<24|Le(g>>16&255,M>>16&255)<<16|Le(g>>8&255,M>>8&255)<<8|Le(255&g,255&M))>>>0};var xl=R.PredictorAdd0;R.PredictorAdd1=Ze,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var bl=R.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var un,rd=R.ColorIndexInverseTransform,qs=R.MapARGB,Hs=R.VP8LColorIndexInverseTransformAlpha,Gn=R.MapAlpha,xi=R.VP8LPredictorsAdd=[];xi.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var yl,vl,bi,yi,$s,Co,Ir,vi,nr,Xr,va,ha,Fa,fn,Gs,As,Lo,bc,hu,Lf,Rf,Tf,mu,gu,Ro,Kr,yc,qr,To=c(511),sd=c(2041),vc=c(225),wc=c(767),id=0,wi=sd,Nc=vc,rr=wc,Vn=To,od=0,sr=1,ld=2,Jr=3,jc=4,wl=5,Vi=6,Sc=7,cd=8,Nl=9,dd=10,Zr=[2,3,7],jl=[3,3,11],Oo=[280,256,256,256,40],ud=[0,1,1,1,0],Ac=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],es=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Wi=8,ts=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],as=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hr=null,Of=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Mf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wn=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ia=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],oa=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xr=[],en=[],ks=[],Yi=1,xu=2,Ni=[],Yn=[];fi("UpsampleRgbLinePair",hi,3),fi("UpsampleBgrLinePair",Un,3),fi("UpsampleRgbaLinePair",gr,4),fi("UpsampleBgraLinePair",Bs,4),fi("UpsampleArgbLinePair",gl,4),fi("UpsampleRgba4444LinePair",$i,2),fi("UpsampleRgb565LinePair",Hi,2);var Mo=R.UpsampleRgbLinePair,bu=R.UpsampleBgrLinePair,Sl=R.UpsampleRgbaLinePair,hd=R.UpsampleBgraLinePair,Xi=R.UpsampleArgbLinePair,Vs=R.UpsampleRgba4444LinePair,Ki=R.UpsampleRgb565LinePair,ns=16,Al=1<<ns-1,Do=-227,Ji=482,md=6,Zi=0,Xn=c(256),gd=c(256),Df=c(256),S0=c(256),A0=c(Ji-Do),k0=c(Ji-Do);mi("YuvToRgbRow",hi,3),mi("YuvToBgrRow",Un,3),mi("YuvToRgbaRow",gr,4),mi("YuvToBgraRow",Bs,4),mi("YuvToArgbRow",gl,4),mi("YuvToRgba4444Row",$i,2),mi("YuvToRgb565Row",Hi,2);var hn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],kl=[0,2,8],kc=[8,7,6,4,4,2,2,2,1,1,1,1],_c=1;this.WebPDecodeRGBA=function(g,b,S,M,$){var W=sr,K=new at,ie=new be;K.ba=ie,ie.S=W,ie.width=[ie.width],ie.height=[ie.height];var ce=ie.width,me=ie.height,_e=new tt;if(_e==null||g==null)var Ie=2;else t(_e!=null),Ie=js(g,b,S,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ie!=0?ce=0:(ce!=null&&(ce[0]=_e.width[0]),me!=null&&(me[0]=_e.height[0]),ce=1),ce){ie.width=ie.width[0],ie.height=ie.height[0],M!=null&&(M[0]=ie.width),$!=null&&($[0]=ie.height);e:{if(M=new ni,($=new ct).data=g,$.w=b,$.ha=S,$.kd=1,b=[0],t($!=null),((g=js($.data,$.w,$.ha,null,null,null,b,null,$))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(t(K!=null),M.data=$.data,M.w=$.w+$.offset,M.ha=$.ha-$.offset,M.put=Mt,M.ac=ln,M.bc=ti,M.ma=K,$.xa){if((g=vo())==null){K=1;break e}if((function(he,Te){var De=[0],Qe=[0],Pe=[0];t:for(;;){if(he==null)return 0;if(Te==null)return he.a=2,0;if(he.l=Te,he.a=0,J(he.m,Te.data,Te.w,Te.ha),!Os(he.m,De,Qe,Pe)){he.a=3;break t}if(he.xb=xu,Te.width=De[0],Te.height=Qe[0],!hs(De[0],Qe[0],1,he,null))break t;return 1}return t(he.a!=0),0})(g,M)){if(M=(b=Ss(M.width,M.height,K.Oa,K.ba))==0){t:{M=g;a:for(;;){if(M==null){M=0;break t}if(t(M.s.yc!=null),t(M.s.Ya!=null),t(0<M.s.Wb),t((S=M.l)!=null),t(($=S.ma)!=null),M.xb!=0){if(M.ca=$.ba,M.tb=$.tb,t(M.ca!=null),!gi($.Oa,S,Jr)){M.a=2;break a}if(!ms(M,S.width)||S.da)break a;if((S.da||Dt(M.ca.S))&&ws(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&ws()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!X(M.s.vb,M.s.Wa.Xa)){M.a=1;break a}M.xb=0}if(!Dr(M,M.V,M.Ba,M.c,M.i,S.o,fr))break a;$.Dc=M.Ma,M=1;break t}t(M.a!=0),M=0}M=!M}M&&(b=g.a)}else b=g.a}else{if((g=new bs)==null){K=1;break e}if(g.Fa=$.na,g.P=$.P,g.qc=$.Sa,Ds(g,M)){if((b=Ss(M.width,M.height,K.Oa,K.ba))==0){if(g.Aa=0,S=K.Oa,t(($=g)!=null),S!=null){if(0<(ce=0>(ce=S.Md)?0:100<ce?255:255*ce/100)){for(me=_e=0;4>me;++me)12>(Ie=$.pb[me]).lc&&(Ie.ia=ce*kc[0>Ie.lc?0:Ie.lc]>>3),_e|=Ie.ia;_e&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=S.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(he,Te){if(he==null)return 0;if(Te==null)return ya(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!Ds(he,Te))return 0;if(t(he.cb),Te.ac==null||Te.ac(Te)){Te.ob&&(he.L=0);var De=kl[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=Te.v-De>>4,he.zb=Te.j-De>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=Te.o+15+De>>4,he.Hb=Te.va+15+De>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var Qe=he.ed;for(De=0;4>De;++De){var Pe;if(he.Qa.Cb){var Je=he.Qa.Lb[De];he.Qa.Fb||(Je+=Qe.Tb)}else Je=Qe.Tb;for(Pe=0;1>=Pe;++Pe){var nt=he.gd[De][Pe],ft=Je;if(Qe.Pc&&(ft+=Qe.vd[0],Pe&&(ft+=Qe.od[0])),0<(ft=0>ft?0:63<ft?63:ft)){var ot=ft;0<Qe.wb&&(ot=4<Qe.wb?ot>>2:ot>>1)>9-Qe.wb&&(ot=9-Qe.wb),1>ot&&(ot=1),nt.dd=ot,nt.tc=2*ft+ot,nt.ld=40<=ft?2:15<=ft?1:0}else nt.tc=0;nt.La=Pe}}}De=0}else ya(he,6,"Frame setup failed"),De=he.a;if(De=De==0){if(De){he.$c=0,0<he.Aa||(he.Ic=_c);t:{De=he.Ic,Qe=4*(ot=he.za);var _t=32*ot,Nt=ot+1,Vt=0<he.L?ot*(0<he.Aa?2:1):0,St=(he.Aa==2?2:1)*ot;if((nt=Qe+832+(Pe=3*(16*De+kl[he.L])/2*_t)+(Je=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=nt)De=0;else{if(nt>he.Vb){if(he.Vb=0,he.Ec=c(nt),he.Fc=0,he.Ec==null){De=ya(he,1,"no memory during frame initialization.");break t}he.Vb=nt}nt=he.Ec,ft=he.Fc,he.Ac=nt,he.Bc=ft,ft+=Qe,he.Gd=f(_t,rc),he.Hd=0,he.rb=f(Nt+1,xs),he.sb=1,he.wa=Vt?f(Vt,Fr):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=ot),t(!0),he.oc=nt,he.pc=ft,ft+=832,he.ya=f(St,ac),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=ot),he.R=16*ot,he.B=8*ot,ot=(_t=kl[he.L])*he.R,_t=_t/2*he.B,he.sa=nt,he.ta=ft+ot,he.qa=he.sa,he.ra=he.ta+16*De*he.R+_t,he.Ha=he.qa,he.Ia=he.ra+8*De*he.B+_t,he.$c=0,ft+=Pe,he.mb=Je?nt:null,he.nb=Je?ft:null,t(ft+Je<=he.Fc+he.Vb),ic(he),o(he.Ac,he.Bc,0,Qe),De=1}}if(De){if(Te.ka=0,Te.y=he.sa,Te.O=he.ta,Te.f=he.qa,Te.N=he.ra,Te.ea=he.Ha,Te.Vd=he.Ia,Te.fa=he.R,Te.Rc=he.B,Te.F=null,Te.J=0,!id){for(De=-255;255>=De;++De)To[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)sd[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)vc[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)wc[255+De]=0>De?0:255<De?255:De;id=1}Ir=ys,vi=oc,Xr=mr,va=lc,ha=cc,nr=Xc,Fa=ad,fn=di,Gs=H,As=ge,Lo=nd,bc=N,hu=Ae,Lf=Oe,Rf=ii,Tf=oi,mu=_o,gu=mc,en[0]=ed,en[1]=Kc,en[2]=Qc,en[3]=fc,en[4]=Ur,en[5]=hc,en[6]=Hn,en[7]=So,en[8]=Ao,en[9]=Br,xr[0]=vs,xr[1]=dc,xr[2]=uc,xr[3]=Zc,xr[4]=ri,xr[5]=jo,xr[6]=qi,ks[0]=ul,ks[1]=Jc,ks[2]=Fs,ks[3]=td,ks[4]=Pn,ks[5]=fl,ks[6]=Ps,De=1}else De=0}De&&(De=(function(ia,qa){for(ia.M=0;ia.M<ia.Va;++ia.M){var Xt,jt=ia.Jc[ia.M&ia.Xb],pt=ia.m,Ya=ia;for(Xt=0;Xt<Ya.za;++Xt){var It=pt,Zt=Ya,ka=Zt.Ac,Cn=Zt.Bc+4*Xt,Kn=Zt.zc,Pa=Zt.ya[Zt.aa+Xt];if(Zt.Qa.Bb?Pa.$b=ye(It,Zt.Pa.jb[0])?2+ye(It,Zt.Pa.jb[2]):ye(It,Zt.Pa.jb[1]):Pa.$b=0,Zt.kc&&(Pa.Ad=ye(It,Zt.Bd)),Pa.Za=!ye(It,145)+0,Pa.Za){var vn=Pa.Ob,ir=0;for(Zt=0;4>Zt;++Zt){var wn,aa=Kn[0+Zt];for(wn=0;4>wn;++wn){aa=Wn[ka[Cn+wn]][aa];for(var ga=fd[ye(It,aa[0])];0<ga;)ga=fd[2*ga+ye(It,aa[ga])];aa=-ga,ka[Cn+wn]=aa}i(vn,ir,ka,Cn,4),ir+=4,Kn[0+Zt]=aa}}else aa=ye(It,156)?ye(It,128)?1:3:ye(It,163)?2:0,Pa.Ob[0]=aa,o(ka,Cn,aa,4),o(Kn,0,aa,4);Pa.Dd=ye(It,142)?ye(It,114)?ye(It,183)?1:3:2:0}if(Ya.m.Ka)return ya(ia,7,"Premature end-of-partition0 encountered.");for(;ia.ja<ia.za;++ia.ja){if(Ya=jt,It=(pt=ia).rb[pt.sb-1],ka=pt.rb[pt.sb+pt.ja],Xt=pt.ya[pt.aa+pt.ja],Cn=pt.kc?Xt.Ad:0)It.la=ka.la=0,Xt.Za||(It.Na=ka.Na=0),Xt.Hc=0,Xt.Gc=0,Xt.ia=0;else{var Xa,wa;if(It=ka,ka=Ya,Cn=pt.Pa.Xc,Kn=pt.ya[pt.aa+pt.ja],Pa=pt.pb[Kn.$b],Zt=Kn.ad,vn=0,ir=pt.rb[pt.sb-1],aa=wn=0,o(Zt,vn,0,384),Kn.Za)var Ln=0,Ka=Cn[3];else{ga=c(16);var pa=It.Na+ir.Na;if(pa=Hr(ka,Cn[1],pa,Pa.Eb,0,ga,0),It.Na=ir.Na=(0<pa)+0,1<pa)Ir(ga,0,Zt,vn);else{var mn=ga[0]+3>>3;for(ga=0;256>ga;ga+=16)Zt[vn+ga]=mn}Ln=1,Ka=Cn[0]}var _a=15&It.la,Nn=15&ir.la;for(ga=0;4>ga;++ga){var jn=1&Nn;for(mn=wa=0;4>mn;++mn)_a=_a>>1|(jn=(pa=Hr(ka,Ka,pa=jn+(1&_a),Pa.Sc,Ln,Zt,vn))>Ln)<<7,wa=wa<<2|(3<pa?3:1<pa?2:Zt[vn+0]!=0),vn+=16;_a>>=4,Nn=Nn>>1|jn<<7,wn=(wn<<8|wa)>>>0}for(Ka=_a,Ln=Nn>>4,Xa=0;4>Xa;Xa+=2){for(wa=0,_a=It.la>>4+Xa,Nn=ir.la>>4+Xa,ga=0;2>ga;++ga){for(jn=1&Nn,mn=0;2>mn;++mn)pa=jn+(1&_a),_a=_a>>1|(jn=0<(pa=Hr(ka,Cn[2],pa,Pa.Qc,0,Zt,vn)))<<3,wa=wa<<2|(3<pa?3:1<pa?2:Zt[vn+0]!=0),vn+=16;_a>>=2,Nn=Nn>>1|jn<<5}aa|=wa<<4*Xa,Ka|=_a<<4<<Xa,Ln|=(240&Nn)<<Xa}It.la=Ka,ir.la=Ln,Kn.Hc=wn,Kn.Gc=aa,Kn.ia=43690&aa?0:Pa.ia,Cn=!(wn|aa)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[Xt.$b][Xt.Za],pt.wa[pt.Y+pt.ja].La|=!Cn),Ya.Ka)return ya(ia,7,"Premature end-of-file encountered.")}if(ic(ia),pt=qa,Ya=1,Xt=(jt=ia).D,It=0<jt.L&&jt.M>=jt.zb&&jt.M<=jt.Va,jt.Aa==0)t:{if(Xt.M=jt.M,Xt.uc=It,zr(jt,Xt),Ya=1,Xt=(wa=jt.D).Nb,It=(aa=kl[jt.L])*jt.R,ka=aa/2*jt.B,ga=16*Xt*jt.R,mn=8*Xt*jt.B,Cn=jt.sa,Kn=jt.ta-It+ga,Pa=jt.qa,Zt=jt.ra-ka+mn,vn=jt.Ha,ir=jt.Ia-ka+mn,Nn=(_a=wa.M)==0,wn=_a>=jt.Va-1,jt.Aa==2&&zr(jt,wa),wa.uc)for(jn=(pa=jt).D.M,t(pa.D.uc),wa=pa.yb;wa<pa.Hb;++wa){Ln=wa,Ka=jn;var La=(ma=(Sn=pa).D).Nb;Xa=Sn.R;var ma=ma.wa[ma.Y+Ln],or=Sn.sa,tn=Sn.ta+16*La*Xa+16*Ln,Ft=ma.dd,Pt=ma.tc;if(Pt!=0)if(t(3<=Pt),Sn.L==1)0<Ln&&Tf(or,tn,Xa,Pt+4),ma.La&&gu(or,tn,Xa,Pt),0<Ka&&Rf(or,tn,Xa,Pt+4),ma.La&&mu(or,tn,Xa,Pt);else{var xa=Sn.B,Sr=Sn.qa,rs=Sn.ra+8*La*xa+8*Ln,br=Sn.Ha,Sn=Sn.Ia+8*La*xa+8*Ln;La=ma.ld,0<Ln&&(fn(or,tn,Xa,Pt+4,Ft,La),As(Sr,rs,br,Sn,xa,Pt+4,Ft,La)),ma.La&&(bc(or,tn,Xa,Pt,Ft,La),Lf(Sr,rs,br,Sn,xa,Pt,Ft,La)),0<Ka&&(Fa(or,tn,Xa,Pt+4,Ft,La),Gs(Sr,rs,br,Sn,xa,Pt+4,Ft,La)),ma.La&&(Lo(or,tn,Xa,Pt,Ft,La),hu(Sr,rs,br,Sn,xa,Pt,Ft,La))}}if(jt.ia&&alert("todo:DitherRow"),pt.put!=null){if(wa=16*_a,_a=16*(_a+1),Nn?(pt.y=jt.sa,pt.O=jt.ta+ga,pt.f=jt.qa,pt.N=jt.ra+mn,pt.ea=jt.Ha,pt.W=jt.Ia+mn):(wa-=aa,pt.y=Cn,pt.O=Kn,pt.f=Pa,pt.N=Zt,pt.ea=vn,pt.W=ir),wn||(_a-=aa),_a>pt.o&&(_a=pt.o),pt.F=null,pt.J=null,jt.Fa!=null&&0<jt.Fa.length&&wa<_a&&(pt.J=Da(jt,pt,wa,_a-wa),pt.F=jt.mb,pt.F==null&&pt.F.length==0)){Ya=ya(jt,3,"Could not decode alpha data.");break t}wa<pt.j&&(aa=pt.j-wa,wa=pt.j,t(!(1&aa)),pt.O+=jt.R*aa,pt.N+=jt.B*(aa>>1),pt.W+=jt.B*(aa>>1),pt.F!=null&&(pt.J+=pt.width*aa)),wa<_a&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=wa-pt.j,pt.U=pt.va-pt.v,pt.T=_a-wa,Ya=pt.put(pt))}Xt+1!=jt.Ic||wn||(i(jt.sa,jt.ta-It,Cn,Kn+16*jt.R,It),i(jt.qa,jt.ra-ka,Pa,Zt+8*jt.B,ka),i(jt.Ha,jt.Ia-ka,vn,ir+8*jt.B,ka))}if(!Ya)return ya(ia,6,"Output aborted.")}return 1})(he,Te)),Te.bc!=null&&Te.bc(Te),De&=1}return De?(he.cb=0,De):0})(g,M)||(b=g.a)}}else b=g.a}b==0&&K.Oa!=null&&K.Oa.fd&&(b=xc(K.ba))}K=b}W=K!=0?null:11>W?ie.f.RGBA.eb:ie.f.kb.y}else W=null;return W};var pd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(R,V){for(var F="",z=0;z<4;z++)F+=String.fromCharCode(R[V++]);return F}function p(R,V){return R[V+0]|R[V+1]<<8}function w(R,V){return(R[V+0]|R[V+1]<<8|R[V+2]<<16)>>>0}function j(R,V){return(R[V+0]|R[V+1]<<8|R[V+2]<<16|R[V+3]<<24)>>>0}new h;var y=[0],A=[0],T=[],E=new h,C=e,I=(function(R,V){var F={},z=0,ee=!1,le=0,ve=0;if(F.frames=[],!(function(_,L){for(var q=0;q<4;q++)if(_[L+q]!="RIFF".charCodeAt(q))return!0;return!1})(R,V)){for(j(R,V+=4),V+=8;V<R.length;){var ae=m(R,V),se=j(R,V+=4);V+=4;var Z=se+(1&se);switch(ae){case"VP8 ":case"VP8L":F.frames[z]===void 0&&(F.frames[z]={}),(U=F.frames[z]).src_off=ee?ve:V-8,U.src_size=le+se+8,z++,ee&&(ee=!1,le=0,ve=0);break;case"VP8X":(U=F.header={}).feature_flags=R[V];var J=V+4;U.canvas_width=1+w(R,J),J+=3,U.canvas_height=1+w(R,J),J+=3;break;case"ALPH":ee=!0,le=Z+8,ve=V-8;break;case"ANIM":(U=F.header).bgcolor=j(R,V),J=V+4,U.loop_count=p(R,J),J+=2;break;case"ANMF":var fe,U;(U=F.frames[z]={}).offset_x=2*w(R,V),V+=3,U.offset_y=2*w(R,V),V+=3,U.width=1+w(R,V),V+=3,U.height=1+w(R,V),V+=3,U.duration=w(R,V),V+=3,fe=R[V++],U.dispose=1&fe,U.blend=fe>>1&1}ae!="ANMF"&&(V+=Z)}return F}})(C,0);I.response=C,I.rgbaoutput=!0,I.dataurl=!1;var G=I.header?I.header:null,D=I.frames?I.frames:null;if(G){G.loop_counter=G.loop_count,y=[G.canvas_height],A=[G.canvas_width];for(var te=0;te<D.length&&D[te].blend!=0;te++);}var de=D[0],Y=E.WebPDecodeRGBA(C,de.src_off,de.src_size,A,y);de.rgba=Y,de.imgwidth=A[0],de.imgheight=y[0];for(var O=0;O<A[0]*y[0]*4;O++)T[O]=Y[O];return this.width=A,this.height=y,this.data=T,this}(function(e){var t,n,i,o,c,f,u,h,m,p=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new h,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new f,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new f,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new w(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,c=this.internal.getVerticalCoordinate,f=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,m=new p}]);var w=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=_;Object.defineProperty(this,"pdf",{get:function(){return L}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(X){q=!!X}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(X){B=!!X}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(X){isNaN(X)||(re=X)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(X){isNaN(X)||(oe=X)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(X){var We;typeof X=="number"?We=[X,X,X,X]:((We=new Array(4))[0]=X[0],We[1]=X.length>=2?X[1]:We[0],We[2]=X.length>=3?X[2]:We[0],We[3]=X.length>=4?X[3]:We[1]),m.margin=We}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(X){Q=X}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(X){ue=X}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(X){ye=X}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(X){X instanceof p&&(m=X)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(X){m.path=X}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(X){ke=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var We;We=j(X),this.ctx.fillStyle=We.style,this.ctx.isFillTransparent=We.a===0,this.ctx.fillOpacity=We.a,this.pdf.setFillColor(We.r,We.g,We.b,{a:We.a}),this.pdf.setTextColor(We.r,We.g,We.b,{a:We.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var We=j(X);this.ctx.strokeStyle=We.style,this.ctx.isStrokeTransparent=We.a===0,this.ctx.strokeOpacity=We.a,We.a===0?this.pdf.setDrawColor(255,255,255):(We.a,this.pdf.setDrawColor(We.r,We.g,We.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var Ne=null,pe=null,Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(X){Ne=null,pe=null,Fe=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var We;if(this.ctx.font=X,(We=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var xe=We[1];We[2];var Ue=We[3],Re=We[4];We[5];var ze=We[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(rt==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var dt=(function(ut){var je,Ve,lt=[],ht=ut.trim();if(ht==="")return pg;if(ht in gy)return[gy[ht]];for(;ht!=="";){switch(Ve=null,je=(ht=xy(ht)).charAt(0)){case'"':case"'":Ve=UE(ht.substring(1),je);break;default:Ve=BE(ht)}if(Ve===null||(lt.push(Ve[0]),(ht=xy(Ve[1]))!==""&&ht.charAt(0)!==","))return pg;ht=ht.replace(/^,/,"")}return lt})(ze);if(this.fontFaces){var gt=(function(ut,je){var Ve=ut.getFontList(),lt=JSON.stringify(Ve);if(Ne===null||pe!==lt){var ht=(function(bt){var yt=[];return Object.keys(bt).forEach(function(na){bt[na].forEach(function(Dt){var Ht=null;switch(Dt){case"bold":Ht={family:na,weight:"bold"};break;case"italic":Ht={family:na,style:"italic"};break;case"bolditalic":Ht={family:na,weight:"bold",style:"italic"};break;case"":case"normal":Ht={family:na}}Ht!==null&&(Ht.ref={name:na,style:Dt},yt.push(Ht))})}),yt})(Ve);Ne=(function(bt){for(var yt={},na=0;na<bt.length;++na){var Dt=gg(bt[na]),Ht=Dt.family,ja=Dt.stretch,be=Dt.style,tt=Dt.weight;yt[Ht]=yt[Ht]||{},yt[Ht][ja]=yt[Ht][ja]||{},yt[Ht][ja][be]=yt[Ht][ja][be]||{},yt[Ht][ja][be][tt]=Dt}return yt})(ht.concat(je)),pe=lt}return Ne})(this.pdf,this.fontFaces),Ee=dt.map(function(ut){return{family:ut,stretch:"normal",weight:Ue,style:xe}}),Le=(function(ut,je,Ve){for(var lt=(Ve=Ve||{}).defaultFontFamily||"times",ht=Object.assign({},PE,Ve.genericFontFamilies||{}),bt=null,yt=null,na=0;na<je.length;++na)if(ht[(bt=gg(je[na])).family]&&(bt.family=ht[bt.family]),ut.hasOwnProperty(bt.family)){yt=ut[bt.family];break}if(!(yt=yt||ut[lt]))throw new Error("Could not find a font-family for the rule '"+py(bt)+"' and default family '"+lt+"'.");if(yt=(function(Dt,Ht){if(Ht[Dt])return Ht[Dt];var ja=vp[Dt],be=ja<=vp.normal?-1:1,tt=my(Ht,Ew,ja,be);if(!tt)throw new Error("Could not find a matching font-stretch value for "+Dt);return tt})(bt.stretch,yt),yt=(function(Dt,Ht){if(Ht[Dt])return Ht[Dt];for(var ja=_w[Dt],be=0;be<ja.length;++be)if(Ht[ja[be]])return Ht[ja[be]];throw new Error("Could not find a matching font-style for "+Dt)})(bt.style,yt),!(yt=(function(Dt,Ht){if(Ht[Dt])return Ht[Dt];if(Dt===400&&Ht[500])return Ht[500];if(Dt===500&&Ht[400])return Ht[400];var ja=FE[Dt],be=my(Ht,Cw,ja,Dt<400?-1:1);if(!be)throw new Error("Could not find a matching font-weight for value "+Dt);return be})(bt.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+py(bt)+"'.");return yt})(gt,Ee);this.pdf.setFont(Le.ref.name,Le.ref.style)}else{var Xe="";(Ue==="bold"||parseInt(Ue,10)>=700||xe==="bold")&&(Xe="bold"),xe==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var Ze="",we={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Be=0;Be<dt.length;Be++){if(this.pdf.internal.getFont(dt[Be],Xe,{noFallback:!0,disableWarning:!0})!==void 0){Ze=dt[Be];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(dt[Be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ze=dt[Be],Xe="bold";else if(this.pdf.internal.getFont(dt[Be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ze=dt[Be],Xe="normal";break}}if(Ze===""){for(var Ge=0;Ge<dt.length;Ge++)if(we[dt[Ge]]){Ze=we[dt[Ge]];break}}Ze=Ze===""?"Times":Ze,this.pdf.setFont(Ze,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,U.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,U.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};w.prototype.setLineDash=function(_){this.lineDash=_},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){D.call(this,"fill",!1)},w.prototype.stroke=function(){D.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(_,L){if(isNaN(_)||isNaN(L))throw $a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new f(_,L));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new f(_,L)},w.prototype.closePath=function(){var _=new f(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&Ma(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){_=new f(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(_.x,_.y)},w.prototype.lineTo=function(_,L){if(isNaN(_)||isNaN(L))throw $a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new f(_,L));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new f(q.x,q.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},w.prototype.quadraticCurveTo=function(_,L,q,B){if(isNaN(q)||isNaN(B)||isNaN(_)||isNaN(L))throw $a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new f(q,B)),oe=this.ctx.transform.applyToPoint(new f(_,L));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new f(re.x,re.y)},w.prototype.bezierCurveTo=function(_,L,q,B,re,oe){if(isNaN(re)||isNaN(oe)||isNaN(_)||isNaN(L)||isNaN(q)||isNaN(B))throw $a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new f(re,oe)),ue=this.ctx.transform.applyToPoint(new f(_,L)),ye=this.ctx.transform.applyToPoint(new f(q,B));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:ye.x,y2:ye.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new f(Q.x,Q.y)},w.prototype.arc=function(_,L,q,B,re,oe){if(isNaN(_)||isNaN(L)||isNaN(q)||isNaN(B)||isNaN(re))throw $a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new f(_,L));_=Q.x,L=Q.y;var ue=this.ctx.transform.applyToPoint(new f(0,q)),ye=this.ctx.transform.applyToPoint(new f(0,0));q=Math.sqrt(Math.pow(ue.x-ye.x,2)+Math.pow(ue.y-ye.y,2))}Math.abs(re-B)>=2*Math.PI&&(B=0,re=2*Math.PI),this.path.push({type:"arc",x:_,y:L,radius:q,startAngle:B,endAngle:re,counterclockwise:oe})},w.prototype.arcTo=function(_,L,q,B,re){throw new Error("arcTo not implemented.")},w.prototype.rect=function(_,L,q,B){if(isNaN(_)||isNaN(L)||isNaN(q)||isNaN(B))throw $a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,L),this.lineTo(_+q,L),this.lineTo(_+q,L+B),this.lineTo(_,L+B),this.lineTo(_,L),this.lineTo(_+q,L),this.lineTo(_,L)},w.prototype.fillRect=function(_,L,q,B){if(isNaN(_)||isNaN(L)||isNaN(q)||isNaN(B))throw $a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,L,q,B),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},w.prototype.strokeRect=function(_,L,q,B){if(isNaN(_)||isNaN(L)||isNaN(q)||isNaN(B))throw $a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(_,L,q,B),this.stroke())},w.prototype.clearRect=function(_,L,q,B){if(isNaN(_)||isNaN(L)||isNaN(q)||isNaN(B))throw $a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,L,q,B))},w.prototype.save=function(_){_=typeof _!="boolean"||_;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},w.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(L),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var j=function(_){var L,q,B,re;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))L=0,q=0,B=0,re=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(oe!==null)L=parseInt(oe[1]),q=parseInt(oe[2]),B=parseInt(oe[3]),re=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)L=parseInt(oe[1]),q=parseInt(oe[2]),B=parseInt(oe[3]),re=parseFloat(oe[4]);else{if(re=1,typeof _=="string"&&_.charAt(0)!=="#"){var Q=new vw(_);_=Q.ok?Q.toHex():"#000000"}_.length===4?(L=_.substring(1,2),L+=L,q=_.substring(2,3),q+=q,B=_.substring(3,4),B+=B):(L=_.substring(1,3),q=_.substring(3,5),B=_.substring(5,7)),L=parseInt(L,16),q=parseInt(q,16),B=parseInt(B,16)}}return{r:L,g:q,b:B,a:re,style:_}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(_,L,q,B){if(isNaN(L)||isNaN(q)||typeof _!="string")throw $a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!y.call(this)){var re=Z(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;z.call(this,{text:_,x:L,y:q,scale:oe,angle:re,align:this.textAlign,maxWidth:B})}},w.prototype.strokeText=function(_,L,q,B){if(isNaN(L)||isNaN(q)||typeof _!="string")throw $a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){B=isNaN(B)?void 0:B;var re=Z(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;z.call(this,{text:_,x:L,y:q,scale:oe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:B})}},w.prototype.measureText=function(_){if(typeof _!="string")throw $a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,q=this.pdf.internal.scaleFactor,B=L.internal.getFontSize(),re=L.getStringUnitWidth(_)*B/L.internal.scaleFactor;return new function(oe){var Q=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Q}}),this}({width:re*=Math.round(96*q/72*1e4)/1e4})},w.prototype.scale=function(_,L){if(isNaN(_)||isNaN(L))throw $a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new h(_,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},w.prototype.rotate=function(_){if(isNaN(_))throw $a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new h(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},w.prototype.translate=function(_,L){if(isNaN(_)||isNaN(L))throw $a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new h(1,0,0,1,_,L);this.ctx.transform=this.ctx.transform.multiply(q)},w.prototype.transform=function(_,L,q,B,re,oe){if(isNaN(_)||isNaN(L)||isNaN(q)||isNaN(B)||isNaN(re)||isNaN(oe))throw $a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new h(_,L,q,B,re,oe);this.ctx.transform=this.ctx.transform.multiply(Q)},w.prototype.setTransform=function(_,L,q,B,re,oe){_=isNaN(_)?1:_,L=isNaN(L)?0:L,q=isNaN(q)?0:q,B=isNaN(B)?1:B,re=isNaN(re)?0:re,oe=isNaN(oe)?0:oe,this.ctx.transform=new h(_,L,q,B,re,oe)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(_,L,q,B,re,oe,Q,ue,ye){var ke=this.pdf.getImageProperties(_),Ne=1,pe=1,Fe=1,X=1;B!==void 0&&ue!==void 0&&(Fe=ue/B,X=ye/re,Ne=ke.width/B*ue/B,pe=ke.height/re*ye/re),oe===void 0&&(oe=L,Q=q,L=0,q=0),B!==void 0&&ue===void 0&&(ue=B,ye=re),B===void 0&&ue===void 0&&(ue=ke.width,ye=ke.height);var We=this.ctx.transform.decompose(),xe=Z(We.rotate.shx),Ue=new h,Re=(Ue=(Ue=(Ue=Ue.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new u(oe-L*Fe,Q-q*X,B*Ne,re*pe));if(this.autoPaging){for(var ze,rt=E.call(this,Re),dt=[],gt=0;gt<rt.length;gt+=1)dt.indexOf(rt[gt])===-1&&dt.push(rt[gt]);G(dt);for(var Ee=dt[0],Le=dt[dt.length-1],Xe=Ee;Xe<Le+1;Xe++){this.pdf.setPage(Xe);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=Xe===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Xe===1?0:Be+(Xe-2)*Ge;if(this.ctx.clip_path.length!==0){var je=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ze,this.posX+this.margin[3],-ut+we+this.ctx.prevPageLastElemOffset),te.call(this,"fill",!0),this.path=je}var Ve=JSON.parse(JSON.stringify(Re));Ve=I([Ve],this.posX+this.margin[3],-ut+we+this.ctx.prevPageLastElemOffset)[0];var lt=(Xe>Ee||Xe<Le)&&T.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,Ge,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,xe),lt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(_,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,xe)};var E=function(_,L,q){var B=[];L=L||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":B.push(Math.floor((_.y+re)/q)+1);break;case"arc":B.push(Math.floor((_.y+re-_.radius)/q)+1),B.push(Math.floor((_.y+re+_.radius)/q)+1);break;case"qct":var oe=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);B.push(Math.floor((oe.y+re)/q)+1),B.push(Math.floor((oe.y+oe.h+re)/q)+1);break;case"bct":var Q=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);B.push(Math.floor((Q.y+re)/q)+1),B.push(Math.floor((Q.y+Q.h+re)/q)+1);break;case"rect":B.push(Math.floor((_.y+re)/q)+1),B.push(Math.floor((_.y+_.h+re)/q)+1)}for(var ue=0;ue<B.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<B[ue];)C.call(this);return B},C=function(){var _=this.fillStyle,L=this.strokeStyle,q=this.font,B=this.lineCap,re=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=L,this.font=q,this.lineCap=B,this.lineWidth=re,this.lineJoin=oe},I=function(_,L,q){for(var B=0;B<_.length;B++)switch(_[B].type){case"bct":_[B].x2+=L,_[B].y2+=q;case"qct":_[B].x1+=L,_[B].y1+=q;default:_[B].x+=L,_[B].y+=q}return _},G=function(_){return _.sort(function(L,q){return L-q})},D=function(_,L){var q=this.fillStyle,B=this.strokeStyle,re=this.lineCap,oe=this.lineWidth,Q=Math.abs(oe*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var ye,ke,Ne=JSON.parse(JSON.stringify(this.path)),pe=JSON.parse(JSON.stringify(this.path)),Fe=[],X=0;X<pe.length;X++)if(pe[X].x!==void 0)for(var We=E.call(this,pe[X]),xe=0;xe<We.length;xe+=1)Fe.indexOf(We[xe])===-1&&Fe.push(We[xe]);for(var Ue=0;Ue<Fe.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<Fe[Ue];)C.call(this);G(Fe);for(var Re=Fe[0],ze=Fe[Fe.length-1],rt=Re;rt<ze+1;rt++){this.pdf.setPage(rt),this.fillStyle=q,this.strokeStyle=B,this.lineCap=re,this.lineWidth=Q,this.lineJoin=ue;var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=rt===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=rt===1?0:Ee+(rt-2)*Le;if(this.ctx.clip_path.length!==0){var Ze=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ye,this.posX+this.margin[3],-Xe+gt+this.ctx.prevPageLastElemOffset),te.call(this,_,!0),this.path=Ze}if(ke=JSON.parse(JSON.stringify(Ne)),this.path=I(ke,this.posX+this.margin[3],-Xe+gt+this.ctx.prevPageLastElemOffset),L===!1||rt===0){var we=(rt>Re||rt<ze)&&T.call(this);we&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Le,null).clip().discardPath()),te.call(this,_,L),we&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}this.path=Ne}else this.lineWidth=Q,te.call(this,_,L),this.lineWidth=oe},te=function(_,L){if((_!=="stroke"||L||!A.call(this))&&(_==="stroke"||L||!y.call(this))){for(var q,B,re=[],oe=this.path,Q=0;Q<oe.length;Q++){var ue=oe[Q];switch(ue.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ue,deltas:[],abs:[]});break;case"lt":var ye=re.length;if(oe[Q-1]&&!isNaN(oe[Q-1].x)&&(q=[ue.x-oe[Q-1].x,ue.y-oe[Q-1].y],ye>0)){for(;ye>=0;ye--)if(re[ye-1].close!==!0&&re[ye-1].begin!==!0){re[ye-1].deltas.push(q),re[ye-1].abs.push(ue);break}}break;case"bct":q=[ue.x1-oe[Q-1].x,ue.y1-oe[Q-1].y,ue.x2-oe[Q-1].x,ue.y2-oe[Q-1].y,ue.x-oe[Q-1].x,ue.y-oe[Q-1].y],re[re.length-1].deltas.push(q);break;case"qct":var ke=oe[Q-1].x+2/3*(ue.x1-oe[Q-1].x),Ne=oe[Q-1].y+2/3*(ue.y1-oe[Q-1].y),pe=ue.x+2/3*(ue.x1-ue.x),Fe=ue.y+2/3*(ue.y1-ue.y),X=ue.x,We=ue.y;q=[ke-oe[Q-1].x,Ne-oe[Q-1].y,pe-oe[Q-1].x,Fe-oe[Q-1].y,X-oe[Q-1].x,We-oe[Q-1].y],re[re.length-1].deltas.push(q);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ue)}}B=L?null:_==="stroke"?"stroke":"fill";for(var xe=!1,Ue=0;Ue<re.length;Ue++)if(re[Ue].arc)for(var Re=re[Ue].abs,ze=0;ze<Re.length;ze++){var rt=Re[ze];rt.type==="arc"?O.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,L,!xe):ee.call(this,rt.x,rt.y),xe=!0}else if(re[Ue].close===!0)this.pdf.internal.out("h"),xe=!1;else if(re[Ue].begin!==!0){var dt=re[Ue].start.x,gt=re[Ue].start.y;le.call(this,re[Ue].deltas,dt,gt),xe=!0}B&&R.call(this,B),L&&V.call(this)}},de=function(_){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-q;case"top":return _+L-q;case"hanging":return _+L-2*q;case"middle":return _+L/2-q;default:return _}},Y=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(L,q){this.colorStops.push([L,q])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(_,L,q,B,re,oe,Q,ue,ye){for(var ke=ae.call(this,q,B,re,oe),Ne=0;Ne<ke.length;Ne++){var pe=ke[Ne];Ne===0&&(ye?F.call(this,pe.x1+_,pe.y1+L):ee.call(this,pe.x1+_,pe.y1+L)),ve.call(this,_,L,pe.x2,pe.y2,pe.x3,pe.y3,pe.x4,pe.y4)}ue?V.call(this):R.call(this,Q)},R=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(_,L){this.pdf.internal.out(n(_)+" "+i(L)+" m")},z=function(_){var L;switch(_.align){case"right":case"end":L="right";break;case"center":L="center";break;default:L="left"}var q,B,re,oe=this.pdf.getTextDimensions(_.text),Q=de.call(this,_.y),ue=Y.call(this,Q)-oe.h,ye=this.ctx.transform.applyToPoint(new f(_.x,Q));if(this.autoPaging){var ke=this.ctx.transform.decompose(),Ne=new h;Ne=(Ne=(Ne=Ne.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var pe=this.ctx.transform.applyToRectangle(new u(_.x,Q,oe.w,oe.h)),Fe=Ne.applyToRectangle(new u(_.x,ue,oe.w,oe.h)),X=E.call(this,Fe),We=[],xe=0;xe<X.length;xe+=1)We.indexOf(X[xe])===-1&&We.push(X[xe]);G(We);for(var Ue=We[0],Re=We[We.length-1],ze=Ue;ze<Re+1;ze++){this.pdf.setPage(ze);var rt=ze===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],Ee=gt-this.margin[0],Le=this.pdf.internal.pageSize.width-this.margin[1],Xe=Le-this.margin[3],Ze=ze===1?0:dt+(ze-2)*Ee;if(this.ctx.clip_path.length!==0){var we=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(q,this.posX+this.margin[3],-1*Ze+rt),te.call(this,"fill",!0),this.path=we}var Be=I([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-Ze+rt+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(B=this.pdf.internal.getFontSize(),this.pdf.setFontSize(B*_.scale),re=this.lineWidth,this.lineWidth=re*_.scale);var Ge=this.autoPaging!=="text";if(Ge||Be.y+Be.h<=gt){if(Ge||Be.y>=rt&&Be.x<=Le){var ut=Ge?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||Le-Be.x)[0],je=I([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-Ze+rt+this.ctx.prevPageLastElemOffset)[0],Ve=Ge&&(ze>Ue||ze<Re)&&T.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Ee,null).clip().discardPath()),this.pdf.text(ut,je.x,je.y,{angle:_.angle,align:L,renderingMode:_.renderingMode}),Ve&&this.pdf.restoreGraphicsState()}}else Be.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-Be.y);_.scale>=.01&&(this.pdf.setFontSize(B),this.lineWidth=re)}}else _.scale>=.01&&(B=this.pdf.internal.getFontSize(),this.pdf.setFontSize(B*_.scale),re=this.lineWidth,this.lineWidth=re*_.scale),this.pdf.text(_.text,ye.x+this.posX,ye.y+this.posY,{angle:_.angle,align:L,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(B),this.lineWidth=re)},ee=function(_,L,q,B){q=q||0,B=B||0,this.pdf.internal.out(n(_+q)+" "+i(L+B)+" l")},le=function(_,L,q){return this.pdf.lines(_,L,q,null,null)},ve=function(_,L,q,B,re,oe,Q,ue){this.pdf.internal.out([t(o(q+_)),t(c(B+L)),t(o(re+_)),t(c(oe+L)),t(o(Q+_)),t(c(ue+L)),"c"].join(" "))},ae=function(_,L,q,B){for(var re=2*Math.PI,oe=Math.PI/2;L>q;)L-=re;var Q=Math.abs(q-L);Q<re&&B&&(Q=re-Q);for(var ue=[],ye=B?-1:1,ke=L;Q>1e-5;){var Ne=ke+ye*Math.min(Q,oe);ue.push(se.call(this,_,ke,Ne)),Q-=Math.abs(Ne-ke),ke=Ne}return ue},se=function(_,L,q){var B=(q-L)/2,re=_*Math.cos(B),oe=_*Math.sin(B),Q=re,ue=-oe,ye=Q*Q+ue*ue,ke=ye+Q*re+ue*oe,Ne=4/3*(Math.sqrt(2*ye*ke)-ke)/(Q*oe-ue*re),pe=Q-Ne*ue,Fe=ue+Ne*Q,X=pe,We=-Fe,xe=B+L,Ue=Math.cos(xe),Re=Math.sin(xe);return{x1:_*Math.cos(L),y1:_*Math.sin(L),x2:pe*Ue-Fe*Re,y2:pe*Re+Fe*Ue,x3:X*Ue-We*Re,y3:X*Re+We*Ue,x4:_*Math.cos(q),y4:_*Math.sin(q)}},Z=function(_){return 180*_/Math.PI},J=function(_,L,q,B,re,oe){var Q=_+.5*(q-_),ue=L+.5*(B-L),ye=re+.5*(q-re),ke=oe+.5*(B-oe),Ne=Math.min(_,re,Q,ye),pe=Math.max(_,re,Q,ye),Fe=Math.min(L,oe,ue,ke),X=Math.max(L,oe,ue,ke);return new u(Ne,Fe,pe-Ne,X-Fe)},fe=function(_,L,q,B,re,oe,Q,ue){var ye,ke,Ne,pe,Fe,X,We,xe,Ue,Re,ze,rt,dt,gt,Ee=q-_,Le=B-L,Xe=re-q,Ze=oe-B,we=Q-re,Be=ue-oe;for(ke=0;ke<41;ke++)Ue=(We=(Ne=_+(ye=ke/40)*Ee)+ye*((Fe=q+ye*Xe)-Ne))+ye*(Fe+ye*(re+ye*we-Fe)-We),Re=(xe=(pe=L+ye*Le)+ye*((X=B+ye*Ze)-pe))+ye*(X+ye*(oe+ye*Be-X)-xe),ke==0?(ze=Ue,rt=Re,dt=Ue,gt=Re):(ze=Math.min(ze,Ue),rt=Math.min(rt,Re),dt=Math.max(dt,Ue),gt=Math.max(gt,Re));return new u(Math.round(ze),Math.round(rt),Math.round(dt-ze),Math.round(gt-rt))},U=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,L,q=(_=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:L}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Ot.API),(function(e){var t=function(f){var u,h,m,p,w,j,y,A,T,E;for(h=[],m=0,p=(f+=u="\0\0\0\0".slice(f.length%4||4)).length;p>m;m+=4)(w=(f.charCodeAt(m)<<24)+(f.charCodeAt(m+1)<<16)+(f.charCodeAt(m+2)<<8)+f.charCodeAt(m+3))!==0?(j=(w=((w=((w=((w=(w-(E=w%85))/85)-(T=w%85))/85)-(A=w%85))/85)-(y=w%85))/85)%85,h.push(j+33,y+33,A+33,T+33,E+33)):h.push(122);return(function(C,I){for(var G=I;G>0;G--)C.pop()})(h,u.length),String.fromCharCode.apply(String,h)+"~>"},n=function(f){var u,h,m,p,w,j=String,y="length",A=255,T="charCodeAt",E="slice",C="replace";for(f[E](-2),f=f[E](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),m=[],p=0,w=(f+=u="uuuuu"[E](f[y]%5||5))[y];w>p;p+=5)h=52200625*(f[T](p)-33)+614125*(f[T](p+1)-33)+7225*(f[T](p+2)-33)+85*(f[T](p+3)-33)+(f[T](p+4)-33),m.push(A&h>>24,A&h>>16,A&h>>8,A&h);return(function(I,G){for(var D=G;D>0;D--)I.pop()})(m,u[y]),j.fromCharCode.apply(j,m)},i=function(f){return f.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(f){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((f=f.replace(/\s/g,"")).indexOf(">")!==-1&&(f=f.substr(0,f.indexOf(">"))),f.length%2&&(f+="0"),u.test(f)===!1)return"";for(var h="",m=0;m<f.length;m+=2)h+=String.fromCharCode("0x"+(f[m]+f[m+1]));return h},c=function(f){for(var u=new Uint8Array(f.length),h=f.length;h--;)u[h]=f.charCodeAt(h);return(u=hp(u)).reduce(function(m,p){return m+String.fromCharCode(p)},"")};e.processDataByFilters=function(f,u){var h=0,m=f||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),h=0;h<u.length;h+=1)switch(u[h]){case"ASCII85Decode":case"/ASCII85Decode":m=n(m),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=o(m),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=i(m),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=c(m),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[h]+'" is not implemented')}return{data:m,reverseChain:p.reverse().join(" ")}}})(Ot.API),(function(e){e.loadFile=function(t,n,i){return(function(o,c,f){c=c!==!1,f=typeof f=="function"?f:function(){};var u=void 0;try{u=(function(h,m,p){var w=new XMLHttpRequest,j=0,y=function(A){var T=A.length,E=[],C=String.fromCharCode;for(j=0;j<T;j+=1)E.push(C(255&A.charCodeAt(j)));return E.join("")};if(w.open("GET",h,!m),w.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(w.onload=function(){w.status===200?p(y(this.responseText)):p(void 0)}),w.send(null),m&&w.status===200)return y(w.responseText)})(o,c,f)}catch{}return u})(t,n,i)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(Ot.API),(function(e){function t(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):Jm(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function n(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):Jm(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var i=function(u){var h=Ma(u);return h==="undefined"?"undefined":h==="string"||u instanceof String?"string":h==="number"||u instanceof Number?"number":h==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":h==="object"?"object":"unknown"},o=function(u,h){var m=document.createElement(u);for(var p in h.className&&(m.className=h.className),h.innerHTML&&h.dompurify&&(m.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)m.style[p]=h.style[p];return m},c=function u(h,m){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),w=h.firstChild;w;w=w.nextSibling)m!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||p.appendChild(u(w,m));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},f=function u(h){var m=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),m);return(p=p.setProgress(1,u,1,[u])).set(h)};(f.prototype=Object.create(Promise.prototype)).constructor=f,f.convert=function(u,h){return u.__proto__=h||f.prototype,u},f.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},f.prototype.from=function(u,h){return this.then(function(){switch(h=h||(function(m){switch(i(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),h){case"string":return this.then(n).then(function(m){return this.set({src:o("div",{innerHTML:u,dompurify:m})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},f.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},f.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=c(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},f.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(h){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,h(this.prop.container,m)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},f.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(h){var m=this.opt.jsPDF,p=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,j=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete j.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=p,p)for(var y=0;y<p.length;++y){var A=p[y],T=A.src.find(function(E){return E.format==="truetype"});T&&m.addFont(T.url,A.ref.name,A.ref.style)}return j.windowHeight=j.windowHeight||0,j.windowHeight=j.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):j.windowHeight,m.context2d.save(!0),h(this.prop.container,j)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},f.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},f.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},f.prototype.output=function(u,h,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(u,h):this.outputPdf(u,h)},f.prototype.outputPdf=function(u,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,h)})},f.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},f.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},f.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},f.prototype.set=function(u){if(i(u)!=="object")return this;var h=Object.keys(u||{}).map(function(m){if(m in f.template.prop)return function(){this.prop[m]=u[m]};switch(m){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[m]=u[m]}}},this);return this.then(function(){return this.thenList(h)})},f.prototype.get=function(u,h){return this.then(function(){var m=u in f.template.prop?this.prop[u]:this.opt[u];return h?h(m):m})},f.prototype.setMargin=function(u){return this.then(function(){switch(i(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},f.prototype.setPageSize=function(u){function h(m,p){return Math.floor(m*p/72*96)}return this.then(function(){(u=u||Ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:h(u.inner.width,u.k),height:h(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},f.prototype.setProgress=function(u,h,m,p){return u!=null&&(this.progress.val=u),h!=null&&(this.progress.state=h),m!=null&&(this.progress.n=m),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},f.prototype.updateProgress=function(u,h,m,p){return this.setProgress(u?this.progress.val+u:null,h||null,m?this.progress.n+m:null,p?this.progress.stack.concat(p):null)},f.prototype.then=function(u,h){var m=this;return this.thenCore(u,h,function(p,w){return m.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(j){return m.updateProgress(null,p),j}).then(p,w).then(function(j){return m.updateProgress(1),j})})},f.prototype.thenCore=function(u,h,m){m=m||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),h&&(h=h.bind(p));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:f.convert(Object.assign({},p),Promise.prototype),j=m.call(w,u,h);return f.convert(j,p.__proto__)},f.prototype.thenExternal=function(u,h){return Promise.prototype.then.call(this,u,h)},f.prototype.thenList=function(u){var h=this;return u.forEach(function(m){h=h.thenCore(m)}),h},f.prototype.catch=function(u){u&&(u=u.bind(this));var h=Promise.prototype.catch.call(this,u);return f.convert(h,this)},f.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},f.prototype.error=function(u){return this.then(function(){throw new Error(u)})},f.prototype.using=f.prototype.set,f.prototype.saveAs=f.prototype.save,f.prototype.export=f.prototype.output,f.prototype.run=f.prototype.then,Ot.getPageSize=function(u,h,m){if(Ma(u)==="object"){var p=u;u=p.orientation,h=p.unit||h,m=p.format||m}h=h||"mm",m=m||"a4",u=(""+(u||"P")).toLowerCase();var w,j=(""+m).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+h}var A,T=0,E=0;if(y.hasOwnProperty(j))T=y[j][1]/w,E=y[j][0]/w;else try{T=m[1],E=m[0]}catch{throw new Error("Invalid format: "+m)}if(u==="p"||u==="portrait")u="p",E>T&&(A=E,E=T,T=A);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",T>E&&(A=E,E=T,T=A)}return{width:E,height:T,unit:h,k:w,orientation:u}},e.html=function(u,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(gg):null;var m=new f(h);return h.worker?m:m.from(u).doCallback()}})(Ot.API),Ot.API.addJS=function(e){return yy=e,this.internal.events.subscribe("postPutResources",function(){Mh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Mh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),by=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Mh!==void 0&&by!==void 0&&this.internal.out("/Names <</JavaScript "+Mh+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),c=0;c<o.length;c++){var f=o[c],u=i.exec(f);if(u!=null){var h=u[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(f)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,p=[];for(c=0;c<m;c++){var w=n.internal.newObject();p.push(w);var j=n.internal.getPageInfo(c+1);n.internal.write("<< /D["+j.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),c=0;c<p.length;c++)n.internal.write("(page_"+(c+1)+")"+p[c]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,o,c){var f={title:o,options:c,children:[]};return i==null&&(i=this.root),i.children.push(f),f},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var o=0;o<i.children.length;o++)this.genIds_r(i.children[o])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,c=0;c<i.children.length;c++){var f=i.children[c];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(i)),c>0&&this.line("/Prev "+this.makeRef(i.children[c-1])),c<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[c+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var u=this.count=this.count_r({count:0},f);if(u>0&&this.line("/Count "+u),f.options&&f.options.pageNumber){var h=n.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var m=0;m<i.children.length;m++)this.renderItems(i.children[m])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,o){for(var c=0;c<o.children.length;c++)i.count++,this.count_r(i,o.children[c]);return i.count}}])})(Ot.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,o,c,f,u){var h,m=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=f||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,h=(function(w){for(var j,y=256*w.charCodeAt(4)+w.charCodeAt(5),A=w.length,T={width:0,height:0,numcomponents:1},E=4;E<A;E+=2){if(E+=y,t.indexOf(w.charCodeAt(E+1))!==-1){j=256*w.charCodeAt(E+5)+w.charCodeAt(E+6),T={width:256*w.charCodeAt(E+7)+w.charCodeAt(E+8),height:j,numcomponents:w.charCodeAt(E+9)};break}y=256*w.charCodeAt(E+2)+w.charCodeAt(E+3)}return T})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),h.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:n,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:m,index:i,alias:o}}return p}})(Ot.API),Ot.API.processPNG=function(e,t,n,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var o,c=NE(e,{checkCrc:!0}),f=c.width,u=c.height,h=c.channels,m=c.palette,p=c.depth;o=m&&h===1?(function(O){for(var R=O.width,V=O.height,F=O.data,z=O.palette,ee=O.depth,le=!1,ve=[],ae=[],se=void 0,Z=!1,J=0,fe=0;fe<z.length;fe++){var U=j2(z[fe],4),_=U[0],L=U[1],q=U[2],B=U[3];ve.push(_,L,q),B!=null&&(B===0?(J++,ae.length<1&&ae.push(fe)):B<255&&(Z=!0))}if(Z||J>1){le=!0,ae=void 0;var re=R*V;se=new Uint8Array(re);for(var oe=new DataView(F.buffer),Q=0;Q<re;Q++){var ue=xg(oe,Q,ee),ye=j2(z[ue],4)[3];se[Q]=ye}}else J===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:le?8:void 0,colorBytes:F,alphaBytes:se,needSMask:le,palette:ve,mask:ae}})(c):h===2||h===4?(function(O){for(var R=O.data,V=O.width,F=O.height,z=O.channels,ee=O.depth,le=z===2?"DeviceGray":"DeviceRGB",ve=z-1,ae=V*F,se=ve,Z=ae*se,J=1*ae,fe=Math.ceil(Z*ee/8),U=Math.ceil(J*ee/8),_=new Uint8Array(fe),L=new Uint8Array(U),q=new DataView(R.buffer),B=new DataView(_.buffer),re=new DataView(L.buffer),oe=!1,Q=0;Q<ae;Q++){for(var ue=Q*z,ye=0;ye<se;ye++)Ey(B,xg(q,ue+ye,ee),Q*se+ye,ee);var ke=xg(q,ue+se,ee);ke<(1<<ee)-1&&(oe=!0),Ey(re,ke,1*Q,ee)}return{colorSpace:le,colorsPerPixel:ve,sMaskBitsPerComponent:oe?ee:void 0,colorBytes:_,alphaBytes:L,needSMask:oe}})(c):(function(O){var R=O.data,V=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(F){for(var z=F.length,ee=new Uint8Array(2*z),le=new DataView(ee.buffer,ee.byteOffset,ee.byteLength),ve=0;ve<z;ve++)le.setUint16(2*ve,F[ve],!1);return ee})(R):R,needSMask:!1}})(c);var w,j,y,A=o,T=A.colorSpace,E=A.colorsPerPixel,C=A.sMaskBitsPerComponent,I=A.colorBytes,G=A.alphaBytes,D=A.needSMask,te=A.palette,de=A.mask,Y=null;return i!==Ot.API.image_compression.NONE&&typeof hp=="function"?(Y=(function(O){var R;switch(O){case Ot.API.image_compression.FAST:R=11;break;case Ot.API.image_compression.MEDIUM:R=13;break;case Ot.API.image_compression.SLOW:R=14;break;default:R=12}return R})(i),w=this.decode.FLATE_DECODE,j="/Predictor ".concat(Y," /Colors ").concat(E," /BitsPerComponent ").concat(p," /Columns ").concat(f),e=jy(I,Math.ceil(f*E*p/8),E,p,i),D&&(y=jy(G,Math.ceil(f*C/8),1,C,i))):(w=void 0,j=void 0,e=I,D&&(y=G)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:n,data:e,index:t,filter:w,decodeParameters:j,transparency:de,palette:te,sMask:y,predictor:Y,width:f,height:u,bitsPerComponent:p,sMaskBitsPerComponent:C,colorSpace:T}}},(function(e){e.processGIF89A=function(t,n,i,o){var c=new HE(t),f=c.width,u=c.height,h=[];c.decodeAndBlitFrameRGBA(0,h);var m={data:h,width:f,height:u},p=new bg(100).encode(m,100);return e.processJPEG.call(this,p,n,i,o)},e.processGIF87A=e.processGIF89A})(Ot.API),Ci.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:i,blue:n,quad:c}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ci.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){$a.log("bit decode error:"+n)}},Ci.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var c=this.datav.getUint8(this.pos++,!0),f=i*this.width*4+8*o*4,u=0;u<8&&8*o+u<this.width;u++){var h=this.palette[c>>7-u&1];this.data[f+4*u]=h.blue,this.data[f+4*u+1]=h.green,this.data[f+4*u+2]=h.red,this.data[f+4*u+3]=255}n!==0&&(this.pos+=4-n)}},Ci.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<e;o++){var c=this.datav.getUint8(this.pos++,!0),f=i*this.width*4+2*o*4,u=c>>4,h=15&c,m=this.palette[u];if(this.data[f]=m.blue,this.data[f+1]=m.green,this.data[f+2]=m.red,this.data[f+3]=255,2*o+1>=this.width)break;m=this.palette[h],this.data[f+4]=m.blue,this.data[f+4+1]=m.green,this.data[f+4+2]=m.red,this.data[f+4+3]=255}t!==0&&(this.pos+=4-t)}},Ci.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+4*i;if(o<this.palette.length){var f=this.palette[o];this.data[c]=f.red,this.data[c+1]=f.green,this.data[c+2]=f.blue,this.data[c+3]=255}else this.data[c]=255,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}e!==0&&(this.pos+=4-e)}},Ci.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(c&t)/t*255|0,u=(c>>5&t)/t*255|0,h=(c>>10&t)/t*255|0,m=c>>15?255:0,p=i*this.width*4+4*o;this.data[p]=h,this.data[p+1]=u,this.data[p+2]=f,this.data[p+3]=m}this.pos+=e}},Ci.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,c=0;c<this.width;c++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(f&t)/t*255|0,h=(f>>5&n)/n*255|0,m=(f>>11)/t*255|0,p=o*this.width*4+4*c;this.data[p]=m,this.data[p+1]=h,this.data[p+2]=u,this.data[p+3]=255}this.pos+=e}},Ci.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*n;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=i,this.data[f+3]=255}this.pos+=this.width%4}},Ci.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*n;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=i,this.data[u+3]=f}},Ci.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,i,o){var c=new Ci(t,!1),f=c.width,u=c.height,h={data:c.getData(),width:f,height:u},m=new bg(100).encode(h,100);return e.processJPEG.call(this,m,n,i,o)}})(Ot.API),Ly.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,i,o){var c=new Ly(t),f=c.width,u=c.height,h={data:c.getData(),width:f,height:u},m=new bg(100).encode(h,100);return e.processJPEG.call(this,m,n,i,o)}})(Ot.API),Ot.API.processRGBA=function(e,t,n){for(var i=e.data,o=i.length,c=new Uint8Array(o/4*3),f=new Uint8Array(o/4),u=0,h=0,m=0;m<o;m+=4){var p=i[m],w=i[m+1],j=i[m+2],y=i[m+3];c[u++]=p,c[u++]=w,c[u++]=j,f[h++]=y}var A=this.__addimage__.arrayBufferToBinaryString(c);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:A,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ot.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Id=Ot.API,Dh=Id.getCharWidthsArray=function(e,t){var n,i,o=(t=t||{}).font||this.internal.getFont(),c=t.fontSize||this.internal.getFontSize(),f=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:o.metadata.Unicode.widths,h=u.fof?u.fof:1,m=t.kerning?t.kerning:o.metadata.Unicode.kerning,p=m.fof?m.fof:1,w=t.doKerning!==!1,j=0,y=e.length,A=0,T=u[0]||h,E=[];for(n=0;n<y;n++)i=e.charCodeAt(n),typeof o.metadata.widthOfString=="function"?E.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+f*(1e3/c)||0)/1e3):(j=w&&Ma(m[i])==="object"&&!isNaN(parseInt(m[i][A],10))?m[i][A]/p:0,E.push((u[i]||T)/h+j)),A=i;return E},vy=Id.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return Id.processArabic&&(e=Id.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,o)/n:Dh.apply(this,arguments).reduce(function(c,f){return c+f},0)},wy=function(e,t,n,i){for(var o=[],c=0,f=e.length,u=0;c!==f&&u+t[c]<n;)u+=t[c],c++;o.push(e.slice(0,c));var h=c;for(u=0;c!==f;)u+t[c]>i&&(o.push(e.slice(h,c)),u=0,h=c),u+=t[c],c++;return h!==c&&o.push(e.slice(h,c)),o},Ny=function(e,t,n){n||(n={});var i,o,c,f,u,h,m,p=[],w=[p],j=n.textIndent||0,y=0,A=0,T=e.split(" "),E=Dh.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var C=Array(h).join(" "),I=[];T.map(function(D){(D=D.split(/\s*\n/)).length>1?I=I.concat(D.map(function(te,de){return(de&&te.length?`
`:"")+te})):I.push(D[0])}),T=I,h=vy.apply(this,[C,n])}for(c=0,f=T.length;c<f;c++){var G=0;if(i=T[c],h&&i[0]==`
`&&(i=i.substr(1),G=1),j+y+(A=(o=Dh.apply(this,[i,n])).reduce(function(D,te){return D+te},0))>t||G){if(A>t){for(u=wy.apply(this,[i,o,t-(j+y),t]),p.push(u.shift()),p=[u.pop()];u.length;)w.push([u.shift()]);A=o.slice(i.length-(p[0]?p[0].length:0)).reduce(function(D,te){return D+te},0)}else p=[i];w.push(p),j=A+h,y=E}else p.push(i),j+=y+A,y=E}return m=h?function(D,te){return(te?C:"")+D.join(" ")}:function(D){return D.join(" ")},w.map(m)},Id.splitTextToSize=function(e,t,n){var i,o=(n=n||{}).fontSize||this.internal.getFontSize(),c=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var w=this.internal.getFont(p.fontName,p.fontStyle),j="Unicode";return w.metadata[j]?{widths:w.metadata[j].widths||{0:1},kerning:w.metadata[j].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var f=1*this.internal.scaleFactor*t/o;c.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,c.lineIndent=n.lineIndent;var u,h,m=[];for(u=0,h=i.length;u<h;u++)m=m.concat(Ny.apply(this,[i[u],f,c]));return m},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",i={},o={},c=0;c<16;c++)i[n[c]]=t[c],o[t[c]]=n[c];var f=function(j){return"0x"+parseInt(j,10).toString(16)},u=e.__fontmetrics__.compress=function(j){var y,A,T,E,C=["{"];for(var I in j){if(y=j[I],isNaN(parseInt(I,10))?A="'"+I+"'":(I=parseInt(I,10),A=(A=f(I).slice(2)).slice(0,-1)+o[A.slice(-1)]),typeof y=="number")y<0?(T=f(y).slice(3),E="-"):(T=f(y).slice(2),E=""),T=E+T.slice(0,-1)+o[T.slice(-1)];else{if(Ma(y)!=="object")throw new Error("Don't know what to do with value type "+Ma(y)+".");T=u(y)}C.push(A+T)}return C.push("}"),C.join("")},h=e.__fontmetrics__.uncompress=function(j){if(typeof j!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,A,T,E,C={},I=1,G=C,D=[],te="",de="",Y=j.length-1,O=1;O<Y;O+=1)(E=j[O])=="'"?y?(T=y.join(""),y=void 0):y=[]:y?y.push(E):E=="{"?(D.push([G,T]),G={},T=void 0):E=="}"?((A=D.pop())[0][A[1]]=G,T=void 0,G=A[0]):E=="-"?I=-1:T===void 0?i.hasOwnProperty(E)?(te+=i[E],T=parseInt(te,16)*I,I=1,te=""):te+=E:i.hasOwnProperty(E)?(de+=i[E],G[T]=parseInt(de,16)*I,I=1,T=void 0,de=""):de+=E;return C},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},w={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(j){var y=j.font,A=w.Unicode[y.postScriptName];A&&(y.metadata.Unicode={},y.metadata.Unicode.widths=A.widths,y.metadata.Unicode.kerning=A.kerning);var T=p.Unicode[y.postScriptName];T&&(y.metadata.Unicode.encoding=T,y.encoding=T.codePages[0])}])})(Ot.API),(function(e){var t=function(n){for(var i=n.length,o=new Uint8Array(i),c=0;c<i;c++)o[c]=n.charCodeAt(c);return o};e.API.events.push(["addFont",function(n){var i=void 0,o=n.font,c=n.instance;if(!o.isStandardFont){if(c===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(i=c.existsFileInVFS(o.postScriptName)===!1?c.loadFile(o.postScriptName):c.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(f,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t($h(u)),f.metadata=e.API.TTFFont.open(u),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(o,i)}}])})(Ot),Ot.API.addSvgAsImage=function(e,t,n,i,o,c,f,u){if(isNaN(t)||isNaN(n))throw $a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw $a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=o;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Wt.canvg?Promise.resolve(Wt.canvg):Jm(()=>import("./index.es-M7e0WYJo.js"),[])).catch(function(j){return Promise.reject(new Error("Could not load canvg: "+j))}).then(function(j){return j.default?j.default:j}).then(function(j){return j.fromString(m,e,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(p)}).then(function(){w.addImage(h.toDataURL("image/jpeg",1),t,n,i,o,f,u)})},Ot.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(t,n);return this},Ot.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,o,c,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(f),h=[],m=0,p=0,w=0;function j(A,T){var E,C=!1;for(E=0;E<A.length;E+=1)A[E]===T&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var y=u.length;for(w=0;w<y;w+=1)n[u[w]].value=n[u[w]].defaultValue,n[u[w]].explicitSet=!1}if(Ma(e)==="object"){for(o in e)if(c=e[o],j(u,o)&&c!==void 0){if(n[o].type==="boolean"&&typeof c=="boolean")n[o].value=c;else if(n[o].type==="name"&&j(n[o].valueSet,c))n[o].value=c;else if(n[o].type==="integer"&&Number.isInteger(c))n[o].value=c;else if(n[o].type==="array"){for(m=0;m<c.length;m+=1)if(i=!0,c[m].length===1&&typeof c[m][0]=="number")h.push(String(c[m]-1));else if(c[m].length>1){for(p=0;p<c[m].length;p+=1)typeof c[m][p]!="number"&&(i=!1);i===!0&&h.push([c[m][0]-1,c[m][1]-1].join(" "))}n[o].value="["+h.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,T=[];for(A in n)n[A].explicitSet===!0&&(n[A].type==="name"?T.push("/"+A+" /"+n[A].value):T.push("/"+A+" "+n[A].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),c=unescape(encodeURIComponent(i)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),m=c.length+f.length+u.length+o.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(o+c+f+u+h),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(Ot.API),(function(e){var t=e.API,n=t.pdfEscape16=function(c,f){for(var u,h=f.metadata.Unicode.widths,m=["","0","00","000","0000"],p=[""],w=0,j=c.length;w<j;++w){if(u=f.metadata.characterToGlyph(c.charCodeAt(w)),f.metadata.glyIdsUsed.push(u),f.metadata.toUnicode[u]=c.charCodeAt(w),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(f.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(m[4-u.length],u)}return p.join("")},i=function(c){var f,u,h,m,p,w,j;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],w=0,j=(u=Object.keys(c).sort(function(y,A){return y-A})).length;w<j;w++)f=u[w],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),c[f]!==void 0&&c[f]!==null&&typeof c[f].toString=="function"&&(m=("0000"+c[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),h.push("<"+f+"><"+m+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(c){(function(f){var u=f.font,h=f.out,m=f.newObject,p=f.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var w=u.metadata.Unicode.widths,j=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),y="",A=0;A<j.length;A++)y+=String.fromCharCode(j[A]);var T=m();p({data:y,addLength1:!0,objectId:T}),h("endobj");var E=m();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var C=m();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+$d(u.fontName)),h("/FontFile2 "+T+" 0 R"),h("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var I=m();h("<<"),h("/Type /Font"),h("/BaseFont /"+$d(u.fontName)),h("/FontDescriptor "+C+" 0 R"),h("/W "+e.API.PDFObject.convert(w)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=m(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+E+" 0 R"),h("/BaseFont /"+$d(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+I+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(c)}]),t.events.push(["putFont",function(c){(function(f){var u=f.font,h=f.out,m=f.newObject,p=f.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var w=u.metadata.rawData,j="",y=0;y<w.length;y++)j+=String.fromCharCode(w[y]);var A=m();p({data:j,addLength1:!0,objectId:A}),h("endobj");var T=m();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:T}),h("endobj");var E=m();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+A+" 0 R"),h("/Flags 96"),h("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+$d(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=m();for(var C=0;C<u.metadata.hmtx.widths.length;C++)u.metadata.hmtx.widths[C]=parseInt(u.metadata.hmtx.widths[C]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+$d(u.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(c)}]);var o=function(c){var f,u=c.text||"",h=c.x,m=c.y,p=c.options||{},w=c.mutex||{},j=w.pdfEscape,y=w.activeFontKey,A=w.fonts,T=y,E="",C=0,I="",G=A[T].encoding;if(A[T].encoding!=="Identity-H")return{text:u,x:h,y:m,options:p,mutex:w};for(I=u,T=y,Array.isArray(u)&&(I=u[0]),C=0;C<I.length;C+=1)A[T].metadata.hasOwnProperty("cmap")&&(f=A[T].metadata.cmap.unicode.codeMap[I[C].charCodeAt(0)]),f||I[C].charCodeAt(0)<256&&A[T].metadata.hasOwnProperty("Unicode")?E+=I[C]:E+="";var D="";return parseInt(T.slice(1))<14||G==="WinAnsiEncoding"?D=j(E,T).split("").map(function(te){return te.charCodeAt(0).toString(16)}).join(""):G==="Identity-H"&&(D=n(E,A[T])),w.isHex=!0,{text:D,x:h,y:m,options:p,mutex:w}};t.events.push(["postProcessText",function(c){var f=c.text||"",u=[],h={text:f,x:c.x,y:c.y,options:c.options,mutex:c.mutex};if(Array.isArray(f)){var m=0;for(m=0;m<f.length;m+=1)Array.isArray(f[m])&&f[m].length===3?u.push([o(Object.assign({},h,{text:f[m][0]})).text,f[m][1],f[m][2]]):u.push(o(Object.assign({},h,{text:f[m]})).text);c.text=u}else c.text=o(Object.assign({},h,{text:f})).text}])})(Ot),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Ot.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var o,c,f,u,h,m,p,w=t,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,G=0;this.__bidiEngine__={};var D=function(F){var z=F.charCodeAt(),ee=z>>8,le=T[ee];return le!==void 0?w[256*le+(255&z)]:ee===252||ee===253?"AL":C.test(ee)?"L":ee===8?"R":"N"},te=function(F){for(var z,ee=0;ee<F.length;ee++){if((z=D(F.charAt(ee)))==="L")return!1;if(z==="R")return!0}return!1},de=function(F,z,ee,le){var ve,ae,se,Z,J=z[le];switch(J){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(J="AN");break;case"AL":I=!0,J="R";break;case"WS":case"BN":J="N";break;case"CS":le<1||le+1>=z.length||(ve=ee[le-1])!=="EN"&&ve!=="AN"||(ae=z[le+1])!=="EN"&&ae!=="AN"?J="N":I&&(ae="AN"),J=ae===ve?ae:"N";break;case"ES":J=(ve=le>0?ee[le-1]:"B")==="EN"&&le+1<z.length&&z[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&ee[le-1]==="EN"){J="EN";break}if(I){J="N";break}for(se=le+1,Z=z.length;se<Z&&z[se]==="ET";)se++;J=se<Z&&z[se]==="EN"?"EN":"N";break;case"NSM":if(f&&!u){for(Z=z.length,se=le+1;se<Z&&z[se]==="NSM";)se++;if(se<Z){var fe=F[le],U=fe>=1425&&fe<=2303||fe===64286;if(ve=z[se],U&&(ve==="R"||ve==="AL")){J="R";break}}}J=le<1||(ve=z[le-1])==="B"?"N":ee[le-1];break;case"B":I=!1,o=!0,J=G;break;case"S":c=!0,J="N"}return J},Y=function(F,z,ee){var le=F.split("");return ee&&O(le,ee,{hiLevel:G}),le.reverse(),z&&z.reverse(),le.join("")},O=function(F,z,ee){var le,ve,ae,se,Z,J=-1,fe=F.length,U=0,_=[],L=G?y:j,q=[];for(I=!1,o=!1,c=!1,ve=0;ve<fe;ve++)q[ve]=D(F[ve]);for(ae=0;ae<fe;ae++){if(Z=U,_[ae]=de(F,q,_,ae),le=240&(U=L[Z][A[_[ae]]]),U&=15,z[ae]=se=L[U][5],le>0)if(le===16){for(ve=J;ve<ae;ve++)z[ve]=1;J=-1}else J=-1;if(L[U][6])J===-1&&(J=ae);else if(J>-1){for(ve=J;ve<ae;ve++)z[ve]=se;J=-1}q[ae]==="B"&&(z[ae]=0),ee.hiLevel|=se}c&&(function(B,re,oe){for(var Q=0;Q<oe;Q++)if(B[Q]==="S"){re[Q]=G;for(var ue=Q-1;ue>=0&&B[ue]==="WS";ue--)re[ue]=G}})(q,z,fe)},R=function(F,z,ee,le,ve){if(!(ve.hiLevel<F)){if(F===1&&G===1&&!o)return z.reverse(),void(ee&&ee.reverse());for(var ae,se,Z,J,fe=z.length,U=0;U<fe;){if(le[U]>=F){for(Z=U+1;Z<fe&&le[Z]>=F;)Z++;for(J=U,se=Z-1;J<se;J++,se--)ae=z[J],z[J]=z[se],z[se]=ae,ee&&(ae=ee[J],ee[J]=ee[se],ee[se]=ae);U=Z}U++}}},V=function(F,z,ee){var le=F.split(""),ve={hiLevel:G};return ee||(ee=[]),O(le,ee,ve),(function(ae,se,Z){if(Z.hiLevel!==0&&p)for(var J,fe=0;fe<ae.length;fe++)se[fe]===1&&(J=E.indexOf(ae[fe]))>=0&&(ae[fe]=E[J+1])})(le,ee,ve),R(2,le,z,ee,ve),R(1,le,z,ee,ve),le.join("")};return this.__bidiEngine__.doBidiReorder=function(F,z,ee){if((function(ve,ae){if(ae)for(var se=0;se<ve.length;se++)ae[se]=se;u===void 0&&(u=te(ve)),m===void 0&&(m=te(ve))})(F,z),f||!h||m)if(f&&h&&u^m)G=u?1:0,F=Y(F,z,ee);else if(!f&&h&&m)G=u?1:0,F=V(F,z,ee),F=Y(F,z);else if(!f||u||h||m){if(f&&!h&&u^m)F=Y(F,z),u?(G=0,F=V(F,z,ee)):(G=1,F=V(F,z,ee),F=Y(F,z));else if(f&&u&&!h&&m)G=1,F=V(F,z,ee),F=Y(F,z);else if(!f&&!h&&u^m){var le=p;u?(G=1,F=V(F,z,ee),G=0,p=!1,F=V(F,z,ee),p=le):(G=0,F=V(F,z,ee),F=Y(F,z),G=1,p=!1,F=V(F,z,ee),p=le,F=Y(F,z))}}else G=0,F=V(F,z,ee);else G=u?1:0,F=V(F,z,ee);return F},this.__bidiEngine__.setOptions=function(F){F&&(f=F.isInputVisual,h=F.isOutputVisual,u=F.isInputRtl,m=F.isOutputRtl,p=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var o=i.text;i.x,i.y;var c=i.options||{};i.mutex,c.lang;var f=[];if(c.isInputVisual=typeof c.isInputVisual!="boolean"||c.isInputVisual,n.setOptions(c),Object.prototype.toString.call(o)==="[object Array]"){var u=0;for(f=[],u=0;u<o.length;u+=1)Object.prototype.toString.call(o[u])==="[object Array]"?f.push([n.doBidiReorder(o[u][0]),o[u][1],o[u][2]]):f.push([n.doBidiReorder(o[u])]);i.text=f}else i.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])})(Ot),Ot.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Zl(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new rC(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new $E(this.contents),this.head=new VE(this),this.name=new JE(this),this.cmap=new Rw(this),this.toUnicode={},this.hhea=new WE(this),this.maxp=new ZE(this),this.hmtx=new QE(this),this.post=new XE(this),this.os2=new YE(this),this.loca=new nC(this),this.glyf=new eC(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,o,c;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,u,h,m;for(m=[],f=0,u=(h=this.bbox).length;f<u;f++)t=h[f],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(i=255&(o=this.post.italic_angle),32768&(n=o>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(c=this.familyClass)===1||c===2||c===3||c===4||c===5||c===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var o,c,f,u;for(f=0,c=0,u=(t=""+t).length;0<=u?c<u:c>u;c=0<=u?++c:--c)o=t.charCodeAt(c),f+=this.widthOfGlyph(this.characterToGlyph(o))+i*(1e3/n)||0;return f*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e})();var Fi,Zl=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,o;for(o=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)o.push(this.writeByte(t.charCodeAt(n)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,o,c,f,u,h;return t=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),f=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^o)+16777216*(255^c)+65536*(255^f)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*o+16777216*c+65536*f+256*u+h},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,o,c;for(c=[],i=0,o=t.length;i<o;i++)n=t[i],c.push(this.writeByte(n));return c},e})(),$E=(function(){var e;function t(n){var i,o,c;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,c=this.tableCount;0<=c?o<c:o>c;o=0<=c?++o:--o)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,o,c,f,u,h,m,p,w,j,y,A,T;for(T in y=Object.keys(n).length,h=Math.log(2),w=16*Math.floor(Math.log(y)/h),f=Math.floor(w/h),p=16*y-w,(o=new Zl).writeInt(this.scalarType),o.writeShort(y),o.writeShort(w),o.writeShort(f),o.writeShort(p),c=16*y,m=o.pos+c,u=null,A=[],n)for(j=n[T],o.writeString(T),o.writeInt(e(j)),o.writeInt(m),o.writeInt(j.length),A=A.concat(j),T==="head"&&(u=m),m+=j.length;m%4;)A.push(0),m++;return o.write(A),i=2981146554-e(o.data),o.pos=u+8,o.writeUInt32(i),o.data},e=function(n){var i,o,c,f;for(n=Tw.call(n);n.length%4;)n.push(0);for(c=new Zl(n),o=0,i=0,f=n.length;i<f;i=i+=4)o+=c.readUInt32();return 4294967295&o},t})(),GE={}.hasOwnProperty,yo=function(e,t){for(var n in t)GE.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};Fi=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var VE=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Zl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),Ry=(function(){function e(t,n){var i,o,c,f,u,h,m,p,w,j,y,A,T,E,C,I,G;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),w=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(y=t.readUInt16(),j=y/2,t.pos+=6,c=(function(){var D,te;for(te=[],h=D=0;0<=j?D<j:D>j;h=0<=j?++D:--D)te.push(t.readUInt16());return te})(),t.pos+=2,T=(function(){var D,te;for(te=[],h=D=0;0<=j?D<j:D>j;h=0<=j?++D:--D)te.push(t.readUInt16());return te})(),m=(function(){var D,te;for(te=[],h=D=0;0<=j?D<j:D>j;h=0<=j?++D:--D)te.push(t.readUInt16());return te})(),p=(function(){var D,te;for(te=[],h=D=0;0<=j?D<j:D>j;h=0<=j?++D:--D)te.push(t.readUInt16());return te})(),o=(this.length-t.pos+this.offset)/2,u=(function(){var D,te;for(te=[],h=D=0;0<=o?D<o:D>o;h=0<=o?++D:--D)te.push(t.readUInt16());return te})(),h=C=0,G=c.length;C<G;h=++C)for(E=c[h],i=I=A=T[h];A<=E?I<=E:I>=E;i=A<=E?++I:--I)p[h]===0?f=i+m[h]:(f=u[p[h]/2+(i-A)-(j-h)]||0)!==0&&(f+=m[h]),this.codeMap[i]=65535&f}t.pos=w}return e.encode=function(t,n){var i,o,c,f,u,h,m,p,w,j,y,A,T,E,C,I,G,D,te,de,Y,O,R,V,F,z,ee,le,ve,ae,se,Z,J,fe,U,_,L,q,B,re,oe,Q,ue,ye,ke,Ne;switch(le=new Zl,f=Object.keys(t).sort(function(pe,Fe){return pe-Fe}),n){case"macroman":for(T=0,E=(function(){var pe=[];for(A=0;A<256;++A)pe.push(0);return pe})(),I={0:0},c={},ve=0,J=f.length;ve<J;ve++)I[ue=t[o=f[ve]]]==null&&(I[ue]=++T),c[o]={old:t[o],new:I[t[o]]},E[o]=I[t[o]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(E),{charMap:c,subtable:le.data,maxGlyphID:T+1};case"unicode":for(z=[],w=[],G=0,I={},i={},C=m=null,ae=0,fe=f.length;ae<fe;ae++)I[te=t[o=f[ae]]]==null&&(I[te]=++G),i[o]={old:te,new:I[te]},u=I[te]-o,C!=null&&u===m||(C&&w.push(C),z.push(o),m=u),C=o;for(C&&w.push(C),w.push(65535),z.push(65535),V=2*(R=z.length),O=2*Math.pow(Math.log(R)/Math.LN2,2),j=Math.log(O/2)/Math.LN2,Y=2*R-O,h=[],de=[],y=[],A=se=0,U=z.length;se<U;A=++se){if(F=z[A],p=w[A],F===65535){h.push(0),de.push(0);break}if(F-(ee=i[F].new)>=32768)for(h.push(0),de.push(2*(y.length+R-A)),o=Z=F;F<=p?Z<=p:Z>=p;o=F<=p?++Z:--Z)y.push(i[o].new);else h.push(ee-F),de.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*R+2*y.length),le.writeUInt16(0),le.writeUInt16(V),le.writeUInt16(O),le.writeUInt16(j),le.writeUInt16(Y),oe=0,_=w.length;oe<_;oe++)o=w[oe],le.writeUInt16(o);for(le.writeUInt16(0),Q=0,L=z.length;Q<L;Q++)o=z[Q],le.writeUInt16(o);for(ye=0,q=h.length;ye<q;ye++)u=h[ye],le.writeUInt16(u);for(ke=0,B=de.length;ke<B;ke++)D=de[ke],le.writeUInt16(D);for(Ne=0,re=y.length;Ne<re;Ne++)T=y[Ne],le.writeUInt16(T);return{charMap:i,subtable:le.data,maxGlyphID:G+1}}},e})(),Rw=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)n=new Ry(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,o;return n==null&&(n="macroman"),i=Ry.encode(t,n),(o=new Zl).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e})(),WE=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),YE=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i})(),this.charRange=(function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),XE=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var c;for(i=t.readUInt16(),this.glyphNameIndex=[],c=0;0<=i?c<i:c>i;c=0<=i?++c:--c)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)n=t.readByte(),o.push(this.names.push(t.readString(n)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var f,u,h;for(h=[],c=f=0,u=this.file.maxp.numGlyphs;0<=u?f<u:f>u;c=0<=u?++f:--f)h.push(t.readUInt32());return h}).call(this)}},e})(),KE=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},JE=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,o,c,f,u,h,m,p,w,j;for(t.pos=this.offset,t.readShort(),n=t.readShort(),u=t.readShort(),i=[],c=0;0<=n?c<n:c>n;c=0<=n?++c:--c)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(h={},c=p=0,w=i.length;p<w;c=++p)o=i[c],t.pos=o.offset,m=t.readString(o.length),f=new KE(m,o),h[j=o.nameID]==null&&(h[j]=[]),h[o.nameID].push(f);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e})(),ZE=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),QE=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,o,c,f,u,h;for(t.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,p;for(p=[],n=m=0;0<=o?m<o:m>o;n=0<=o?++m:--m)p.push(t.readInt16());return p})(),this.widths=(function(){var m,p,w,j;for(j=[],m=0,p=(w=this.metrics).length;m<p;m++)c=w[m],j.push(c.advance);return j}).call(this),i=this.widths[this.widths.length-1],h=[],n=f=0;0<=o?f<o:f>o;n=0<=o?++f:--f)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),Tw=[].slice,eC=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,o,c,f,u,h,m,p,w;return t in this.cache?this.cache[t]:(c=this.file.loca,n=this.file.contents,i=c.indexOf(t),(o=c.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,f=(u=new Zl(n.read(o))).readShort(),m=u.readShort(),w=u.readShort(),h=u.readShort(),p=u.readShort(),this.cache[t]=f===-1?new aC(u,m,w,h,p):new tC(u,f,m,w,h,p),this.cache[t]))},e.prototype.encode=function(t,n,i){var o,c,f,u,h;for(f=[],c=[],u=0,h=n.length;u<h;u++)o=t[n[u]],c.push(f.length),o&&(f=f.concat(o.encode(i)));return c.push(f.length),{table:f,offsets:c}},e})(),tC=(function(){function e(t,n,i,o,c,f){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=o,this.xMax=c,this.yMax=f,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),aC=(function(){function e(t,n,i,o,c){var f,u;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=c,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;u=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&u;)f.pos+=1&u?4:2,128&u?f.pos+=8:64&u?f.pos+=4:8&u&&(f.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new Zl(Tw.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),nC=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yo(e,Fi),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,c;for(c=[],i=0,o=this.length;i<o;i+=2)c.push(2*t.readUInt16());return c}).call(this):(function(){var o,c;for(c=[],i=0,o=this.length;i<o;i+=4)c.push(t.readUInt32());return c}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),o=0,c=0,f=0;f<i.length;++f)if(i[f]=o,c<n.length&&n[c]==f){++c,i[f]=o;var u=this.offsets[f],h=this.offsets[f+1]-u;h>0&&(o+=h)}for(var m=new Array(4*i.length),p=0;p<i.length;++p)m[4*p+3]=255&i[p],m[4*p+2]=(65280&i[p])>>8,m[4*p+1]=(16711680&i[p])>>16,m[4*p]=(4278190080&i[p])>>24;return m},e})(),rC=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,o,c;for(n in o=this.font.cmap.tables[0].codeMap,t={},c=this.subset)i=c[n],t[n]=o[i];return t},e.prototype.glyphsFor=function(t){var n,i,o,c,f,u,h;for(o={},f=0,u=t.length;f<u;f++)o[c=t[f]]=this.font.glyf.glyphFor(c);for(c in n=[],o)(i=o[c])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(c in h=this.glyphsFor(n))i=h[c],o[c]=i;return o},e.prototype.encode=function(t,n){var i,o,c,f,u,h,m,p,w,j,y,A,T,E,C;for(o in i=Rw.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(t),y={0:0},C=i.charMap)y[(h=C[o]).old]=h.new;for(A in j=i.maxGlyphID,f)A in y||(y[A]=j++);return p=(function(I){var G,D;for(G in D={},I)D[I[G]]=G;return D})(y),w=Object.keys(p).sort(function(I,G){return I-G}),T=(function(){var I,G,D;for(D=[],I=0,G=w.length;I<G;I++)u=w[I],D.push(p[u]);return D})(),c=this.font.glyf.encode(f,T,y),m=this.font.loca.encode(c.offsets,T),E={cmap:this.font.cmap.raw(),glyf:c.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},e})();Ot.API.PDFObject=(function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,o,c,f;if(Array.isArray(n))return"["+(function(){var u,h,m;for(m=[],u=0,h=n.length;u<h;u++)i=n[u],m.push(t.convert(i));return m})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in c=["<<"],n)f=n[o],c.push("/"+o+" "+t.convert(f));return c.push(">>"),c.join(`
`)}return""+n},t})();function Ow(e,t,n,i,o){i=i||{};var c=1.15,f=o.internal.scaleFactor,u=o.internal.getFontSize()/f,h=o.getLineHeightFactor?o.getLineHeightFactor():c,m=u*h,p=/\r\n|\r|\n/g,w="",j=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(w=typeof e=="string"?e.split(p):e,j=w.length||1),n+=u*(2-c),i.valign==="middle"?n-=j/2*m:i.valign==="bottom"&&(n-=j*m),i.halign==="center"||i.halign==="right"){var y=u;if(i.halign==="center"&&(y*=.5),w&&j>=1){for(var A=0;A<w.length;A++)o.text(w[A],t-o.getStringUnitWidth(w[A])*y,n),n+=m;return o}t-=o.getStringUnitWidth(e)*y}return i.halign==="justify"?o.text(e,t,n,{maxWidth:i.maxWidth||100,align:"justify"}):o.text(e,t,n),o}var Ty={},Zd=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:Ty=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var i,o,c;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var f=this.jsPDFDocument.internal.getFont(),u=f.fontStyle,h=f.fontName;if(t.font&&(h=t.font),t.fontStyle){u=t.fontStyle;var m=this.getFontList()[h];m&&m.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(m[0]),u=m[0])}if(this.jsPDFDocument.setFont(h,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var p=e.unifyColor(t.fillColor);p&&(i=this.jsPDFDocument).setFillColor.apply(i,p),p=e.unifyColor(t.textColor),p&&(o=this.jsPDFDocument).setTextColor.apply(o,p),p=e.unifyColor(t.lineColor),p&&(c=this.jsPDFDocument).setDrawColor.apply(c,p),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,i){return this.jsPDFDocument.splitTextToSize(t,n,i)},e.prototype.rect=function(t,n,i,o,c){return this.jsPDFDocument.rect(t,n,i,o,c)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Ty||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),wp=function(e,t){return wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},wp(e,t)};function Mw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Dw=(function(e){Mw(t,e);function t(n){var i=e.call(this)||this;return i._element=n,i}return t})(Array);function sC(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function iC(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function n0(e,t,n){n.applyStyles(t,!0);var i=Array.isArray(e)?e:[e],o=i.map(function(c){return n.getTextWidth(c)}).reduce(function(c,f){return Math.max(c,f)},0);return o}function Fw(e,t,n,i){var o=t.settings.tableLineWidth,c=t.settings.tableLineColor;e.applyStyles({lineWidth:o,lineColor:c});var f=Pw(o,!1);f&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),i.y-n.y,f)}function Pw(e,t){var n=e>0,i=t||t===0;return n&&i?"DF":n?"S":i?"F":null}function w0(e,t){var n,i,o,c;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(i=e.top)!==null&&i!==void 0?i:t,right:(o=e.right)!==null&&o!==void 0?o:t,bottom:(c=e.bottom)!==null&&c!==void 0?c:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Uw(e,t){var n=w0(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function oC(e,t,n,i,o){var c={},f=1.3333333333333333,u=yg(t,function(G){return o.getComputedStyle(G).backgroundColor});u!=null&&(c.fillColor=u);var h=yg(t,function(G){return o.getComputedStyle(G).color});h!=null&&(c.textColor=h);var m=cC(i,n);m&&(c.cellPadding=m);var p="borderTopColor",w=f*n,j=i.borderTopWidth;if(i.borderBottomWidth===j&&i.borderRightWidth===j&&i.borderLeftWidth===j){var y=(parseFloat(j)||0)/w;y&&(c.lineWidth=y)}else c.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/w,right:(parseFloat(i.borderRightWidth)||0)/w,bottom:(parseFloat(i.borderBottomWidth)||0)/w,left:(parseFloat(i.borderLeftWidth)||0)/w},c.lineWidth.top||(c.lineWidth.right?p="borderRightColor":c.lineWidth.bottom?p="borderBottomColor":c.lineWidth.left&&(p="borderLeftColor"));var A=yg(t,function(G){return o.getComputedStyle(G)[p]});A!=null&&(c.lineColor=A);var T=["left","right","center","justify"];T.indexOf(i.textAlign)!==-1&&(c.halign=i.textAlign),T=["middle","bottom","top"],T.indexOf(i.verticalAlign)!==-1&&(c.valign=i.verticalAlign);var E=parseInt(i.fontSize||"");isNaN(E)||(c.fontSize=E/f);var C=lC(i);C&&(c.fontStyle=C);var I=(i.fontFamily||"").toLowerCase();return e.indexOf(I)!==-1&&(c.font=I),c}function lC(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function yg(e,t){var n=Bw(e,t);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var o=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],c=parseInt(i[4]);return c===0||isNaN(o[0])||isNaN(o[1])||isNaN(o[2])?null:o}function Bw(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:Bw(e.parentElement,t):n}function cC(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/t),o=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,c=n.map(function(u){return parseInt(u||"0")/i}),f=w0(c,0);return o>f.top&&(f.top=o),o>f.bottom&&(f.bottom=o),f}function zw(e,t,n,i,o){var c,f;i===void 0&&(i=!1),o===void 0&&(o=!1);var u;typeof t=="string"?u=n.document.querySelector(t):u=t;var h=Object.keys(e.getFontList()),m=e.scaleFactor(),p=[],w=[],j=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:p,body:w,foot:j};for(var y=0;y<u.rows.length;y++){var A=u.rows[y],T=(f=(c=A?.parentElement)===null||c===void 0?void 0:c.tagName)===null||f===void 0?void 0:f.toLowerCase(),E=dC(h,m,n,A,i,o);E&&(T==="thead"?p.push(E):T==="tfoot"?j.push(E):w.push(E))}return{head:p,body:w,foot:j}}function dC(e,t,n,i,o,c){for(var f=new Dw(i),u=0;u<i.cells.length;u++){var h=i.cells[u],m=n.getComputedStyle(h);if(o||m.display!=="none"){var p=void 0;c&&(p=oC(e,h,t,m,n)),f.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:p,_element:h,content:uC(h)})}}var w=n.getComputedStyle(i);if(f.length>0&&(o||w.display!=="none"))return f}function uC(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function fC(e,t,n){for(var i=0,o=[e,t,n];i<o.length;i++){var c=o[i];c&&typeof c!="object"&&console.error("The options parameter should be of type object, is: "+typeof c),c.startY&&typeof c.startY!="number"&&(console.error("Invalid value for startY option",c.startY),delete c.startY)}}function el(e,t,n,i,o){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(e),f=1;f<arguments.length;f++){var u=arguments[f];if(u!=null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(c[h]=u[h])}return c}function Iw(e,t){var n=new Zd(e),i=n.getDocumentOptions(),o=n.getGlobalOptions();fC(o,i,t);var c=el({},o,i,t),f;typeof window<"u"&&(f=window);var u=hC(o,i,t),h=mC(o,i,t),m=gC(n,c),p=xC(n,c,f);return{id:t.tableId,content:p,hooks:h,styles:u,settings:m}}function hC(e,t,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},o=function(h){if(h==="columnStyles"){var m=e[h],p=t[h],w=n[h];i.columnStyles=el({},m,p,w)}else{var j=[e,t,n],y=j.map(function(A){return A[h]||{}});i[h]=el({},y[0],y[1],y[2])}},c=0,f=Object.keys(i);c<f.length;c++){var u=f[c];o(u)}return i}function mC(e,t,n){for(var i=[e,t,n],o={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},c=0,f=i;c<f.length;c++){var u=f[c];u.didParseCell&&o.didParseCell.push(u.didParseCell),u.willDrawCell&&o.willDrawCell.push(u.willDrawCell),u.didDrawCell&&o.didDrawCell.push(u.didDrawCell),u.willDrawPage&&o.willDrawPage.push(u.willDrawPage),u.didDrawPage&&o.didDrawPage.push(u.didDrawPage)}return o}function gC(e,t){var n,i,o,c,f,u,h,m,p,w,j,y,A=w0(t.margin,40/e.scaleFactor()),T=(n=pC(e,t.startY))!==null&&n!==void 0?n:A.top,E;t.showFoot===!0?E="everyPage":t.showFoot===!1?E="never":E=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var C;t.showHead===!0?C="everyPage":t.showHead===!1?C="never":C=(o=t.showHead)!==null&&o!==void 0?o:"everyPage";var I=(c=t.useCss)!==null&&c!==void 0?c:!1,G=t.theme||(I?"plain":"striped"),D=!!t.horizontalPageBreak,te=(f=t.horizontalPageBreakRepeat)!==null&&f!==void 0?f:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:I,theme:G,startY:T,margin:A,pageBreak:(h=t.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(m=t.rowPageBreak)!==null&&m!==void 0?m:"auto",tableWidth:(p=t.tableWidth)!==null&&p!==void 0?p:"auto",showHead:C,showFoot:E,tableLineWidth:(w=t.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(j=t.tableLineColor)!==null&&j!==void 0?j:200,horizontalPageBreak:D,horizontalPageBreakRepeat:te,horizontalPageBreakBehaviour:(y=t.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function pC(e,t){var n=e.getLastAutoTable(),i=e.scaleFactor(),o=e.pageNumber(),c=!1;if(n&&n.startPageNumber){var f=n.startPageNumber+n.pageNumber-1;c=f===o}return typeof t=="number"?t:(t==null||t===!1)&&c&&n?.finalY!=null?n.finalY+20/i:null}function xC(e,t,n){var i=t.head||[],o=t.body||[],c=t.foot||[];if(t.html){var f=t.includeHiddenHtml;if(n){var u=zw(e,t.html,n,f,t.useCss)||{};i=u.head||i,o=u.body||i,c=u.foot||i}else console.error("Cannot parse html in non browser environment")}var h=t.columns||bC(i,o,c);return{columns:h,head:i,body:o,foot:c}}function bC(e,t,n){var i=e[0]||t[0]||n[0]||[],o=[];return Object.keys(i).filter(function(c){return c!=="_element"}).forEach(function(c){var f=1,u;Array.isArray(i)?u=i[parseInt(c)]:u=i[c],typeof u=="object"&&!Array.isArray(u)&&(f=u?.colSpan||1);for(var h=0;h<f;h++){var m=void 0;Array.isArray(i)?m=o.length:m=c+(h>0?"_".concat(h):"");var p={dataKey:m};o.push(p)}}),o}var Np=(function(){function e(t,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=t.getDocument()}return e})(),yC=(function(e){Mw(t,e);function t(n,i,o,c,f,u){var h=e.call(this,n,i,u)||this;return h.cell=o,h.row=c,h.column=f,h.section=c.section,h}return t})(Np),vC=(function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,i,o,c,f){for(var u=0,h=n;u<h.length;u++){var m=h[u],p=new yC(t,this,i,o,c,f),w=m(p)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],w)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var i=0,o=this.hooks.didDrawPage;i<o.length;i++){var c=o[i];c(new Np(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var i=0,o=this.hooks.willDrawPage;i<o.length;i++){var c=o[i];c(new Np(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(o,c){return o+c.wrappedWidth},0);return n}else{var i=this.settings.margin;return t-i.left-i.right}},e})(),qw=(function(){function e(t,n,i,o,c){c===void 0&&(c=!1),this.height=0,this.raw=t,t instanceof Dw&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=i,this.cells=o,this.spansMultiplePages=c}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(i,o){var c;return Math.max(i,((c=n.cells[o.index])===null||c===void 0?void 0:c.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(i){var o=n.cells[i.index];return o?o.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var i=this;return t.reduce(function(o,c){var f=i.cells[c.index];if(!f)return 0;var u=n.getLineHeight(f.styles.fontSize),h=f.padding("vertical"),m=h+u;return m>o?m:o},0)},e})(),Hw=(function(){function e(t,n,i){var o;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=t;var c=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,c=(o=t.content)!==null&&o!==void 0?o:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var f=c!=null?""+c:"",u=/\r\n|\r|\n/g;this.text=f.split(u)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var o=this.width-this.padding("horizontal");i=this.x+o/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,o=this.styles.fontSize/t*n,c=i*o+this.padding("vertical");return Math.max(c,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=w0(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e})(),wC=(function(){function e(t,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=i}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,i=0,o=t.allRows();i<o.length;i++){var c=o[i],f=c.cells[this.index];f&&typeof f.styles.cellWidth=="number"&&(n=Math.max(n,f.styles.cellWidth))}return n},e})();function NC(e,t){jC(e,t);var n=[],i=0;t.columns.forEach(function(c){var f=c.getMaxCustomCellWidth(t);f?c.width=f:(c.width=c.wrappedWidth,n.push(c)),i+=c.width});var o=t.getWidth(e.pageSize().width)-i;o&&(o=jp(n,o,function(c){return Math.max(c.minReadableWidth,c.minWidth)})),o&&(o=jp(n,o,function(c){return c.minWidth})),o=Math.abs(o),!t.settings.horizontalPageBreak&&o>.1/e.scaleFactor()&&(o=o<1?o:Math.round(o),console.log("Of the table content, ".concat(o," units width could not fit page"))),AC(t),kC(t,e),SC(t)}function jC(e,t){var n=e.scaleFactor(),i=t.settings.horizontalPageBreak,o=Uw(e,t);t.allRows().forEach(function(c){for(var f=0,u=t.columns;f<u.length;f++){var h=u[f],m=c.cells[h.index];if(m){var p=t.hooks.didParseCell;t.callCellHooks(e,p,m,c,h,null);var w=m.padding("horizontal");m.contentWidth=n0(m.text,m.styles,e)+w;var j=n0(m.text.join(" ").split(/[^\S\u00A0]+/),m.styles,e);if(m.minReadableWidth=j+m.padding("horizontal"),typeof m.styles.cellWidth=="number")m.minWidth=m.styles.cellWidth,m.wrappedWidth=m.styles.cellWidth;else if(m.styles.cellWidth==="wrap"||i===!0)m.contentWidth>o?(m.minWidth=o,m.wrappedWidth=o):(m.minWidth=m.contentWidth,m.wrappedWidth=m.contentWidth);else{var y=10/n;m.minWidth=m.styles.minCellWidth||y,m.wrappedWidth=m.contentWidth,m.minWidth>m.wrappedWidth&&(m.wrappedWidth=m.minWidth)}}}}),t.allRows().forEach(function(c){for(var f=0,u=t.columns;f<u.length;f++){var h=u[f],m=c.cells[h.index];if(m&&m.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,m.wrappedWidth),h.minWidth=Math.max(h.minWidth,m.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,m.minReadableWidth);else{var p=t.styles.columnStyles[h.dataKey]||t.styles.columnStyles[h.index]||{},w=p.cellWidth||p.minCellWidth;w&&typeof w=="number"&&(h.minWidth=w,h.wrappedWidth=w)}m&&(m.colSpan>1&&!h.minWidth&&(h.minWidth=m.minWidth),m.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=m.minWidth))}})}function jp(e,t,n){for(var i=t,o=e.reduce(function(y,A){return y+A.wrappedWidth},0),c=0;c<e.length;c++){var f=e[c],u=f.wrappedWidth/o,h=i*u,m=f.width+h,p=n(f),w=m<p?p:m;t-=w-f.width,f.width=w}if(t=Math.round(t*1e10)/1e10,t){var j=e.filter(function(y){return t<0?y.width>n(y):!0});j.length&&(t=jp(j,t,n))}return t}function SC(e){for(var t={},n=1,i=e.allRows(),o=0;o<i.length;o++)for(var c=i[o],f=0,u=e.columns;f<u.length;f++){var h=u[f],m=t[h.index];if(n>1)n--,delete c.cells[h.index];else if(m)m.cell.height+=c.height,n=m.cell.colSpan,delete c.cells[h.index],m.left--,m.left<=1&&delete t[h.index];else{var p=c.cells[h.index];if(!p)continue;if(p.height=c.height,p.rowSpan>1){var w=i.length-o,j=p.rowSpan>w?w:p.rowSpan;t[h.index]={cell:p,left:j,row:c}}}}}function AC(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var i=t[n],o=null,c=0,f=0,u=0;u<e.columns.length;u++){var h=e.columns[u];if(f-=1,f>1&&e.columns[u+1])c+=h.width,delete i.cells[h.index];else if(o){var m=o;delete i.cells[h.index],o=null,m.width=h.width+c}else{var m=i.cells[h.index];if(!m)continue;if(f=m.colSpan,c=0,m.colSpan>1){o=m,c+=h.width;continue}m.width=h.width+c}}}function kC(e,t){for(var n={count:0,height:0},i=0,o=e.allRows();i<o.length;i++){for(var c=o[i],f=0,u=e.columns;f<u.length;f++){var h=u[f],m=c.cells[h.index];if(m){t.applyStyles(m.styles,!0);var p=m.width-m.padding("horizontal");if(m.styles.overflow==="linebreak")m.text=t.splitTextToSize(m.text,p+1/t.scaleFactor(),{fontSize:m.styles.fontSize});else if(m.styles.overflow==="ellipsize")m.text=Oy(m.text,p,m.styles,t,"...");else if(m.styles.overflow==="hidden")m.text=Oy(m.text,p,m.styles,t,"");else if(typeof m.styles.overflow=="function"){var w=m.styles.overflow(m.text,p);typeof w=="string"?m.text=[w]:m.text=w}m.contentHeight=m.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var j=m.contentHeight/m.rowSpan;m.rowSpan>1&&n.count*n.height<j*m.rowSpan?n={height:j,count:m.rowSpan}:n&&n.count>0&&n.height>j&&(j=n.height),j>c.height&&(c.height=j)}}n.count--}}function Oy(e,t,n,i,o){return e.map(function(c){return _C(c,t,n,i,o)})}function _C(e,t,n,i,o){var c=1e4*i.scaleFactor();if(t=Math.ceil(t*c)/c,t>=n0(e,n,i))return e;for(;t<n0(e+o,n,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+o}function $w(e,t){var n=new Zd(e),i=EC(t,n.scaleFactor()),o=new vC(t,i);return NC(n,o),n.applyStyles(n.userStyles),o}function EC(e,t){var n=e.content,i=LC(n.columns);if(n.head.length===0){var o=My(i,"head");o&&n.head.push(o)}if(n.foot.length===0){var o=My(i,"foot");o&&n.foot.push(o)}var c=e.settings.theme,f=e.styles;return{columns:i,head:vg("head",n.head,i,f,c,t),body:vg("body",n.body,i,f,c,t),foot:vg("foot",n.foot,i,f,c,t)}}function vg(e,t,n,i,o,c){var f={},u=t.map(function(h,m){for(var p=0,w={},j=0,y=0,A=0,T=n;A<T.length;A++){var E=T[A];if(f[E.index]==null||f[E.index].left===0)if(y===0){var C=void 0;Array.isArray(h)?C=h[E.index-j-p]:C=h[E.dataKey];var I={};typeof C=="object"&&!Array.isArray(C)&&(I=C?.styles||{});var G=RC(e,E,m,o,i,c,I),D=new Hw(C,G,e);w[E.dataKey]=D,w[E.index]=D,y=D.colSpan-1,f[E.index]={left:D.rowSpan-1,times:y}}else y--,j++;else f[E.index].left--,y=f[E.index].times,p++}return new qw(h,m,e,w)});return u}function My(e,t){var n={};return e.forEach(function(i){if(i.raw!=null){var o=CC(t,i.raw);o!=null&&(n[i.dataKey]=o)}}),Object.keys(n).length>0?n:null}function CC(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function LC(e){return e.map(function(t,n){var i,o;return typeof t=="object"?o=(i=t.dataKey)!==null&&i!==void 0?i:n:o=n,new wC(o,t,n)})}function RC(e,t,n,i,o,c,f){var u=iC(i),h;e==="head"?h=o.headStyles:e==="body"?h=o.bodyStyles:e==="foot"&&(h=o.footStyles);var m=el({},u.table,u[e],o.styles,h),p=o.columnStyles[t.dataKey]||o.columnStyles[t.index]||{},w=e==="body"?p:{},j=e==="body"&&n%2===0?el({},u.alternateRow,o.alternateRowStyles):{},y=sC(c),A=el({},y,m,j,w);return el(A,f)}function TC(e,t,n){var i;n===void 0&&(n={});var o=Uw(e,t),c=new Map,f=[],u=[],h=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?h=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(h=[t.settings.horizontalPageBreakRepeat]),h.forEach(function(j){var y=t.columns.find(function(A){return A.dataKey===j||A.index===j});y&&!c.has(y.index)&&(c.set(y.index,!0),f.push(y.index),u.push(t.columns[y.index]),o-=y.wrappedWidth)});for(var m=!0,p=(i=n?.start)!==null&&i!==void 0?i:0;p<t.columns.length;){if(c.has(p)){p++;continue}var w=t.columns[p].wrappedWidth;if(m||o>=w)m=!1,f.push(p),u.push(t.columns[p]),o-=w;else break;p++}return{colIndexes:f,columns:u,lastIndex:p-1}}function OC(e,t){for(var n=[],i=0;i<t.columns.length;i++){var o=TC(e,t,{start:i});o.columns.length&&(n.push(o),i=o.lastIndex)}return n}function Gw(e,t){var n=t.settings,i=n.startY,o=n.margin,c={x:o.left,y:i},f=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=i+o.bottom+f;if(n.pageBreak==="avoid"){var h=t.body,m=h.reduce(function(j,y){return j+y.height},0);u+=m}var p=new Zd(e);(n.pageBreak==="always"||n.startY!=null&&u>p.pageSize().height)&&(Ww(p),c.y=o.top),t.callWillDrawPageHooks(p,c);var w=el({},c);t.startPageNumber=p.pageNumber(),n.horizontalPageBreak?MC(p,t,w,c):(p.applyStyles(p.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(j){return il(p,t,j,c,t.columns)}),p.applyStyles(p.userStyles),t.body.forEach(function(j,y){var A=y===t.body.length-1;r0(p,t,j,A,w,c,t.columns)}),p.applyStyles(p.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(j){return il(p,t,j,c,t.columns)})),Fw(p,t,w,c),t.callEndPageHooks(p,c),t.finalY=c.y,e.lastAutoTable=t,p.applyStyles(p.userStyles)}function MC(e,t,n,i){var o=OC(e,t),c=t.settings;if(c.horizontalPageBreakBehaviour==="afterAllRows")o.forEach(function(m,p){e.applyStyles(e.userStyles),p>0?df(e,t,n,i,m.columns,!0):Dy(e,t,i,m.columns),DC(e,t,n,i,m.columns),wg(e,t,i,m.columns)});else for(var f=-1,u=o[0],h=function(){var m=f;if(u){e.applyStyles(e.userStyles);var p=u.columns;f>=0?df(e,t,n,i,p,!0):Dy(e,t,i,p),m=Fy(e,t,f+1,i,p),wg(e,t,i,p)}var w=m-f;o.slice(1).forEach(function(j){e.applyStyles(e.userStyles),df(e,t,n,i,j.columns,!0),Fy(e,t,f+1,i,j.columns,w),wg(e,t,i,j.columns)}),f=m};f<t.body.length-1;)h()}function Dy(e,t,n,i){var o=t.settings;e.applyStyles(e.userStyles),(o.showHead==="firstPage"||o.showHead==="everyPage")&&t.head.forEach(function(c){return il(e,t,c,n,i)})}function DC(e,t,n,i,o){e.applyStyles(e.userStyles),t.body.forEach(function(c,f){var u=f===t.body.length-1;r0(e,t,c,u,n,i,o)})}function Fy(e,t,n,i,o,c){e.applyStyles(e.userStyles),c=c??t.body.length;var f=Math.min(n+c,t.body.length),u=-1;return t.body.slice(n,f).forEach(function(h,m){var p=n+m===t.body.length-1,w=Vw(e,t,p,i);h.canEntireRowFit(w,o)&&(il(e,t,h,i,o),u=n+m)}),u}function wg(e,t,n,i){var o=t.settings;e.applyStyles(e.userStyles),(o.showFoot==="lastPage"||o.showFoot==="everyPage")&&t.foot.forEach(function(c){return il(e,t,c,n,i)})}function FC(e,t,n){var i=n.getLineHeight(e.styles.fontSize),o=e.padding("vertical"),c=Math.floor((t-o)/i);return Math.max(0,c)}function PC(e,t,n,i){var o={};e.spansMultiplePages=!0,e.height=0;for(var c=0,f=0,u=n.columns;f<u.length;f++){var h=u[f],m=e.cells[h.index];if(m){Array.isArray(m.text)||(m.text=[m.text]);var p=new Hw(m.raw,m.styles,m.section);p=el(p,m),p.text=[];var w=FC(m,t,i);m.text.length>w&&(p.text=m.text.splice(w,m.text.length));var j=i.scaleFactor(),y=i.getLineHeightFactor();m.contentHeight=m.getContentHeight(j,y),m.contentHeight>=t&&(m.contentHeight=t,p.styles.minCellHeight-=t),m.contentHeight>e.height&&(e.height=m.contentHeight),p.contentHeight=p.getContentHeight(j,y),p.contentHeight>c&&(c=p.contentHeight),o[h.index]=p}}var A=new qw(e.raw,-1,e.section,o,!0);A.height=c;for(var T=0,E=n.columns;T<E.length;T++){var h=E[T],p=A.cells[h.index];p&&(p.height=A.height);var m=e.cells[h.index];m&&(m.height=e.height)}return A}function UC(e,t,n,i){var o=e.pageSize().height,c=i.settings.margin,f=c.top+c.bottom,u=o-f;t.section==="body"&&(u-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var h=t.getMinimumRowHeight(i.columns,e),m=h<n;if(h>u)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!m)return!1;var p=t.hasRowSpan(i.columns),w=t.getMaxCellHeight(i.columns)>u;return w?(p&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||i.settings.rowPageBreak==="avoid")}function r0(e,t,n,i,o,c,f){var u=Vw(e,t,i,c);if(n.canEntireRowFit(u,f))il(e,t,n,c,f);else if(UC(e,n,u,t)){var h=PC(n,u,t,e);il(e,t,n,c,f),df(e,t,o,c,f),r0(e,t,h,i,o,c,f)}else df(e,t,o,c,f),r0(e,t,n,i,o,c,f)}function il(e,t,n,i,o){i.x=t.settings.margin.left;for(var c=0,f=o;c<f.length;c++){var u=f[c],h=n.cells[u.index];if(!h){i.x+=u.width;continue}e.applyStyles(h.styles),h.x=i.x,h.y=i.y;var m=t.callCellHooks(e,t.hooks.willDrawCell,h,n,u,i);if(m===!1){i.x+=u.width;continue}BC(e,h,i);var p=h.getTextPos();Ow(h.text,p.x,p.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,h,n,u,i),i.x+=u.width}i.y+=n.height}function BC(e,t,n){var i=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof i.lineWidth=="number"){var o=Pw(i.lineWidth,i.fillColor);o&&e.rect(t.x,n.y,t.width,t.height,o)}else typeof i.lineWidth=="object"&&(i.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),zC(e,t,n,i.lineWidth))}function zC(e,t,n,i){var o,c,f,u;i.top&&(o=n.x,c=n.y,f=n.x+t.width,u=n.y,i.right&&(f+=.5*i.right),i.left&&(o-=.5*i.left),h(i.top,o,c,f,u)),i.bottom&&(o=n.x,c=n.y+t.height,f=n.x+t.width,u=n.y+t.height,i.right&&(f+=.5*i.right),i.left&&(o-=.5*i.left),h(i.bottom,o,c,f,u)),i.left&&(o=n.x,c=n.y,f=n.x,u=n.y+t.height,i.top&&(c-=.5*i.top),i.bottom&&(u+=.5*i.bottom),h(i.left,o,c,f,u)),i.right&&(o=n.x+t.width,c=n.y,f=n.x+t.width,u=n.y+t.height,i.top&&(c-=.5*i.top),i.bottom&&(u+=.5*i.bottom),h(i.right,o,c,f,u));function h(m,p,w,j,y){e.getDocument().setLineWidth(m),e.getDocument().line(p,w,j,y,"S")}}function Vw(e,t,n,i){var o=t.settings.margin.bottom,c=t.settings.showFoot;return(c==="everyPage"||c==="lastPage"&&n)&&(o+=t.getFootHeight(t.columns)),e.pageSize().height-i.y-o}function df(e,t,n,i,o,c){o===void 0&&(o=[]),c===void 0&&(c=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!c&&t.foot.forEach(function(u){return il(e,t,u,i,o)}),t.callEndPageHooks(e,i);var f=t.settings.margin;Fw(e,t,n,i),Ww(e),t.pageNumber++,i.x=f.left,i.y=f.top,n.y=f.top,t.callWillDrawPageHooks(e,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return il(e,t,u,i,o)}),e.applyStyles(e.userStyles))}function Ww(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function IC(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],o=Iw(this,i),c=$w(this,o);return Gw(this,c),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,i,o){Ow(t,n,i,o,this)},e.API.autoTableSetDefaults=function(t){return Zd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Zd.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var o=new Zd(this),c=zw(o,t,window,n,!1),f=c.head,u=c.body,h=((i=f[0])===null||i===void 0?void 0:i.map(function(m){return m.content}))||[];return{columns:h,rows:u,data:u}}}var Ng;function Sp(e,t){var n=Iw(e,t),i=$w(e,n);Gw(e,i)}try{if(typeof window<"u"&&window){var Py=window,Uy=Py.jsPDF||((Ng=Py.jspdf)===null||Ng===void 0?void 0:Ng.jsPDF);Uy&&IC(Uy)}}catch(e){console.error("Could not apply autoTable plugin",e)}const qC=(e,t)=>{if(!e||e.length===0){console.warn("No data to export");return}const n=Qp.unparse(e),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");if(o.download!==void 0){const c=URL.createObjectURL(i);o.setAttribute("href",c),o.setAttribute("download",`${t}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},HC=async(e,t,n,i,o,c,f="landscape",u)=>{if(!e||e.length===0){console.warn("No data to export");return}const h=new Ot({orientation:f}),m=h.internal.pageSize.getWidth();let p="";if(u)try{p=await Yw(u)}catch(te){console.error("Failed to load logo for PDF:",te)}p&&h.addImage(p,"PNG",m-35-14,8,35,35,void 0,"FAST"),h.setFont("helvetica","bold"),h.setFontSize(18),h.text(n,14,20),h.setFontSize(10),h.setTextColor(79,70,229),h.setFont("helvetica","regular");const w="Generated on: ";h.text(w,14,28);const j=h.getTextWidth(w);h.setTextColor(0,0,0),h.setFont("helvetica","regular"),h.text(new Date().toLocaleString(),14+j,28);let y=34;if(o){h.setTextColor(79,70,229),h.setFont("helvetica","regular");const te="Generated by: ";h.text(te,14,y);const de=h.getTextWidth(te);h.setTextColor(0,0,0),h.setFont("helvetica","regular"),h.text(o,14+de,y),y+=6}h.setTextColor(79,70,229),h.setFont("helvetica","regular");const A="Filters: ";h.text(A,14,y);const T=h.getTextWidth(A);h.setTextColor(0,0,0),h.setFont("helvetica","regular");const E=c||"-NIL-",C=m-T-28,I=h.splitTextToSize(E,C);h.text(I,14+T,y),y+=I.length*5+6,y<45&&p&&(y=48);const G=e.map(te=>{const de={};return t.forEach(Y=>{de[Y.header]=te[Y.header]||""}),de}),D=t.map(te=>({header:te.header,dataKey:te.header}));Sp(h,{head:[D.map(te=>te.header)],body:G.map(te=>D.map(de=>te[de.dataKey])),startY:y,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[79,70,229]},margin:{left:14,right:14}}),h.save(`${i}.pdf`)},Yw=e=>new Promise((t,n)=>{const i=new Image;i.crossOrigin="Anonymous",i.onload=()=>{const o=document.createElement("canvas"),c=2;o.width=i.width*c,o.height=i.height*c;const f=o.getContext("2d");f?(f.scale(c,c),f.drawImage(i,0,0),t(o.toDataURL("image/png"))):n(new Error("Canvas context not available"))},i.onerror=()=>n(new Error(`Failed to load image: ${e}`)),i.src=e}),$C=async(e,t,n,i,o,c,f="landscape")=>{const u=new Ot({orientation:f}),h=u.internal.pageSize.getWidth(),m=u.internal.pageSize.getHeight(),p=D=>{if(!D)return"N/A";if(typeof D=="string")return D;const te=D.fullName||"Unknown",de=D.designation?`, ${D.designation}`:"",Y=D.labName?` (${D.labName})`:"";return`${te}${de}${Y}`};let w="";try{w=await Yw(c)}catch(D){console.error("Failed to load logo for PDF:",D)}const j=D=>{D.setFillColor(255,255,255),D.rect(0,0,h,60,"F"),D.setDrawColor(79,70,229),D.setLineWidth(1.5),D.line(0,0,h,0),w&&D.addImage(w,"PNG",14,8,40,40,void 0,"FAST");const te=h-14,de=n.toLowerCase().includes("local"),Y=e.labName||e.createdByDetails?.labName||"";D.setTextColor(79,70,229),D.setFont("helvetica","bold"),D.setFontSize(f==="landscape"?10:9),D.text("COUNCIL OF SCIENTIFIC & INDUSTRIAL RESEARCH",te,15,{align:"right"}),de&&Y?(D.setFontSize(f==="landscape"?18:16),D.text(Y.toUpperCase(),te,28,{align:"right"}),D.setTextColor(31,41,55),D.setFontSize(f==="landscape"?24:20),D.text("REFERENCE REPORT",te,42,{align:"right"}),D.setFontSize(f==="landscape"?9:8),D.setFont("helvetica","normal"),D.setTextColor(107,114,128),D.text("LOCAL REFERENCE MANAGEMENT SYSTEM",te,50,{align:"right"})):(D.setTextColor(31,41,55),D.setFontSize(f==="landscape"?26:22),D.text("REFERENCE REPORT",te,35,{align:"right"}),D.setFontSize(f==="landscape"?11:10),D.setFont("helvetica","normal"),D.setTextColor(107,114,128),D.text("GLOBAL REFERENCE TRACKING SYSTEM",te,45,{align:"right"})),D.setDrawColor(229,231,235),D.setLineWidth(.5),D.line(14,58,h-14,58)},y=(D,te,de)=>{const Y=m-15;D.setDrawColor(79,70,229),D.setLineWidth(.5),D.line(14,Y-5,h-14,Y-5),D.setFontSize(8),D.setTextColor(156,163,175);const O=`Generated by: ${o||"System"} on ${new Date().toLocaleString()}`,R=` ${new Date().getFullYear()} CSIR`,V=`Page ${te} of ${de}`,z=(h-30-36)/2,ee=D.splitTextToSize(O,z),le=D.splitTextToSize(R,z);D.text(ee,14,Y),D.text(le,h-14,Y,{align:"right"}),D.setFont("helvetica","bold"),D.setTextColor(107,114,128),D.text(V,h/2,Y,{align:"center"})};let A=70;u.setTextColor(0,0,0),u.setFontSize(14),u.setFont("helvetica","bold"),u.text("Reference Details",14,A),A+=2,u.setDrawColor(229,231,235),u.line(14,A,h-14,A),A+=8;const T=[["Subject:",e.subject||"N/A"],["Ref ID:",e.refId||"N/A"],["Status:",e.status||"N/A"],["Priority:",e.priority||"N/A"],["Delivery Mode:",e.deliveryMode||"N/A"],["E-office No:",e.eofficeNo||"N/A"],["Created By:",p(e.createdBy)],["Created On:",new Date(e.createdAt).toLocaleDateString()],["Latest Remarks:",e.remarks||"No remarks provided."]];Sp(u,{body:T,startY:A,theme:"plain",styles:{fontSize:10,cellPadding:2},columnStyles:{0:{fontStyle:"bold",cellWidth:40,textColor:[79,70,229]},1:{cellWidth:"auto"}},margin:{left:14,right:14,top:65,bottom:25}}),A=u.lastAutoTable.finalY+15,A>m-50&&(u.addPage(),A=70),u.setFontSize(14),u.setFont("helvetica","bold"),u.text("Movement History",14,A),A+=2,u.line(14,A,h-14,A),A+=8;const E=["Date","Action By","Status","Remarks","Marked To"],C=t.map(D=>[new Date(D.movementDate).toLocaleDateString(),p(D.performedBy),D.statusOnMovement,D.remarks||"-",Array.isArray(D.markedTo)?D.markedTo.map(te=>p(te)).join("; "):p(D.markedTo)]);Sp(u,{head:[E],body:C,startY:A,styles:{fontSize:f==="landscape"?9:8,cellPadding:f==="landscape"?4:3,valign:"middle"},headStyles:{fillColor:[79,70,229],textColor:[255,255,255]},alternateRowStyles:{fillColor:[249,250,251]},columnStyles:f==="landscape"?{0:{cellWidth:25},1:{cellWidth:55},2:{cellWidth:35},3:{cellWidth:"auto"},4:{cellWidth:55}}:{0:{cellWidth:22},1:{cellWidth:45},2:{cellWidth:30},3:{cellWidth:"auto"},4:{cellWidth:45}},margin:{top:65,bottom:25}});const G=u.internal.getNumberOfPages();for(let D=1;D<=G;D++)u.setPage(D),j(u),y(u,D,G);u.save(`${i}.pdf`)},Xw=({data:e,columns:t,filename:n="export",title:i="Data Export",onExportAll:o,className:c,variant:f="secondary",exportedBy:u,filterSummary:h,logoUrl:m})=>{const[p,w]=k.useState(!1),[j,y]=k.useState(!1),[A,T]=k.useState("landscape"),E=async(C,I)=>{w(!1);try{let G=e;const D=`${n}-${I}-${new Date().toISOString().split("T")[0]}`;if(I==="all"){if(!o)return;y(!0),G=await o(),y(!1)}const te=G.map(de=>{const Y={};return t.forEach(O=>{const R=O.dataKey.split(".");let V=de;R.forEach(F=>{V=V&&V[F]!==void 0?V[F]:""}),O.formatter?Y[O.header]=O.formatter(V,de):Y[O.header]=V}),Y});C==="csv"?qC(te,D):await HC(te,t,i,D,u,h,A,m)}catch(G){console.error("Export failed:",G),y(!1)}};return s.jsxs("div",{className:"relative inline-block text-left",children:[s.jsx(wt,{variant:f,label:j?"Exporting...":"Export",icon:j?s.jsx(Mn,{className:"w-4 h-4 animate-spin"}):s.jsx(Vp,{className:"w-4 h-4"}),onClick:()=>!j&&w(!p),className:`flex items-center gap-2 ${c}`,disabled:j}),p&&s.jsx("div",{className:"absolute left-0 sm:left-auto sm:right-0 mt-2 w-64 rounded-xl shadow-lg bg-white ring-1 ring-black/5 z-50 animate-in fade-in slide-in-from-top-2",children:s.jsxs("div",{className:"py-2",role:"menu",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider font-heading mb-1",children:"PDF Orientation"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:C=>{C.stopPropagation(),T("portrait")},className:`flex-1 py-1 text-xs font-bold rounded border ${A==="portrait"?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-gray-50 border-gray-100 text-gray-500 hover:bg-gray-100"}`,children:"Portrait"}),s.jsx("button",{onClick:C=>{C.stopPropagation(),T("landscape")},className:`flex-1 py-1 text-xs font-bold rounded border ${A==="landscape"?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-gray-50 border-gray-100 text-gray-500 hover:bg-gray-100"}`,children:"Landscape"})]})]}),s.jsxs("div",{className:"px-4 py-2 text-xs font-bold text-gray-400 uppercase tracking-wider font-heading border-b border-gray-100 bg-gray-50/50",children:["Current Page (",e.length,")"]}),s.jsxs("button",{onClick:()=>E("csv","page"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 flex items-center gap-2 transition-colors",children:[s.jsx(c2,{className:"w-4 h-4"})," CSV"]}),s.jsxs("button",{onClick:()=>E("pdf","page"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 flex items-center gap-2 transition-colors",children:[s.jsx(Tr,{className:"w-4 h-4"})," PDF"]}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t border-gray-100 my-1"}),s.jsx("div",{className:"px-4 py-2 text-xs font-bold text-gray-400 uppercase tracking-wider font-heading border-b border-gray-100 bg-gray-50/50",children:"All Data (Filtered)"}),s.jsxs("button",{onClick:()=>E("csv","all"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 flex items-center gap-2 transition-colors",title:"Export all rows matching current filters as CSV",children:[s.jsx(c2,{className:"w-4 h-4"})," All CSV"]}),s.jsxs("button",{onClick:()=>E("pdf","all"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 flex items-center gap-2 transition-colors",title:`Export all matching rows as PDF (${A})`,children:[s.jsx(Tr,{className:"w-4 h-4"})," All PDF"]})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>w(!1)})]})};function GC(){const{user:e,hasPermission:t}=Qa(),n=tr();k.useEffect(()=>{e&&!t(xt.FEATURE_VIEW_INTER_OFFICE_SENDER)&&n("/references/local")},[e,t,n]);const[i,o]=k.useState([]),[c,f]=k.useState(!0),[u,h]=k.useState(!0),[m,p]=k.useState(!0),[w,j]=k.useState(!1),[y,A]=k.useState(!1),[T,E]=k.useState(null),[C,I]=k.useState([]),[G,D]=k.useState([]),[te,de]=k.useState([]),[Y,O]=k.useState([]),[R,V]=k.useState([]),[F,z]=k.useState([]),[ee,le]=k.useState({openCount:0,highPriorityCount:0,pending7DaysCount:0,closedThisMonthCount:0,markedToUserCount:0,pendingInDivisionCount:0,totalReferences:0}),[ve,ae]=k.useState([]),[se,Z]=k.useState([]),[J,fe]=k.useState([]),[U,_]=k.useState([]),[L,q]=k.useState([]),[B,re]=k.useState(""),[oe,Q]=k.useState(""),[ue,ye]=k.useState(1),[ke,Ne]=k.useState(10),[pe,Fe]=k.useState(1),[X,We]=k.useState(0),[xe,Ue]=k.useState(null),[Re,ze]=k.useState(null),rt=Y.map(be=>({label:be,value:be})),dt=R.map(be=>({label:be,value:be})),gt=G.map(be=>({label:`${be.fullName}${be.designation?`, ${be.designation}`:""} (${be.labName||"N/A"})`,value:be.email,title:`${be.fullName}${be.designation?` | ${be.designation}`:""} | ${be.labName||"N/A"} (${be.email})`})),Ee=C.map(be=>({label:`${be.fullName}${be.designation?`, ${be.designation}`:""} (${be.labName||"N/A"})`,value:be.email,title:`${be.fullName}${be.designation?` | ${be.designation}`:""} | ${be.labName||"N/A"} (${be.email})`})),Le=te.map(be=>({label:be,value:be})),Xe=async()=>{try{const be=await Ev();be.success&&be.data&&(be.data.createdByUsers&&I(be.data.createdByUsers),be.data.markedToUsers&&D(be.data.markedToUsers),be.data.divisions&&de(be.data.divisions),be.data.statuses&&O(be.data.statuses),be.data.priorities&&V(be.data.priorities))}catch(be){console.error("Failed to fetch reference filters:",be)}},Ze=async()=>{try{p(!0);const be=await f8();be.success&&be.data&&le(be.data)}catch(be){console.error("Failed to fetch dashboard stats:",be)}finally{p(!1)}},we=async()=>{try{f(!0);const be={status:ve,priority:se,markedTo:J,createdBy:U,division:L,subject:B,pendingDays:oe},tt=xe?{sortBy:xe.key,sortOrder:xe.direction}:{},vt=await op(ue,ke,be,tt);if(vt&&vt.data){const ra=["__v"],Bt=l_(vt.data.data,ra);o(Bt),Fe(vt.data.pagination?.totalPages||1),We(vt.data.pagination?.total||0)}}catch(be){console.error("Error fetching references:",be)}finally{f(!1),h(!1)}};k.useEffect(()=>{Xe(),Ze()},[]),k.useEffect(()=>{we()},[ue,ke,ve,se,J,U,L,B,oe,xe]);const Be=k.useMemo(()=>["selection","refId","subject","status","priority","createdBy","markedTo","markedToDivision","createdLab","pendingDivision","createdAt","daysSinceCreated"],[]);k.useEffect(()=>{F.length===0&&z(Be)},[Be]);const Ge=be=>{E(be),A(!0)},ut=be=>{switch(be.toLowerCase()){case"in progress":return"bg-orange-50 text-orange-700 border-orange-100";case"reopened":return"bg-purple-50 text-purple-700 border-purple-100";case"open":return"bg-blue-50 text-blue-700 border-blue-100";case"closed":return"bg-emerald-50 text-emerald-700 border-emerald-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}},je=be=>{switch(be.toLowerCase()){case"high":return"bg-rose-50 text-rose-700 border-rose-100";case"medium":return"bg-amber-50 text-amber-700 border-amber-100";case"low":return"bg-emerald-50 text-emerald-700 border-emerald-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}},Ve=be=>{if(Re===be){lt();return}switch(ze(be),ye(1),ae([]),Z([]),fe([]),_([]),q([]),re(""),Q(""),be){case"open":ae(["Open","In Progress","Reopened"]);break;case"high":Z(["High"]),ae(["Open","In Progress","Reopened"]);break;case"pending":Q(8),ae(["Open","In Progress","Reopened"]);break;case"closed":ae(["Closed"]);break;case"markedToMe":e?.email&&fe([e.email]),ae(["Open","In Progress","Reopened"]);break;case"pendingDivision":e?.division&&q([e.division]),ae(["Open","In Progress","Reopened"]);break}},lt=()=>{ae([]),Z([]),fe([]),_([]),q([]),re(""),Q(""),ze(null),ye(1)},ht=(be,tt)=>{Ue({key:be,direction:tt})},[bt,yt]=k.useState(new Set),[na,Dt]=k.useState(!1);k.useEffect(()=>{yt(new Set)},[ve,se,J,U,L,B,oe]);const Ht=()=>{const tt=i.filter(Bt=>{const on=Bt.markedToDetails,ln=Array.isArray(on)?on.map(Mt=>Mt.email):[on?.email||(typeof Bt.markedTo=="object"?Bt.markedTo?.email:"")];return e?.email&&Bt.status!=="Closed"&&ln.includes(e.email)}).map(Bt=>Bt._id),vt=tt.length>0&&tt.every(Bt=>bt.has(Bt)),ra=new Set(bt);vt?tt.forEach(Bt=>ra.delete(Bt)):tt.forEach(Bt=>ra.add(Bt)),yt(ra)},ja=be=>{const tt=new Set(bt);tt.has(be)?tt.delete(be):tt.add(be),yt(tt)};return u?s.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:s.jsx("div",{className:"text-lg text-gray-600 animate-pulse font-heading",children:"Loading Global Dashboard..."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-6",children:[s.jsx(Js,{info:{title:"All Open References",refcount:m?void 0:ee.openCount,icon:s.jsx(Jh,{className:"w-5 h-5 text-blue-600"})},onClick:()=>Ve("open"),isActive:Re==="open",loading:m,additionalInfo:m?void 0:ee.openCount>0?"Total active references":"No active references"}),s.jsx(Js,{info:{title:"Pending with me",refcount:m?void 0:ee.markedToUserCount,icon:s.jsx(al,{className:"w-5 h-5 text-red-600 animate-bounce",fill:"currentColor"})},onClick:()=>Ve("markedToMe"),isActive:Re==="markedToMe",loading:m,additionalInfo:m?void 0:ee.markedToUserCount>0?"Pending with me":"No pending references"}),s.jsx(Js,{info:{title:"Pending in My Div",refcount:m?void 0:ee.pendingInDivisionCount,icon:s.jsx(Jh,{className:"w-5 h-5 text-indigo-600"})},onClick:()=>Ve("pendingDivision"),isActive:Re==="pendingDivision",loading:m,additionalInfo:m?void 0:ee.pendingInDivisionCount>0?"Pending in my division":"No pending references"}),s.jsx(Js,{info:{title:"High Priority",refcount:m?void 0:ee.highPriorityCount,icon:s.jsx(ol,{className:"w-5 h-5 text-rose-600"})},onClick:()=>Ve("high"),isActive:Re==="high",loading:m,additionalInfo:m?void 0:ee.highPriorityCount>0?"Currently active references":"No active references"}),s.jsx(Js,{info:{title:"Pending > 7 Days",refcount:m?void 0:ee.pending7DaysCount,icon:s.jsx(mf,{className:"w-5 h-5 text-amber-600"})},onClick:()=>Ve("pending"),isActive:Re==="pending",loading:m,additionalInfo:m?void 0:ee.pending7DaysCount>0?" Pending for more than 7 days":"No pending references"}),s.jsx(Js,{info:{title:"Closed This Month",refcount:m?void 0:ee.closedThisMonthCount,icon:s.jsx(Rr,{className:"w-5 h-5 text-emerald-600"})},onClick:()=>Ve("closed"),isActive:Re==="closed",loading:m,additionalInfo:m?void 0:ee.closedThisMonthCount>0?"Closed this month":"No closed references"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 md:gap-6 pb-2",children:[s.jsx("div",{className:"flex flex-1 items-center gap-4 md:gap-6 w-full",children:s.jsxs("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900 tracking-tight font-heading flex items-center gap-2 whitespace-nowrap mb-0",children:[s.jsx(Hc,{className:"w-6 h-6 text-indigo-600"}),"Global References"]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xw,{data:i,columns:[{header:"Ref ID",dataKey:"refId"},{header:"Subject",dataKey:"subject"},{header:"Priority",dataKey:"priority"},{header:"Status",dataKey:"status"},{header:"Created By",dataKey:"createdByDetails",formatter:be=>{if(!be)return"N/A";const tt=be.fullName||"Unknown",vt=be.designation?`, ${be.designation}`:"",ra=be.labName?` (${be.labName})`:"";return`${tt}${vt}${ra}`}},{header:"Marked To",dataKey:"markedToDetails",formatter:be=>!be||!Array.isArray(be)||be.length===0?"N/A":be.map(tt=>{const vt=tt.fullName||"Unknown",ra=tt.designation?`, ${tt.designation}`:"",Bt=tt.labName?` (${tt.labName})`:"";return`${vt}${ra}${Bt}`}).join("; ")},{header:"Division",dataKey:"markedToDetails",formatter:be=>{if(!be||!Array.isArray(be)||be.length===0)return"N/A";const tt=Array.from(new Set(be.map(vt=>vt.division).filter(Boolean)));return tt.length>0?tt.join(", "):"N/A"}},{header:"Date",dataKey:"createdAt",formatter:be=>be?new Date(be).toLocaleDateString():"N/A"},{header:"Remarks",dataKey:"remarks"}],filename:`Global-References-${e?.labName}`,title:`Global References - ${e?.labName}`,exportedBy:e?`${e.fullName} (${e.email})`:"Unknown User",filterSummary:[ve.length>0&&`Status: ${ve.join(", ")}`,se.length>0&&`Priority: ${se.join(", ")}`,J.length>0&&`To: ${J.map(be=>G.find(tt=>tt.email===be)?.fullName||be).join(", ")}`,U.length>0&&`By: ${U.map(be=>C.find(tt=>tt.email===be)?.fullName||be).join(", ")}`,L.length>0&&`Div: ${L.join(", ")}`,B&&`Subject: "${B}"`,oe&&`Pending >= ${oe} Days`].filter(Boolean).join(" | "),onExportAll:async()=>{const be={status:ve,priority:se,markedTo:J,createdBy:U,division:L,subject:B,pendingDays:oe},tt=xe?{sortBy:xe.key,sortOrder:xe.direction}:{};return(await op(1,1e4,be,tt)).data?.data||[]},logoUrl:p0,className:"h-10 px-6 shadow-lg shadow-gray-200/50 hover:shadow-gray-300/50 whitespace-nowrap font-heading text-sm font-semibold border-gray-200 bg-white text-gray-700"}),s.jsx(wt,{variant:"primary",label:"Add New Global Ref",icon:s.jsx(Qo,{}),onClick:()=>j(!0),className:"h-10 px-6 shadow-lg shadow-indigo-500/20 whitespace-nowrap font-heading text-sm font-semibold"})]})]}),s.jsx("div",{className:"-mt-4 pb-2",children:s.jsxs("p",{className:"text-gray-500 text-xs font-heading",children:["Send references to any ",s.jsx("span",{className:"text-indigo-600 font-bold",children:"CSIR lab/unit."})," The ",s.jsx("span",{className:"text-indigo-600 font-bold",children:"Inter lab sender"})," role is required for sending/receiving global references.",ee.totalReferences>0&&s.jsxs("span",{className:"ml-2 text-[10px] bg-indigo-50 text-indigo-600 px-2.5 py-1 rounded-full border border-indigo-100 uppercase tracking-widest font-bold shadow-sm",children:["Total: ",X," of ",ee.totalReferences]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-3 items-center",children:[s.jsxs("div",{className:"relative col-span-1 md:col-span-1 lg:col-span-1",children:[s.jsx("input",{type:"text",placeholder:"Search subject/ID...",className:"pl-9 w-full rounded-lg pr-4 h-10 border border-gray-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading",value:B,onChange:be=>re(be.target.value)}),s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s.jsx(xo,{className:"w-4 h-4"})})]}),s.jsx(Qn,{name:"Status",options:rt,selectedValues:ve,onChange:be=>{ae(be),ze(null)}}),s.jsx(Qn,{name:"Priority",options:dt,selectedValues:se,onChange:be=>{Z(be),ze(null)}}),s.jsx(Qn,{name:"Creator",options:Ee,selectedValues:U,onChange:_}),s.jsx(Qn,{name:"To User",options:gt,selectedValues:J,onChange:fe}),s.jsx(Qn,{name:"Division",options:Le,selectedValues:L,onChange:q}),s.jsx("input",{type:"number",min:0,className:"w-full h-10 px-3 py-2 text-xs border border-gray-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 font-heading",value:oe,onChange:be=>{Q(be.target.value?Number(be.target.value):""),ze(null)},placeholder:"DAYS >="}),s.jsx("div",{className:"flex justify-end",children:s.jsx(uu,{allColumns:Be,visibleColumns:F,onChange:z})})]})}),bt.size>0&&s.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-3 rounded-xl flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm font-bold text-indigo-900 font-heading",children:[bt.size," selected"]}),s.jsx("span",{className:"h-4 w-px bg-indigo-200"}),s.jsx("button",{onClick:()=>yt(new Set),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800 transition-colors",children:"Deselect All"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(wt,{variant:"primary",label:"Mark To Check...",onClick:()=>Dt(!0),className:"h-8 px-4 text-xs font-bold uppercase tracking-wider bg-indigo-600 hover:bg-indigo-700 text-white shadow-none"})})]}),(ve.length>0||se.length>0||J.length>0||U.length>0||B||oe)&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[s.jsx("span",{className:"text-xs pl-2 pr-1 font-semibold text-gray-600  tracking-widest font-heading mr-1",children:"Current Filters:"}),ve.map(be=>s.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider border ${ut(be)}`,children:be},be)),se.map(be=>s.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider border ${je(be)}`,children:be},be)),J.map(be=>{const tt=G.find(vt=>vt.email===be);return s.jsxs("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold border bg-indigo-50 text-indigo-700 border-indigo-100 flex items-center gap-1",children:[s.jsx("span",{className:"opacity-50",children:"To:"})," ",tt?tt.fullName:be]},be)}),U.map(be=>{const tt=C.find(vt=>vt.email===be);return s.jsxs("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold border bg-indigo-50 text-indigo-700 border-indigo-100 flex items-center gap-1",children:[s.jsx("span",{className:"opacity-50",children:"By:"})," ",tt?tt.fullName:be]},be)}),L.map(be=>s.jsxs("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold border bg-indigo-50 text-indigo-700 border-indigo-100 flex items-center gap-1",children:[s.jsx("span",{className:"opacity-50",children:"Pending Div:"})," ",be]},be)),B&&s.jsxs("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold border bg-gray-100 text-gray-700 border-gray-200",children:['Subject: "',B,'"']}),oe&&s.jsxs("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold border bg-amber-50 text-amber-700 border-amber-100",children:["Pending >= ",oe," Days"]}),s.jsx("button",{onClick:lt,className:"ml-auto text-[11px] font-bold text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"Clear All filters"})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:`hidden md:block transition-all duration-300 ${c?"opacity-40 grayscale-[0.5] pointer-events-none":"opacity-100"}`,children:i.length===0&&!c?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-xl border border-gray-100 shadow-sm",children:[s.jsx("p",{className:"text-gray-400 font-medium font-heading",children:"No references found matching your filters."}),s.jsx(wt,{variant:"secondary",className:"mt-4 text-[10px] font-bold text-indigo-600 border-indigo-200 hover:bg-indigo-50 px-4 py-1.5 font-heading",onClick:lt,children:"Clear all filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx(kf,{rows:i,visibleColumns:F,sortConfig:xe,onSort:ht,columnWidths:{selection:"48px",refId:"120px",subject:"350px"},customHeaderRenderers:{selection:()=>{const be=i.filter(vt=>{const ra=vt.markedToDetails,Bt=Array.isArray(ra)?ra.map(on=>on.email):[ra?.email||(typeof vt.markedTo=="object"?vt.markedTo?.email:"")];return e?.email&&vt.status!=="Closed"&&Bt.includes(e.email)}),tt=be.length>0&&be.every(vt=>bt.has(vt._id));return s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer disabled:opacity-30",checked:tt,onChange:Ht,disabled:be.length===0,title:be.length===0?"No references available for bulk action":"Select all your references"})}},customRenderers:{selection:be=>{const tt=be.markedToDetails,vt=Array.isArray(tt)?tt.map(Bt=>Bt.email):[tt?.email||(typeof be.markedTo=="object"?be.markedTo?.email:"")],ra=e?.email&&be.status!=="Closed"&&vt.includes(e.email);return s.jsx("div",{className:"flex justify-center",title:ra?void 0:"You can only select references marked to you",children:s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer disabled:opacity-30 disabled:cursor-not-allowed",checked:bt.has(be._id),onChange:()=>ra&&ja(be._id),onClick:Bt=>Bt.stopPropagation(),disabled:!ra})})},refId:be=>s.jsx(gn,{to:`/references/global/${be._id}`,className:"text-gray-900 font-bold text-xs hover:text-indigo-600 transition-colors hover:underline",title:`View details for ${be.refId}`,children:be.refId||"N/A"}),subject:be=>{const tt=be.markedToDetails,vt=Array.isArray(tt)?tt.map(Bt=>Bt.email):[tt?.email||(typeof be.markedTo=="object"?be.markedTo?.email:"")],ra=e?.email&&be.status!=="Closed"&&vt.includes(e.email);return s.jsxs("div",{className:"flex flex-col overflow-visible",children:[s.jsxs("div",{className:"flex items-center gap-2 hover:underline",children:[s.jsx(gn,{to:`/references/global/${be._id}`,className:"font-bold text-gray-900 hover:text-indigo-600 transition-colors truncate block leading-none font-heading",title:be.subject,children:be.subject}),ra&&s.jsx(al,{className:"w-3 h-3 text-red-500 animate-bounce",fill:"currentColor"}),be.isHidden&&s.jsx(ho,{className:"w-3.5 h-3.5 text-gray-400 shrink-0"}),be.isArchived&&s.jsx(Gr,{className:"w-3.5 h-3.5 text-gray-400 shrink-0"})]}),s.jsx("span",{className:"text-gray-400 text-[11px] font-medium truncate block tracking-normal mt-1",title:be.remarks||"No additional remarks",children:be.remarks||"No additional remarks"})]})},status:be=>s.jsxs("span",{className:`px-2 py-0.5 rounded-full border text-[10px] font-bold uppercase tracking-wider whitespace-nowrap inline-flex items-center gap-1 ${ut(be.status||"")}`,title:be.status,children:[s.jsx("span",{className:"h-1 w-1 rounded-full bg-current"}),be.status]}),priority:be=>s.jsxs("span",{className:`px-2 py-0.5 rounded-full border text-[10px] font-bold uppercase tracking-wider whitespace-nowrap inline-flex items-center gap-1 ${je(be.priority||"")}`,title:be.priority,children:[s.jsx("span",{className:"text-[10px] leading-none",children:be.priority?.toLowerCase()==="high"?"":be.priority?.toLowerCase()==="low"?"":""}),be.priority]}),markedTo:be=>{const tt=Array.isArray(be.markedToDetails)?be.markedToDetails:[be.markedToDetails].filter(Boolean);if(tt.length===0)return s.jsx("span",{children:"Unmarked"});const vt=tt[0],ra=tt.length-1,Bt=e?.email&&tt.some(ln=>ln.email===e.email),on=typeof be.markedTo=="string"?be.markedTo:Array.isArray(be.markedTo)?typeof be.markedTo[0]=="string"?be.markedTo[0]:be.markedTo[0]?._id:be.markedTo?._id;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex flex-col truncate cursor-pointer hover:bg-gray-50/50 p-1 rounded transition-colors",onClick:()=>{on&&Ge(on)},title:tt.map(ln=>`${ln.fullName}${ln.designation?`, ${ln.designation}`:""} (${ln.labName||"N/A"})`).join(`
`),children:[s.jsxs("span",{className:"text-indigo-600 font-bold text-xs truncate underline underline-offset-2 decoration-indigo-200",children:[vt.fullName,ra>0?` +${ra}`:""]}),s.jsx("span",{className:"text-gray-400 text-[10px] font-medium truncate tracking-tight",children:vt.labName||"N/A"})]}),Bt&&be.status!=="Closed"&&s.jsx(al,{className:"w-3 h-3 text-red-500 animate-bounce",fill:"currentColor"})]})},createdBy:be=>{const tt=be.createdByDetails,vt=typeof be.createdBy=="string"?be.createdBy:be.createdBy?._id;return s.jsxs("div",{className:"flex flex-col truncate cursor-pointer hover:bg-gray-50/50 p-1 rounded transition-colors",onClick:()=>{vt&&Ge(vt)},title:`${tt?.fullName||"Unmarked"}${tt?.designation?`, ${tt.designation}`:""} (${tt?.labName||"N/A"})`,children:[s.jsx("span",{className:"text-gray-900 font-bold text-xs truncate hover:text-indigo-600 transition-colors",children:tt?.fullName||"Unmarked"}),s.jsx("span",{className:"text-gray-400 text-[10px] font-medium truncate tracking-tight",children:tt?.labName||(typeof be.createdBy=="object"?be.createdBy.fullName:be.createdBy)})]})},createdLab:be=>s.jsx("span",{className:"text-gray-500 text-xs font-bold truncate block",children:be.createdLab||"N/A"}),pendingDivision:be=>s.jsx("span",{className:"text-gray-500 text-xs font-bold truncate block",title:be.pendingDivision||"N/A",children:be.pendingDivision||"N/A"}),createdAt:be=>s.jsx("span",{className:"text-gray-500 text-xs font-bold whitespace-nowrap",children:new Date(be.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"2-digit"})}),daysSinceCreated:be=>{const tt=Math.abs(new Date().getTime()-new Date(be.createdAt).getTime()),vt=Math.ceil(tt/(1e3*60*60*24));return s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-xs font-bold ${vt>7?"text-red-600":"text-gray-500"}`,children:vt}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:"Days"})]})}}}),i.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6 pt-8 pb-2 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest font-heading",children:"Display"}),s.jsxs("select",{value:ke,onChange:be=>{Ne(Number(be.target.value)),ye(1)},className:"bg-gray-100/50 border-none rounded-xl px-4 py-1.5 text-xs font-bold text-gray-600 focus:outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all cursor-pointer hover:bg-gray-100 font-heading",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("div",{className:"h-4 w-px bg-gray-100 mx-2"}),s.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest font-heading",children:["Showing ",(ue-1)*ke+1,"",Math.min(ue*ke,X)," of ",X]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>ye(1),disabled:ue===1,className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all",title:"First Page",children:""}),s.jsx("button",{onClick:()=>ye(be=>Math.max(1,be-1)),disabled:ue===1,className:"px-4 py-2 text-xs font-bold text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all font-heading",children:"PREV"}),s.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-indigo-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-indigo-600/20 font-heading",children:ue}),s.jsx("button",{onClick:()=>ye(be=>Math.min(pe,be+1)),disabled:ue===pe,className:"px-4 py-2 text-xs font-bold text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all font-heading",children:"NEXT"}),s.jsx("button",{onClick:()=>ye(pe),disabled:ue===pe,className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all",title:"Last Page",children:""})]})]})]})})}),s.jsx(x0,{data:i,keyExtractor:be=>be._id,emptyMessage:"No references found matching your filters.",renderItem:be=>{const tt=be.markedToDetails,vt=Array.isArray(tt)?tt.map(on=>on.email):[tt?.email||(typeof be.markedTo=="object"?be.markedTo?.email:"")],ra=e?.email&&be.status!=="Closed"&&vt.includes(e.email),Bt=Array.isArray(be.markedToDetails)?be.markedToDetails:[be.markedToDetails].filter(Boolean);return s.jsx(b0,{data:be,isSelected:bt.has(be._id),onToggleSelect:()=>ra&&ja(be._id),disableSelection:!ra,linkBaseUrl:"/references/global",statusRenderer:ut,additionalInfo:s.jsxs(s.Fragment,{children:[Bt.length>0&&s.jsxs("div",{className:"flex gap-1 justify-between",children:[s.jsxs("div",{className:"flex gap-1 overflow-hidden",children:[s.jsx("span",{className:"font-semibold text-gray-500 whitespace-nowrap",children:"To:"}),s.jsxs("span",{className:"truncate",children:[Bt[0].fullName,Bt.length>1?` +${Bt.length-1}`:""]})]}),Bt[0].division&&s.jsx("span",{className:"text-[10px] bg-gray-100 px-1.5 py-0.5 rounded text-gray-500 font-bold uppercase tracking-wider whitespace-nowrap",children:Bt[0].division})]}),be.createdByDetails&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"font-semibold text-gray-500",children:"By:"}),s.jsx("span",{className:"truncate",children:be.createdByDetails.fullName})]})]})})}})]}),s.jsx(d_,{isOpen:w,onClose:()=>j(!1),onSuccess:()=>{we(),Ze(),yt(new Set)}}),s.jsx(u_,{isOpen:na,onClose:()=>Dt(!1),onSuccess:()=>{we(),Ze(),yt(new Set)},selectedIds:Array.from(bt)}),s.jsx(Ef,{isOpen:y,onClose:()=>A(!1),userId:T})]})}const VC=({isOpen:e,onClose:t,onSuccess:n})=>{const{user:i}=Qa(),[o,c]=k.useState(""),[f,u]=k.useState(""),[h,m]=k.useState([]),[p,w]=k.useState("Medium"),[j,y]=k.useState(""),[A,T]=k.useState(""),[E,C]=k.useState(!1),[I,G]=k.useState(null),[D,te]=k.useState(150),de=(Array.isArray(h)?h:[]).filter(R=>{const V=R.labName===i?.labName,F=i?._id&&R._id&&String(R._id)===String(i._id),z=i?.email&&R.email&&R.email.toLowerCase()===i.email.toLowerCase(),ee=R.role===dr;return V&&!F&&!z&&!ee});if(k.useEffect(()=>{e&&(async()=>{try{const[V,F]=await Promise.all([ou(1,1e3),_f()]);if(V.success){let z=Array.isArray(V.data)?V.data:V.data?.users||[];z=z.map(ee=>({...ee,_id:ee._id||ee.id})),m(z)}F.success&&F.data.REMARKS_WORD_LIMIT&&te(Number(F.data.REMARKS_WORD_LIMIT))}catch(V){console.error("Failed to fetch data for Local Reference modal",V)}})()},[e]),!e)return null;const Y=R=>R.trim().split(/\s+/).filter(Boolean).length,O=async R=>{if(R.preventDefault(),G(null),C(!0),Y(f)>D){G({type:"error",text:`Remarks cannot exceed ${D} words`}),C(!1);return}if(j&&i?._id&&String(j)===String(i._id)){G({type:"error",text:"You cannot mark a local reference to yourself"}),C(!1);return}try{const V=await o8({subject:o,remarks:f,status:"Open",priority:p,markedTo:j,eofficeNo:A});V.success?(G({type:"success",text:"Local reference added successfully"}),c(""),u(""),y(""),T(""),setTimeout(()=>{n(),t(),G(null)},1500)):G({type:"error",text:V.message||"Failed to add local reference"})}catch(V){G({type:"error",text:V.message||"An unexpected error occurred"})}finally{C(!1)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg mx-4 overflow-hidden animate-scale-in border border-indigo-100",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-indigo-50/50",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-indigo-900 font-heading flex items-center gap-2",children:[s.jsx(mo,{className:"w-6 h-6 text-indigo-600"}),"Add Local Reference"]}),s.jsxs("p",{className:"text-xs text-indigo-600 font-heading",children:["Internal to ",i?.labName]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white rounded-full transition-colors text-indigo-400",children:s.jsx(Dn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[I&&s.jsx("div",{className:`mb-4 p-3 rounded-xl text-sm font-medium border ${I.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:I.text}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsx(ur,{id:"subject",label:"Subject",type:"text",value:o,onChange:R=>c(R.target.value),placeholder:"Enter subject",icon:s.jsx(Tr,{className:"w-4 h-4 text-indigo-400"}),required:!0}),s.jsx(ur,{id:"eofficeNo",label:"E-office No. (Optional)",type:"text",value:A,onChange:R=>T(R.target.value),placeholder:"Enter E-office number",icon:s.jsx(Tr,{className:"w-4 h-4 text-indigo-400"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex justify-between font-heading",children:[s.jsxs("span",{children:["Remarks ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsxs("span",{className:`text-[10px] uppercase font-bold tracking-wider ${Y(f)>D?"text-rose-500":"text-gray-400"}`,children:[Y(f)," / ",D," words"]})]}),s.jsx("textarea",{value:f,onChange:R=>u(R.target.value),className:`w-full px-4 py-2 border rounded-xl focus:ring-4 outline-none transition-all resize-none h-24 font-heading text-sm ${Y(f)>D?"border-rose-200 focus:ring-rose-500/5 text-rose-600":"border-gray-100 focus:ring-indigo-500/5 focus:border-indigo-200"}`,placeholder:"Enter detailed remarks",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 font-heading",children:"Priority"}),s.jsxs("select",{value:p,onChange:R=>w(R.target.value),className:"w-full px-4 h-10 border border-gray-100 rounded-xl focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-200 outline-none transition-all bg-white font-heading text-sm",children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 font-heading",children:["Marked To ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsx(er,{placeholder:"Select a colleague",options:de.map(R=>({label:`${R.fullName||R.email}${R.designation?`, ${R.designation}`:""}`,value:R._id})),selectedValue:j,onChange:y})]})]}),s.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-6 h-10 text-gray-400 hover:text-gray-600 font-bold text-xs uppercase tracking-widest transition-colors font-heading",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:E||!j,className:"w-full sm:w-auto px-8 h-10 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-500/20 font-bold text-xs uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-heading",children:[E?s.jsx(Mn,{className:"w-4 h-4 animate-spin"}):s.jsx(go,{className:"w-4 h-4"}),"Save Local Ref"]})]})]})]})]})})},WC=({isOpen:e,onClose:t,onSuccess:n,selectedIds:i})=>{const{user:o}=Qa(),[c,f]=k.useState([]),[u,h]=k.useState(""),[m,p]=k.useState(""),[w,j]=k.useState(!1),[y,A]=k.useState(null);k.useEffect(()=>{e&&(async()=>{try{const C=await Kp();if(C.success&&C.data&&C.data.markedToUsers){const I=C.data.markedToUsers.filter(G=>{const D=o?._id&&G._id&&String(G._id)===String(o._id),te=o?.email&&G.email&&G.email.toLowerCase()===o.email.toLowerCase(),de=G.labName===o?.labName;return!D&&!te&&de});f(I)}}catch(C){console.error("Failed to fetch users",C)}})()},[e,o]);const T=async E=>{if(E.preventDefault(),A(null),j(!0),!u){A({type:"error",text:"Please select a user to assign references to."}),j(!1);return}try{const C=await Xp(i,"assign",!1,{assignTo:u,remarks:m});C.success?(A({type:"success",text:"References reassigned successfully"}),setTimeout(()=>{n(),t(),A(null),h(""),p("")},1500)):A({type:"error",text:C.message||"Failed to update references"})}catch(C){A({type:"error",text:C.message||"An unexpected error occurred"})}finally{j(!1)}};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in text-left",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg mx-4 overflow-hidden animate-scale-in border border-indigo-100 flex flex-col",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-indigo-50/50",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-indigo-900 font-heading flex items-center gap-2",children:[s.jsx(lo,{className:"w-6 h-6 text-indigo-600"}),"Bulk Assign Local References"]}),s.jsxs("p",{className:"text-xs text-indigo-600 font-heading",children:["Reassign ",i.length," reference",i.length!==1?"s":""," within ",o?.labName]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white rounded-full transition-colors text-indigo-400",children:s.jsx(Dn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[y&&s.jsx("div",{className:`mb-4 p-3 rounded-xl text-sm font-medium border ${y.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:y.text}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 font-heading",children:["Assign To (User) ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsx(er,{placeholder:"Select a colleague",options:c.map(E=>({label:`${E.fullName||E.email.split("@")[0]}${E.designation?`, ${E.designation}`:""} (${E.email})`,value:E._id})),selectedValue:u,onChange:E=>h(E)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 font-heading",children:"Remarks (Optional)"}),s.jsx("textarea",{className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 font-heading resize-none h-20",placeholder:"Enter remarks (default: Forwarded for consideration/perusal/necessary action please)",value:m,onChange:E=>p(E.target.value)})]}),s.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-6 h-10 text-gray-400 hover:text-gray-600 font-bold text-xs uppercase tracking-widest transition-colors font-heading",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:w||!u,className:"w-full sm:w-auto px-8 h-10 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-500/20 font-bold text-xs uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-heading",children:[w?s.jsx(Mn,{className:"w-4 h-4 animate-spin"}):s.jsx(go,{className:"w-4 h-4"}),"Assign"]})]})]})]})]})}):null};function YC(){const{user:e}=Qa(),[t,n]=k.useState([]),[i,o]=k.useState(!0),[c,f]=k.useState(!0),[u,h]=k.useState(!0),[m,p]=k.useState(!1),[w,j]=k.useState({openCount:0,highPriorityCount:0,pending7DaysCount:0,closedThisMonthCount:0,markedToUserCount:0,pendingInDivisionCount:0,totalReferences:0}),[y,A]=k.useState([]),[T,E]=k.useState([]),[C,I]=k.useState([]),[G,D]=k.useState([]),[te,de]=k.useState([]),[Y,O]=k.useState([]),[R,V]=k.useState([]),[F,z]=k.useState([]),[ee,le]=k.useState([]),[ve,ae]=k.useState([]),[se,Z]=k.useState(""),[J,fe]=k.useState(""),[U,_]=k.useState(null),[L,q]=k.useState(1),[B,re]=k.useState(10),[oe,Q]=k.useState(1),[ue,ye]=k.useState(0),[ke,Ne]=k.useState(null),[pe,Fe]=k.useState([]),[X,We]=k.useState(!1),[xe,Ue]=k.useState(null),[Re,ze]=k.useState(new Set),[rt,dt]=k.useState(!1),gt=["selection","refId","subject","status","priority","createdBy","markedTo","markedToDivision","createdAt"];k.useEffect(()=>{pe.length===0&&Fe(gt)},[gt]),k.useEffect(()=>{ze(new Set)},[L,B,Y,R,F,ee,ve,se,J,ke]);const Ee=()=>{const Ve=t.filter(bt=>{const yt=bt.markedToDetails,na=Array.isArray(yt)?yt.map(Dt=>Dt.email):[yt?.email||(typeof bt.markedTo=="object"?bt.markedTo?.email:"")];return e?.email&&bt.status!=="Closed"&&na.includes(e.email)}).map(bt=>bt._id),lt=Ve.length>0&&Ve.every(bt=>Re.has(bt)),ht=new Set(Re);lt?Ve.forEach(bt=>ht.delete(bt)):Ve.forEach(bt=>ht.add(bt)),ze(ht)},Le=je=>{const Ve=new Set(Re);Ve.has(je)?Ve.delete(je):Ve.add(je),ze(Ve)},Xe=async()=>{try{o(!0);const je={status:Y,priority:R,markedTo:F,createdBy:ee,division:ve,subject:se,pendingDays:J},Ve=ke?{sortBy:ke.key,sortOrder:ke.direction}:{},lt=await sp(L,B,je,Ve);lt&&lt.data&&(n(lt.data.data),Q(lt.data.pagination?.totalPages||1),ye(lt.data.pagination?.total||0))}catch(je){console.error("Error fetching local references:",je)}finally{o(!1),f(!1)}};k.useEffect(()=>{Xe()},[L,B,Y,R,F,ee,ve,se,J,ke]);const Ze=async()=>{try{h(!0);const je=await l8();je.success&&je.data&&j(je.data)}catch(je){console.error("Failed to fetch local stats:",je)}finally{h(!1)}};k.useEffect(()=>{Ze()},[]),k.useEffect(()=>{(async()=>{const Ve=await Kp();Ve.success&&Ve.data&&(Ve.data.createdByUsers&&A(Ve.data.createdByUsers.filter(lt=>lt.labName===e?.labName)),Ve.data.markedToUsers&&E(Ve.data.markedToUsers.filter(lt=>lt.labName===e?.labName)),Ve.data.divisions&&I(Ve.data.divisions),Ve.data.statuses&&D(Ve.data.statuses),Ve.data.priorities&&de(Ve.data.priorities))})()},[e?.labName]);const we=je=>{switch(je.toLowerCase()){case"in progress":return"bg-orange-50 text-orange-700 border-orange-100";case"open":return"bg-blue-50 text-blue-700 border-blue-100";case"closed":return"bg-emerald-50 text-emerald-700 border-emerald-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}},Be=je=>{switch(je?.toLowerCase()){case"high":return"bg-rose-50 text-rose-700 border-rose-100";case"medium":return"bg-amber-50 text-amber-700 border-amber-100";case"low":return"bg-emerald-50 text-emerald-700 border-emerald-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}},Ge=je=>{if(U===je){ut();return}switch(_(je),q(1),O([]),V([]),z([]),le([]),ae([]),Z(""),fe(""),je){case"open":O(["Open","In Progress","Reopened"]);break;case"high":V(["High"]),O(["Open","In Progress","Reopened"]);break;case"pending":fe(8),O(["Open","In Progress","Reopened"]);break;case"closed":O(["Closed"]);break;case"markedToMe":e?.email&&z([e.email]),O(["Open","In Progress","Reopened"]);break;case"pendingDivision":e?.division&&ae([e.division]),O(["Open","In Progress","Reopened"]);break}},ut=()=>{O([]),V([]),z([]),le([]),ae([]),Z(""),fe(""),_(null),q(1)};return c?s.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:s.jsx("div",{className:"text-lg text-gray-600 animate-pulse font-heading",children:"Loading Local Dashboard..."})}):s.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-6",children:[s.jsx(Js,{info:{title:"Open References",refcount:u?void 0:w.openCount,icon:s.jsx(Jh,{className:"w-5 h-5 text-blue-600"})},onClick:()=>Ge("open"),isActive:U==="open",loading:u,additionalInfo:w.openCount>0?"Active lab references":"No active references"}),s.jsx(Js,{info:{title:"Pending with me",refcount:u?void 0:w.markedToUserCount,icon:s.jsx(al,{className:"w-5 h-5 text-red-600 animate-bounce",fill:"currentColor"})},onClick:()=>Ge("markedToMe"),isActive:U==="markedToMe",loading:u,additionalInfo:w.markedToUserCount>0?"Requires your attention":"No pending items"}),s.jsx(Js,{info:{title:"Pending in My Div",refcount:u?void 0:w.pendingInDivisionCount,icon:s.jsx(Jh,{className:"w-5 h-5 text-indigo-600"})},onClick:()=>Ge("pendingDivision"),isActive:U==="pendingDivision",loading:u,additionalInfo:w.pendingInDivisionCount>0?`Pending in ${e?.division||"my division"}`:"No pending items"}),s.jsx(Js,{info:{title:"High Priority",refcount:u?void 0:w.highPriorityCount,icon:s.jsx(ol,{className:"w-5 h-5 text-rose-600"})},onClick:()=>Ge("high"),isActive:U==="high",loading:u,additionalInfo:w.highPriorityCount>0?"Urgent references":"No urgent items"}),s.jsx(Js,{info:{title:"Pending > 7 Days",refcount:u?void 0:w.pending7DaysCount,icon:s.jsx(mf,{className:"w-5 h-5 text-amber-600"})},onClick:()=>Ge("pending"),isActive:U==="pending",loading:u,additionalInfo:w.pending7DaysCount>0?"Delayed references":"No delayed items"}),s.jsx(Js,{info:{title:"Closed This Month",refcount:u?void 0:w.closedThisMonthCount,icon:s.jsx(Rr,{className:"w-5 h-5 text-emerald-600"})},onClick:()=>Ge("closed"),isActive:U==="closed",loading:u,additionalInfo:w.closedThisMonthCount>0?"Completed this month":"None closed recently"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 md:gap-6 pb-2",children:[s.jsx("div",{className:"flex flex-1 items-center gap-4 md:gap-6 w-full",children:s.jsxs("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900 tracking-tight font-heading flex items-center gap-2 whitespace-nowrap mb-0 ",children:[s.jsx(mo,{className:"w-6 h-6 text-indigo-600 "}),"Local References"]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xw,{data:t,columns:[{header:"Ref ID",dataKey:"refId"},{header:"Subject",dataKey:"subject"},{header:"Priority",dataKey:"priority"},{header:"Status",dataKey:"status"},{header:"Created By",dataKey:"createdByDetails",formatter:je=>{if(!je)return"N/A";const Ve=je.fullName||"Unknown",lt=je.designation?`, ${je.designation}`:"",ht=je.labName?` (${je.labName})`:"";return`${Ve}${lt}${ht}`}},{header:"Marked To",dataKey:"markedToDetails",formatter:je=>!je||!Array.isArray(je)||je.length===0?"N/A":je.map(Ve=>{const lt=Ve.fullName||"Unknown",ht=Ve.designation?`, ${Ve.designation}`:"",bt=Ve.labName?` (${Ve.labName})`:"";return`${lt}${ht}${bt}`}).join("; ")},{header:"Division",dataKey:"markedToDetails",formatter:je=>{if(!je||!Array.isArray(je)||je.length===0)return"N/A";const Ve=Array.from(new Set(je.map(lt=>lt.division).filter(Boolean)));return Ve.length>0?Ve.join(", "):"N/A"}},{header:"Date",dataKey:"createdAt",formatter:je=>je?new Date(je).toLocaleDateString():"N/A"},{header:"Remarks",dataKey:"remarks"}],filename:`Local-References-${e?.labName}`,title:`Local References - ${e?.labName}`,exportedBy:e?`${e.fullName} (${e.email})`:"Unknown User",filterSummary:[Y.length>0&&`Status: ${Y.join(", ")}`,R.length>0&&`Priority: ${R.join(", ")}`,F.length>0&&`To: ${F.map(je=>T.find(Ve=>Ve.email===je)?.fullName||je).join(", ")}`,ee.length>0&&`By: ${ee.map(je=>y.find(Ve=>Ve.email===je)?.fullName||je).join(", ")}`,ve.length>0&&`Div: ${ve.join(", ")}`,se&&`Subject: "${se}"`,J&&`Pending >= ${J} Days`].filter(Boolean).join(" | "),onExportAll:async()=>(await sp(1,1e4,{status:Y,priority:R,markedTo:F,createdBy:ee,division:ve,subject:se,pendingDays:J},ke?{sortBy:ke.key,sortOrder:ke.direction}:{})).data?.data||[],logoUrl:p0,className:"h-10 px-6 shadow-lg shadow-gray-200/50 hover:shadow-gray-300/50 whitespace-nowrap font-heading text-sm font-semibold border-gray-200 bg-white text-gray-700"}),s.jsx(wt,{variant:"primary",label:"Add New Local Ref",icon:s.jsx(Qo,{className:"w-4 h-4"}),onClick:()=>p(!0),className:"h-10 px-6 shadow-lg shadow-indigo-500/20 whitespace-nowrap font-heading text-sm font-semibold"})]})]}),s.jsx("div",{className:"-mt-4 pb-2",children:s.jsxs("p",{className:"text-gray-500 text-xs font-heading",children:["Manage references within ",s.jsx("span",{className:"font-bold text-indigo-600 uppercase",children:e?.labName}),w.totalReferences>0&&s.jsxs("span",{className:"ml-2 text-[10px] bg-indigo-50 text-indigo-600 px-2.5 py-1 rounded-full border border-indigo-100 uppercase tracking-widest font-bold shadow-sm",children:["Total: ",ue," of ",w.totalReferences]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-3 items-center",children:[s.jsxs("div",{className:"relative col-span-1 md:col-span-1 lg:col-span-1",children:[s.jsx("input",{type:"text",placeholder:"Search subject/ID...",className:"pl-9 w-full rounded-lg pr-4 h-10 border border-gray-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading",value:se,onChange:je=>Z(je.target.value)}),s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s.jsx(xo,{className:"w-4 h-4"})})]}),s.jsx(Qn,{name:"Status",options:G.map(je=>({label:je,value:je})),selectedValues:Y,onChange:je=>{O(je),_(null)}}),s.jsx(Qn,{name:"Priority",options:te.map(je=>({label:je,value:je})),selectedValues:R,onChange:je=>{V(je),_(null)}}),s.jsx(Qn,{name:"Creator",options:y.map(je=>({label:je.fullName,value:je.email})),selectedValues:ee,onChange:le}),s.jsx(Qn,{name:"To User",options:T.map(je=>({label:je.fullName,value:je.email})),selectedValues:F,onChange:z}),s.jsx(Qn,{name:"Division",options:C.map(je=>({label:je,value:je})),selectedValues:ve,onChange:ae}),s.jsx("input",{type:"number",min:0,className:"w-full h-10 px-3 py-2 text-xs border border-gray-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 font-heading",value:J,onChange:je=>{fe(je.target.value?Number(je.target.value):""),_(null)},placeholder:"DAYS >="}),s.jsx("div",{className:"flex justify-end",children:s.jsx(uu,{allColumns:gt,visibleColumns:pe,onChange:Fe})})]})}),Re.size>0&&s.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-3 rounded-xl flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm font-bold text-indigo-900 font-heading",children:[Re.size," selected"]}),s.jsx("span",{className:"h-4 w-px bg-indigo-200"}),s.jsx("button",{onClick:()=>ze(new Set),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800 transition-colors",children:"Deselect All"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(wt,{variant:"primary",label:"Mark To...",onClick:()=>dt(!0),className:"h-8 px-4 text-xs font-bold uppercase tracking-wider bg-indigo-600 hover:bg-indigo-700 text-white shadow-none"})})]}),(Y.length>0||R.length>0||F.length>0||ve.length>0||se||J)&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2 animate-in fade-in slide-in-from-top-2 duration-300 bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest font-heading mr-2",children:"Filters:"}),Y.map(je=>s.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border ${we(je)}`,children:je},je)),R.map(je=>s.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border ${Be(je)}`,children:je},je)),F.map(je=>{const Ve=T.find(lt=>lt.email===je);return s.jsxs("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold border bg-indigo-50 text-indigo-700 border-indigo-100",children:["To: ",Ve?Ve.fullName:je]},je)}),ee.map(je=>{const Ve=y.find(lt=>lt.email===je);return s.jsxs("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold border bg-indigo-50 text-indigo-700 border-indigo-100",children:["By: ",Ve?Ve.fullName:je]},je)}),ve.map(je=>s.jsxs("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold border bg-indigo-50 text-indigo-700 border-indigo-100",children:["Div: ",je]},je)),se&&s.jsxs("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold border bg-gray-50 text-gray-700 border-gray-100",children:['Subject: "',se,'"']}),J&&s.jsxs("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold border bg-amber-50 text-amber-700 border-amber-100",children:["Pending >= ",J," Days"]}),s.jsx("button",{onClick:ut,className:"ml-auto text-[11px] font-bold text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"Clear All filters"})]}),s.jsx("div",{className:`hidden md:block transition-all duration-300 ${i?"opacity-40 grayscale-[0.5] pointer-events-none":"opacity-100"}`,children:t.length===0&&!i?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-xl border border-gray-100 shadow-sm",children:[s.jsx("p",{className:"text-gray-400 font-medium font-heading",children:"No references found matching your filters."}),s.jsx(wt,{variant:"secondary",className:"mt-4 text-[10px] font-bold text-indigo-600 border-indigo-200 hover:bg-indigo-50 px-4 py-1.5 font-heading",onClick:ut,children:"Clear all filters"})]}):s.jsx(kf,{rows:t,visibleColumns:pe,columnWidths:{selection:"48px",refId:"120px",subject:"350px"},sortConfig:ke,onSort:(je,Ve)=>Ne({key:je,direction:Ve}),customHeaderRenderers:{selection:()=>{const je=t.filter(lt=>{const ht=lt.markedToDetails,bt=Array.isArray(ht)?ht.map(yt=>yt.email):[ht?.email||(typeof lt.markedTo=="object"?lt.markedTo?.email:"")];return e?.email&&lt.status!=="Closed"&&bt.includes(e.email)}),Ve=je.length>0&&je.every(lt=>Re.has(lt._id));return s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer disabled:opacity-30",checked:Ve,onChange:Ee,disabled:je.length===0,title:je.length===0?"No references available for bulk action":"Select all your references"})}},customRenderers:{selection:je=>{const Ve=je.markedToDetails,lt=Array.isArray(Ve)?Ve.map(bt=>bt.email):[Ve?.email||(typeof je.markedTo=="object"?je.markedTo?.email:"")],ht=e?.email&&je.status!=="Closed"&&lt.includes(e.email);return s.jsx("div",{className:"flex justify-center",title:ht?void 0:"You can only select references marked to you",children:s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer disabled:opacity-30 disabled:cursor-not-allowed",checked:Re.has(je._id),onChange:()=>ht&&Le(je._id),onClick:bt=>bt.stopPropagation(),disabled:!ht})})},refId:je=>s.jsx(gn,{to:`/references/local/${je._id}`,className:"text-indigo-600 font-bold text-xs hover:underline",children:je.refId}),subject:je=>{const Ve=je.markedToDetails,lt=Array.isArray(Ve)?Ve.map(bt=>bt.email):[Ve?.email||(typeof je.markedTo=="object"?je.markedTo?.email:"")],ht=e?.email&&je.status!=="Closed"&&lt.includes(e.email);return s.jsxs("div",{className:"flex flex-col overflow-visible",children:[s.jsxs("div",{className:"flex items-center gap-2 hover:underline",children:[s.jsx(gn,{to:`/references/local/${je._id}`,className:"font-bold text-gray-900 hover:text-indigo-600 transition-colors truncate block leading-none font-heading text-sm",title:je.subject,children:je.subject}),ht&&s.jsx("div",{className:"relative group shrink-0",title:"Pending with me",children:s.jsx(al,{className:"w-3 h-3 text-red-500 animate-bounce",fill:"currentColor"})}),je.isHidden&&s.jsx(ho,{className:"w-3.5 h-3.5 text-gray-400 shrink-0"}),je.isArchived&&s.jsx(Gr,{className:"w-3.5 h-3.5 text-gray-400 shrink-0"})]}),s.jsx("span",{className:"text-gray-400 text-[11px] font-medium truncate block tracking-normal mt-1",title:je.remarks||"No additional remarks",children:je.remarks||"No additional remarks"})]})},status:je=>s.jsxs("span",{className:`px-2 py-0.5 rounded-full border text-[10px] font-bold uppercase tracking-wider inline-flex items-center gap-1 ${we(je.status)}`,children:[s.jsx("span",{className:"h-1 w-1 rounded-full bg-current"}),je.status]}),priority:je=>s.jsxs("span",{className:`px-2 py-0.5 rounded-full border text-[10px] font-bold uppercase tracking-wider inline-flex items-center gap-1 ${Be(je.priority)}`,children:[s.jsx("span",{className:"text-[10px]",children:je.priority?.toLowerCase()==="high"?"":je.priority?.toLowerCase()==="low"?"":""}),je.priority]}),markedTo:je=>{const Ve=Array.isArray(je.markedToDetails)?je.markedToDetails:[je.markedToDetails].filter(Boolean);if(Ve.length===0)return s.jsx("span",{className:"text-xs text-gray-400",children:"Unmarked"});const lt=Ve[0],ht=Ve.length-1,bt=e?.email&&Ve.some(na=>na.email===e.email),yt=typeof je.markedTo=="string"?je.markedTo:Array.isArray(je.markedTo)?typeof je.markedTo[0]=="string"?je.markedTo[0]:je.markedTo[0]?._id:je.markedTo?._id;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>{yt&&(Ue(yt),We(!0))},className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800 transition-colors whitespace-nowrap",title:Ve.map(na=>`${na.fullName}${na.designation?`, ${na.designation}`:""} (${na.labName||"N/A"})`).join(`
`),children:[lt.fullName,ht>0?` +${ht}`:""]}),bt&&je.status!=="Closed"&&s.jsx(al,{className:"w-3 h-3 text-red-500 animate-bounce",fill:"currentColor"})]})},createdBy:je=>{const Ve=typeof je.createdBy=="string"?je.createdBy:je.createdBy?._id;return s.jsx("button",{onClick:()=>{Ve&&(Ue(Ve),We(!0))},className:"text-xs text-gray-700 hover:text-indigo-600 transition-colors whitespace-nowrap",title:`${je.createdByDetails?.fullName}${je.createdByDetails?.designation?`, ${je.createdByDetails?.designation}`:""} (${je.createdByDetails?.labName||"N/A"})`,children:je.createdByDetails?.fullName||"N/A"})},createdAt:je=>s.jsx("span",{className:"text-[10px] text-gray-400 font-medium whitespace-nowrap",children:new Date(je.createdAt).toLocaleDateString()})}})}),s.jsx(x0,{data:t,keyExtractor:je=>je._id,emptyMessage:"No references found matching your filters.",renderItem:je=>{const Ve=je.markedToDetails,lt=Array.isArray(Ve)?Ve.map(yt=>yt.email):[Ve?.email||(typeof je.markedTo=="object"?je.markedTo?.email:"")],ht=e?.email&&je.status!=="Closed"&&lt.includes(e.email),bt=Array.isArray(je.markedToDetails)?je.markedToDetails:[je.markedToDetails].filter(Boolean);return s.jsx(b0,{data:je,isSelected:Re.has(je._id),onToggleSelect:()=>ht&&Le(je._id),disableSelection:!ht,linkBaseUrl:"/references/local",statusRenderer:we,additionalInfo:s.jsxs(s.Fragment,{children:[bt.length>0&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"font-semibold text-gray-500",children:"To:"}),s.jsxs("span",{className:"truncate",children:[bt[0].fullName,bt.length>1?` +${bt.length-1}`:""]})]}),je.createdByDetails&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"font-semibold text-gray-500",children:"By:"}),s.jsx("span",{className:"truncate",children:je.createdByDetails.fullName})]})]})})}}),t.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6 pt-8 pb-2 border-t border-gray-100 mt-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest font-heading",children:"Display"}),s.jsxs("select",{value:B,onChange:je=>{re(Number(je.target.value)),q(1)},className:"bg-gray-100/50 border-none rounded-xl px-4 py-1.5 text-xs font-bold text-gray-600 focus:outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all cursor-pointer hover:bg-gray-100 font-heading",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("div",{className:"h-4 w-px bg-gray-100 mx-2"}),s.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest font-heading",children:["Showing ",(L-1)*B+1,"",Math.min(L*B,ue)," of ",ue]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>q(1),disabled:L===1,className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all",title:"First Page",children:""}),s.jsx("button",{onClick:()=>q(je=>Math.max(1,je-1)),disabled:L===1,className:"px-4 py-2 text-xs font-bold text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all font-heading",children:"PREV"}),s.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-indigo-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-indigo-600/20 font-heading",children:L}),s.jsx("button",{onClick:()=>q(je=>Math.min(oe,je+1)),disabled:L===oe,className:"px-4 py-2 text-xs font-bold text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all font-heading",children:"NEXT"}),s.jsx("button",{onClick:()=>q(oe),disabled:L===oe,className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all",title:"Last Page",children:""})]})]}),s.jsx(VC,{isOpen:m,onClose:()=>p(!1),onSuccess:()=>{Xe(),Ze()}}),s.jsx(WC,{isOpen:rt,onClose:()=>dt(!1),onSuccess:()=>{Xe(),ze(new Set)},selectedIds:Array.from(Re)}),s.jsx(Ef,{isOpen:X,onClose:()=>We(!1),userId:xe})]})}const XC=({isOpen:e,title:t,message:n,type:i="info",showCancelButton:o=!1,confirmText:c="OK",cancelText:f="Cancel",onOk:u,onClose:h})=>{if(!e)return null;const m=()=>{switch(i){case"success":return s.jsx($p,{className:"w-10 h-10 text-green-500"});case"error":return s.jsx(Gp,{className:"w-10 h-10 text-red-500"});case"warning":return s.jsx(ol,{className:"w-10 h-10 text-amber-500"});default:return s.jsx(Av,{className:"w-10 h-10 text-blue-500"})}},p=()=>{if(t)return t;switch(i){case"success":return"Success";case"error":return"Error";case"warning":return"Warning";default:return"Information"}},w=()=>{u&&u(),h()},j=()=>{switch(i){case"success":return"bg-green-600 hover:bg-green-700 shadow-green-200";case"error":return"bg-red-600 hover:bg-red-700 shadow-red-200";case"warning":return"bg-amber-500 hover:bg-amber-600 shadow-amber-200";default:return"bg-blue-600 hover:bg-blue-700 shadow-blue-200"}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-[2px] animate-in fade-in duration-200",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full overflow-hidden transform transition-all animate-in zoom-in-95 duration-200 border border-gray-100",role:"dialog","aria-modal":"true",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-full",children:m()}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:p()}),s.jsx("div",{className:"text-gray-600 text-sm leading-relaxed mb-6",children:n}),s.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[o&&s.jsx("button",{onClick:h,className:"px-4 py-2.5 rounded-xl text-gray-700 font-medium border border-gray-200 hover:bg-gray-50 transition-all flex-1",children:f}),s.jsx("button",{onClick:w,className:`py-2.5 px-4 rounded-xl text-white font-semibold shadow-md transition-all transform active:scale-[0.98] ${j()} ${o?"flex-1":"w-full"}`,children:c})]})]})})})})},Kw=k.createContext(void 0),KC=({children:e})=>{const[t,n]=k.useState(!1),[i,o]=k.useState({message:"",type:"info"}),[c,f]=k.useState(null),u=k.useCallback(w=>{f(null),o({...w,showCancelButton:!1}),n(!0)},[]),h=k.useCallback(w=>new Promise(j=>{f(()=>j),o({...w,showCancelButton:!0,type:w.type||"warning"}),n(!0)}),[]),m=k.useCallback(()=>{i.onOk&&i.onOk(),c&&c(!0),n(!1)},[i,c]),p=k.useCallback(()=>{i.onCancel&&i.onCancel(),c&&c(!1),n(!1)},[i,c]);return s.jsxs(Kw.Provider,{value:{showMessage:u,showConfirm:h},children:[e,t&&s.jsx(XC,{isOpen:t,title:i.title,message:i.message,type:i.type,confirmText:i.confirmText,cancelText:i.cancelText,showCancelButton:i.showCancelButton,onClose:p,onOk:m})]})},cl=()=>{const e=k.useContext(Kw);if(!e)throw new Error("useMessageBox must be used within a MessageBoxProvider");return e},JC=()=>{const e=tr(),{user:t,hasPermission:n}=Qa(),{showConfirm:i}=cl();k.useEffect(()=>{t&&!n(xt.FEATURE_MANAGE_GLOBAL_REFERENCES)&&e("/references/global")},[t,n,e]);const[o,c]=k.useState([]),[f,u]=k.useState(!0),[h,m]=k.useState([]),[p,w]=k.useState(!1),[j,y]=k.useState(null),[A,T]=k.useState(""),[E,C]=k.useState([]),[I,G]=k.useState([]),[D,te]=k.useState("all"),[de,Y]=k.useState("all"),[O,R]=k.useState([]),[V,F]=k.useState([]),[z,ee]=k.useState(1),[le,ve]=k.useState(25),[ae,se]=k.useState(0),[Z,J]=k.useState(1),[fe,U]=k.useState(["selection","refId","subject","status","priority","isHidden","isArchived","createdAt"]),_=k.useCallback(async()=>{try{const Q=await Ev();Q.success&&Q.data&&(Q.data.statuses&&R(Q.data.statuses),Q.data.priorities&&F(Q.data.priorities))}catch(Q){console.error("Failed to fetch filters",Q)}},[]),L=k.useCallback(async()=>{u(!0);try{const Q={subject:A,status:E,priority:I};D==="hidden"&&(Q.isHidden="true"),D==="visible"&&(Q.isHidden="false"),de==="archived"&&(Q.isArchived="true"),de==="active"&&(Q.isArchived="false");const ue=await op(z,le,Q);ue.success&&ue.data&&(c(ue.data.data),se(ue.data.pagination?.total||0),J(ue.data.pagination?.totalPages||1))}catch(Q){console.error("Failed to fetch references",Q)}finally{u(!1)}},[z,le,A,E,I,D,de]);k.useEffect(()=>{_()},[_]),k.useEffect(()=>{L()},[L]);const q=async(Q,ue=!1)=>{if(h.length!==0){if(!ue){const ye=`Are you sure you want to ${Q} ${h.length} references?`;if(!await i({title:"Confirm Bulk Action",message:ye,type:"warning",confirmText:"Confirm",cancelText:"Cancel"}))return}w(!0),y(null);try{const ye=await Jp(h,Q,ue);ye.success?(y({type:"success",text:`Successfully ${Q}d ${h.length} references.`}),m([]),L()):y({type:"error",text:ye.message||`Failed to ${Q} references.`})}catch(ye){if(ye.message&&ye.message.startsWith("CONFIRM_ARCHIVE:")){const ke=ye.message.replace("CONFIRM_ARCHIVE: ","");if(await i({title:"Archive Exception",message:ke,type:"warning",confirmText:"Yes, Archive",cancelText:"Cancel"})){w(!1),q(Q,!0);return}}else if(ye.response&&ye.response.status===409&&ye.response.data&&ye.response.data.message&&ye.response.data.message.startsWith("CONFIRM_ARCHIVE:")){const ke=ye.response.data.message.replace("CONFIRM_ARCHIVE: ","");if(await i({title:"Archive Exception",message:ke,type:"warning",confirmText:"Yes, Archive",cancelText:"Cancel"})){w(!1),q(Q,!0);return}}else ye.message&&ye.message.includes("409");y({type:"error",text:ye.message||"Bulk action failed"})}finally{(ue||!j)&&w(!1),ue||setTimeout(()=>y(null),5e3)}}},B=()=>{h.length===o.length?m([]):m(o.map(Q=>Q._id))},re=Q=>{m(ue=>ue.includes(Q)?ue.filter(ye=>ye!==Q):[...ue,Q])},oe=Q=>{switch(Q.toLowerCase()){case"in progress":return"bg-orange-50 text-orange-700 border-orange-100";case"open":return"bg-blue-50 text-blue-700 border-blue-100";case"closed":return"bg-emerald-50 text-emerald-700 border-emerald-100";case"reopened":return"bg-purple-50 text-purple-700 border-purple-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}};return s.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 space-y-6 animate-in fade-in duration-500",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/references/global"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-500",children:s.jsx(Af,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Hc,{className:"w-6 h-6 text-indigo-600"}),"Manage Global References"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Administrative oversight for inter-lab references (Hide/Archive)"})]})]})}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-3 items-center",children:[s.jsxs("div",{className:"relative col-span-1 md:col-span-2",children:[s.jsx("input",{type:"text",placeholder:"Search by subject or Ref ID...",className:"pl-10 w-full rounded-lg pr-4 h-10 border border-gray-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading",value:A,onChange:Q=>T(Q.target.value)}),s.jsx(xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),s.jsx(Qn,{name:"Status",options:O.map(Q=>({label:Q,value:Q})),selectedValues:E,onChange:C}),s.jsx(Qn,{name:"Priority",options:V.map(Q=>({label:Q,value:Q})),selectedValues:I,onChange:G}),s.jsx(er,{placeholder:"Select Visibility",options:[{label:"All Visibility",value:"all"},{label:"Visible Only",value:"visible"},{label:"Hidden Only",value:"hidden"}],selectedValue:D,onChange:Q=>te(Q)}),s.jsx(er,{placeholder:"Select Archival Status",options:[{label:"All Archival",value:"all"},{label:"Active Only",value:"active"},{label:"Archived Only",value:"archived"}],selectedValue:de,onChange:Q=>Y(Q)}),s.jsx("div",{className:"lg:col-start-8 flex justify-end",children:s.jsx(uu,{allColumns:["refId","subject","status","priority","isHidden","isArchived","createdAt","selection"],visibleColumns:fe,onChange:U})})]}),s.jsx("div",{className:"flex justify-between items-center border-t border-gray-50 pt-3",children:s.jsx("div",{className:"flex items-center gap-2",children:h.length>0&&s.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-2",children:[s.jsxs("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-full border border-indigo-100 flex items-center gap-2 font-heading",children:[s.jsx(Rr,{className:"w-3 h-3"}),h.length," Selected"]}),s.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(wt,{label:"Hide",variant:"secondary",className:"h-8 px-3 text-xs font-heading",onClick:()=>q("hide"),disabled:p,icon:s.jsx(ho,{className:"w-3.5 h-3.5"})}),s.jsx(wt,{label:"Unhide",variant:"secondary",className:"h-8 px-3 text-xs font-heading",onClick:()=>q("unhide"),disabled:p,icon:s.jsx(co,{className:"w-3.5 h-3.5"})}),s.jsx(wt,{label:"Archive",variant:"secondary",className:"h-8 px-3 text-xs font-heading",onClick:()=>q("archive"),disabled:p,icon:s.jsx(Gr,{className:"w-3.5 h-3.5"})}),s.jsx(wt,{label:"Restore",variant:"secondary",className:"h-8 px-3 text-xs font-heading",onClick:()=>q("unarchive"),disabled:p,icon:s.jsx(kv,{className:"w-3.5 h-3.5"})})]})]})})})]}),j&&s.jsxs("div",{className:`p-4 rounded-xl border flex items-center gap-3 animate-in slide-in-from-top-2 ${j.type==="success"?"bg-green-50 border-green-100 text-green-700":"bg-red-50 border-red-100 text-red-700"}`,children:[j.type==="success"?s.jsx(Rr,{className:"w-5 h-5"}):s.jsx(ol,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:j.text})]}),s.jsxs("div",{className:`transition-all duration-300 ${f?"opacity-40 pointer-events-none":"opacity-100"}`,children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(kf,{rows:o,visibleColumns:fe,columnWidths:{selection:"48px",refId:"120px",subject:"400px"},customHeaderRenderers:{selection:()=>s.jsx("input",{type:"checkbox",checked:o.length>0&&h.length===o.length,onChange:B,className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})},customRenderers:{selection:Q=>s.jsx("div",{className:"flex justify-center",children:s.jsx("input",{type:"checkbox",checked:h.includes(Q._id),onChange:()=>re(Q._id),className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),refId:Q=>s.jsx(gn,{to:`/references/global/${Q._id}`,className:"text-indigo-600 font-bold text-xs hover:underline",children:Q.refId}),subject:Q=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx(gn,{to:`/references/global/${Q._id}`,className:"font-semibold text-gray-900 truncate hover:text-indigo-600 hover:underline",title:Q.subject,children:Q.subject}),Q.isHidden&&s.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] text-orange-600 font-bold uppercase mt-0.5",children:[s.jsx(ho,{className:"w-2.5 h-2.5"})," Hidden"]}),Q.isArchived&&s.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] text-gray-500 font-bold uppercase mt-0.5",children:[s.jsx(Gr,{className:"w-2.5 h-2.5"})," Archived"]})]}),status:Q=>s.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[10px] font-bold uppercase tracking-wider ${oe(Q.status)}`,children:Q.status}),isHidden:Q=>Q.isHidden?s.jsxs("span",{className:"text-orange-600 flex items-center gap-1 font-bold text-[10px] uppercase",children:[s.jsx(ho,{className:"w-3 h-3"})," Yes"]}):s.jsx("span",{className:"text-gray-400 text-[10px] uppercase",children:"No"}),isArchived:Q=>Q.isArchived?s.jsxs("span",{className:"text-gray-600 flex items-center gap-1 font-bold text-[10px] uppercase",children:[s.jsx(Gr,{className:"w-3 h-3"})," Yes"]}):s.jsx("span",{className:"text-gray-400 text-[10px] uppercase",children:"No"}),createdAt:Q=>new Date(Q.createdAt).toLocaleDateString()}})}),s.jsx(x0,{data:o,keyExtractor:Q=>Q._id,emptyMessage:"No references found.",renderItem:Q=>s.jsx(b0,{data:Q,isSelected:h.includes(Q._id),onToggleSelect:()=>re(Q._id),linkBaseUrl:"/references/global",statusRenderer:oe})})]}),o.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("select",{value:le,onChange:Q=>{ve(Number(Q.target.value)),ee(1)},className:"bg-white border border-gray-200 rounded-lg px-2 py-1 outline-none",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:25,children:"25 per page"}),s.jsx("option",{value:50,children:"50 per page"}),s.jsx("option",{value:100,children:"100 per page"})]}),s.jsxs("span",{children:["Showing ",(z-1)*le+1," to ",Math.min(z*le,ae)," of ",ae]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>ee(1),disabled:z===1,className:"p-2 disabled:opacity-30 hover:bg-gray-100 rounded-lg",children:""}),s.jsx("button",{onClick:()=>ee(Q=>Math.max(1,Q-1)),disabled:z===1,className:"px-3 py-1.5 text-sm font-medium disabled:opacity-30 hover:bg-gray-100 rounded-lg",children:"PREV"}),s.jsx("div",{className:"px-4 py-1.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-sm",children:z}),s.jsx("button",{onClick:()=>ee(Q=>Math.min(Z,Q+1)),disabled:z===Z,className:"px-3 py-1.5 text-sm font-medium disabled:opacity-30 hover:bg-gray-100 rounded-lg",children:"NEXT"}),s.jsx("button",{onClick:()=>ee(Z),disabled:z===Z,className:"p-2 disabled:opacity-30 hover:bg-gray-100 rounded-lg",children:""})]})]})]})},By=()=>{const e=tr(),{user:t,hasPermission:n}=Qa(),{showConfirm:i}=cl(),o=n(xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES);k.useEffect(()=>{const pe=n(xt.FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE)||n(xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES);t&&!pe&&e("/references/local")},[t,n,e]);const[c,f]=k.useState([]),[u,h]=k.useState(!0),[m,p]=k.useState([]),[w,j]=k.useState(!1),[y,A]=k.useState(null),[T,E]=k.useState(""),[C,I]=k.useState([]),[G,D]=k.useState([]),[te,de]=k.useState("all"),[Y,O]=k.useState("all"),[R,V]=k.useState([]),[F,z]=k.useState([]),[ee,le]=k.useState([]),[ve,ae]=k.useState([]),[se,Z]=k.useState(1),[J,fe]=k.useState(25),[U,_]=k.useState(0),[L,q]=k.useState(1),[B,re]=k.useState([]);k.useEffect(()=>{const pe=["selection","refId","subject","status","priority"];o&&pe.push("labName"),pe.push("isHidden","isArchived","createdAt"),re(pe)},[o]);const oe=k.useCallback(async()=>{try{const pe=await Kp();pe.success&&pe.data&&(pe.data.statuses&&z(pe.data.statuses),pe.data.priorities&&le(pe.data.priorities),pe.data.labs&&ae(pe.data.labs))}catch(pe){console.error("Failed to fetch filters",pe)}},[]),Q=k.useCallback(async()=>{h(!0);try{const pe={subject:T,status:C,priority:G,labs:R};te==="hidden"&&(pe.isHidden="true"),te==="visible"&&(pe.isHidden="false"),Y==="archived"&&(pe.isArchived="true"),Y==="active"&&(pe.isArchived="false");const Fe=await sp(se,J,pe);Fe.success&&Fe.data&&(f(Fe.data.data),_(Fe.data.pagination?.total||0),q(Fe.data.pagination?.totalPages||1))}catch(pe){console.error("Failed to fetch local references",pe)}finally{h(!1)}},[se,J,T,C,G,te,Y,R]);k.useEffect(()=>{oe()},[oe]),k.useEffect(()=>{Q()},[Q]);const ue=async(pe,Fe=!1)=>{if(m.length!==0){if(!Fe){const X=`Are you sure you want to ${pe} ${m.length} local references?`;if(!await i({title:"Confirm Bulk Action",message:X,type:"warning",confirmText:"Confirm",cancelText:"Cancel"}))return}j(!0),A(null);try{const X=await Xp(m,pe,Fe);X.success?(A({type:"success",text:`Successfully ${pe}d ${m.length} references.`}),p([]),Q()):A({type:"error",text:X.message||`Failed to ${pe} references.`})}catch(X){if(X.response&&X.response.status===409&&X.response.data&&X.response.data.message&&X.response.data.message.startsWith("CONFIRM_ARCHIVE:")){const We=X.response.data.message.replace("CONFIRM_ARCHIVE: ","");if(await i({title:"Archive Exception",message:We,type:"warning",confirmText:"Yes, Archive",cancelText:"Cancel"})){j(!1),ue(pe,!0);return}}A({type:"error",text:X.message||X.response?.data?.message||"Bulk action failed"})}finally{(Fe||!y)&&j(!1)}Fe||setTimeout(()=>A(null),5e3)}},ye=()=>{m.length===c.length?p([]):p(c.map(pe=>pe._id))},ke=pe=>{p(Fe=>Fe.includes(pe)?Fe.filter(X=>X!==pe):[...Fe,pe])},Ne=pe=>{switch(pe.toLowerCase()){case"in progress":return"bg-orange-50 text-orange-700 border-orange-100";case"open":return"bg-blue-50 text-blue-700 border-blue-100";case"closed":return"bg-emerald-50 text-emerald-700 border-emerald-100";case"reopened":return"bg-purple-50 text-purple-700 border-purple-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}};return s.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 space-y-6 animate-in fade-in duration-500",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/references/local"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-500",children:s.jsx(Af,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(mo,{className:"w-6 h-6 text-indigo-600"}),"Manage Local References"]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Administrative oversight for ",s.jsx("span",{className:"font-bold text-indigo-600 uppercase",children:t?.labName})," references"]})]})]})}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-3 items-center",children:[s.jsxs("div",{className:"relative col-span-1 md:col-span-2",children:[s.jsx("input",{type:"text",placeholder:"Search by subject or Ref ID...",className:"pl-10 w-full rounded-lg pr-4 h-10 border border-gray-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading",value:T,onChange:pe=>E(pe.target.value)}),s.jsx(xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),s.jsx(Qn,{name:"Status",options:F.map(pe=>({label:pe,value:pe})),selectedValues:C,onChange:I}),s.jsx(Qn,{name:"Priority",options:ee.map(pe=>({label:pe,value:pe})),selectedValues:G,onChange:D}),s.jsx(er,{placeholder:"Select Visibility",options:[{label:"All Visibility",value:"all"},{label:"Visible Only",value:"visible"},{label:"Hidden Only",value:"hidden"}],selectedValue:te,onChange:pe=>de(pe)}),s.jsx(er,{placeholder:"Select Archival Status",options:[{label:"All Archival",value:"all"},{label:"Active Only",value:"active"},{label:"Archived Only",value:"archived"}],selectedValue:Y,onChange:pe=>O(pe)}),o&&s.jsx(Qn,{name:"Lab",options:ve.map(pe=>({label:pe,value:pe})),selectedValues:R,onChange:V}),s.jsx("div",{className:"lg:col-start-8 flex justify-end",children:s.jsx(uu,{allColumns:["refId","subject","status","priority","labName","isHidden","isArchived","createdAt","selection"].filter(pe=>pe!=="labName"||o),visibleColumns:B,onChange:re})})]}),s.jsx("div",{className:"flex justify-between items-center border-t border-gray-50 pt-3",children:s.jsx("div",{className:"flex items-center gap-2",children:m.length>0&&s.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-2",children:[s.jsxs("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-full border border-indigo-100 flex items-center gap-2 font-heading",children:[s.jsx(Rr,{className:"w-3 h-3"}),m.length," Selected"]}),s.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(wt,{label:"Hide",variant:"secondary",className:"h-8 px-3 text-xs font-heading",onClick:()=>ue("hide"),disabled:w,icon:s.jsx(ho,{className:"w-3.5 h-3.5"})}),s.jsx(wt,{label:"Unhide",variant:"secondary",className:"h-8 px-3 text-xs font-heading",onClick:()=>ue("unhide"),disabled:w,icon:s.jsx(co,{className:"w-3.5 h-3.5"})}),s.jsx(wt,{label:"Archive",variant:"secondary",className:"h-8 px-3 text-xs font-heading",onClick:()=>ue("archive"),disabled:w,icon:s.jsx(Gr,{className:"w-3.5 h-3.5"})}),s.jsx(wt,{label:"Restore",variant:"secondary",className:"h-8 px-3 text-xs font-heading",onClick:()=>ue("unarchive"),disabled:w,icon:s.jsx(kv,{className:"w-3.5 h-3.5"})})]})]})})})]}),y&&s.jsxs("div",{className:`p-4 rounded-xl border flex items-center gap-3 animate-in slide-in-from-top-2 ${y.type==="success"?"bg-green-50 border-green-100 text-green-700":"bg-red-50 border-red-100 text-red-700"}`,children:[y.type==="success"?s.jsx(Rr,{className:"w-5 h-5"}):s.jsx(ol,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium font-heading",children:y.text})]}),s.jsxs("div",{className:`transition-all duration-300 ${u?"opacity-40 pointer-events-none":"opacity-100"}`,children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(kf,{rows:c,visibleColumns:B,columnWidths:{selection:"48px",refId:"120px",subject:"400px"},customHeaderRenderers:{selection:()=>s.jsx("input",{type:"checkbox",checked:c.length>0&&m.length===c.length,onChange:ye,className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})},customRenderers:{selection:pe=>s.jsx("div",{className:"flex justify-center",children:s.jsx("input",{type:"checkbox",checked:m.includes(pe._id),onChange:()=>ke(pe._id),className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),refId:pe=>s.jsx(gn,{to:`/references/local/${pe._id}`,className:"text-indigo-600 font-bold text-xs hover:underline font-heading",children:pe.refId}),subject:pe=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-gray-900 truncate font-heading",title:pe.subject,children:pe.subject}),s.jsxs("div",{className:"flex gap-2 mt-0.5",children:[pe.isHidden&&s.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] text-orange-600 font-bold uppercase font-heading",children:[s.jsx(ho,{className:"w-2.5 h-2.5"})," Hidden"]}),pe.isArchived&&s.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] text-gray-500 font-bold uppercase font-heading",children:[s.jsx(Gr,{className:"w-2.5 h-2.5"})," Archived"]})]})]}),status:pe=>s.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[10px] font-bold uppercase tracking-wider font-heading ${Ne(pe.status)}`,children:pe.status}),isHidden:pe=>pe.isHidden?s.jsxs("span",{className:"text-orange-600 flex items-center gap-1 font-bold text-[10px] uppercase font-heading",children:[s.jsx(ho,{className:"w-3 h-3"})," Yes"]}):s.jsx("span",{className:"text-gray-400 text-[10px] uppercase font-heading",children:"No"}),isArchived:pe=>pe.isArchived?s.jsxs("span",{className:"text-gray-600 flex items-center gap-1 font-bold text-[10px] uppercase font-heading",children:[s.jsx(Gr,{className:"w-3 h-3"})," Yes"]}):s.jsx("span",{className:"text-gray-400 text-[10px] uppercase font-heading",children:"No"}),labName:pe=>s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase font-heading",children:pe.labName||"N/A"}),createdAt:pe=>s.jsx("span",{className:"font-heading",children:new Date(pe.createdAt).toLocaleDateString()})}})}),s.jsx(x0,{data:c,keyExtractor:pe=>pe._id,emptyMessage:"No references found.",renderItem:pe=>s.jsx(b0,{data:pe,isSelected:m.includes(pe._id),onToggleSelect:()=>ke(pe._id),linkBaseUrl:"/references/local",statusRenderer:Ne,showLabName:o})})]}),c.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 pt-4 font-heading",children:[s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("select",{value:J,onChange:pe=>{fe(Number(pe.target.value)),Z(1)},className:"bg-white border border-gray-200 rounded-lg px-2 py-1 outline-none",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:25,children:"25 per page"}),s.jsx("option",{value:50,children:"50 per page"}),s.jsx("option",{value:100,children:"100 per page"})]}),s.jsxs("span",{children:["Showing ",(se-1)*J+1," to ",Math.min(se*J,U)," of ",U]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>Z(1),disabled:se===1,className:"p-2 disabled:opacity-30 hover:bg-gray-100 rounded-lg",children:""}),s.jsx("button",{onClick:()=>Z(pe=>Math.max(1,pe-1)),disabled:se===1,className:"px-3 py-1.5 text-sm font-medium disabled:opacity-30 hover:bg-gray-100 rounded-lg",children:"PREV"}),s.jsx("div",{className:"px-4 py-1.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-sm",children:se}),s.jsx("button",{onClick:()=>Z(pe=>Math.min(L,pe+1)),disabled:se===L,className:"px-3 py-1.5 text-sm font-medium disabled:opacity-30 hover:bg-gray-100 rounded-lg",children:"NEXT"}),s.jsx("button",{onClick:()=>Z(L),disabled:se===L,className:"p-2 disabled:opacity-30 hover:bg-gray-100 rounded-lg",children:""})]})]})]})},ZC=({isOpen:e,onClose:t,onSuccess:n,reference:i,referenceType:o})=>{const[c,f]=k.useState(""),[u,h]=k.useState(""),[m,p]=k.useState("Open"),[w,j]=k.useState("Medium"),[y,A]=k.useState(""),[T,E]=k.useState(""),[C,I]=k.useState("Eoffice"),[G,D]=k.useState(""),[te,de]=k.useState(""),[Y,O]=k.useState(""),[R,V]=k.useState([]),[F,z]=k.useState(!1),[ee,le]=k.useState(null),[ve,ae]=k.useState(!1),[se,Z]=k.useState(150),[J,fe]=k.useState([]),{user:U,hasPermission:_}=Qa(),L=R.filter(ze=>{if(ze.role===dr)return!1;const rt=U?._id&&ze._id&&String(ze._id)===String(U._id),dt=U?.email&&ze.email&&ze.email.toLowerCase()===U.email.toLowerCase();if(rt||dt)return!1;if(J.length>0){const gt=o==="LocalReference"?xt.FEATURE_VIEW_OWN_OFFICE_SENDER:xt.FEATURE_VIEW_INTER_OFFICE_SENDER,Ee=J.find(Le=>Le.feature===gt);if(Ee&&Array.isArray(Ee.roles)&&!(ze.availableRoles&&Array.isArray(ze.availableRoles)?ze.availableRoles:[ze.role]).some(Ze=>Ee.roles.includes(Ze)))return!1}return!0}),q=Array.from(new Set(L.map(ze=>ze.labName).filter(Boolean))).sort();o==="LocalReference"&&U?.labName&&!q.includes(U.labName)&&(q.push(U.labName),q.sort());const B=Y?L.filter(ze=>ze.labName===Y):[],re=k.useRef(null),oe=_(xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES)||_(xt.FEATURE_MANAGE_GLOBAL_REFERENCES),Q=_(xt.FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE),ue=oe||Q;if(k.useEffect(()=>{const ze=async()=>{try{const dt=await ou(1,1e3);if(dt.success){let gt=Array.isArray(dt.data)?dt.data:dt.data?.users||[];gt=gt.map(Ee=>({...Ee,_id:Ee._id||Ee.id})),V(gt)}}catch(dt){console.error("Failed to fetch users",dt)}},rt=async()=>{try{const dt=await _f();if(dt.success&&dt.data){const gt=dt.data.REMARKS_WORD_LIMIT;gt&&Z(Number(gt));const Ee=dt.data.FEATURE_PERMISSIONS;Ee&&Array.isArray(Ee)&&fe(Ee)}}catch(dt){console.error("Failed to fetch system config",dt)}};ze(),rt()},[]),k.useEffect(()=>{if(i){f(i.subject||""),h(""),i.status==="Open"||i.status==="Reopened"?p("In Progress"):i.status==="Closed"&&ue?p("Reopened"):p(i.status||"In Progress"),j(i.priority||"Medium");const ze=Array.isArray(i.markedTo)?typeof i.markedTo[0]=="object"?i.markedTo[0]?._id:i.markedTo[0]:typeof i.markedTo=="object"&&i.markedTo!==null?i.markedTo._id:i.markedTo;A(ze||""),E(i.eofficeNo||""),I(i.deliveryMode||"Eoffice"),D(i.deliveryDetails||""),de(i.sentAt?new Date(i.sentAt).toISOString().split("T")[0]:"");const rt=Array.isArray(i.markedTo)?i.markedTo[0]:i.markedTo;if(typeof rt=="object"&&rt!==null)O(rt.labName||"");else if(ze&&R.length>0){const dt=R.find(gt=>gt._id===ze);dt&&O(dt.labName||"")}if(setTimeout(()=>{re.current?.focus()},100),o==="LocalReference"&&U?.labName){const dt=typeof i.markedTo=="object"&&i.markedTo!==null?i.markedTo._id:i.markedTo;String(dt),String(U._id),O(U.labName)}}},[i?._id,e,R,o,U?._id,U?.labName]),!e||!i)return null;const ye=i?.status!=="Closed"&&m==="Closed",ke=i?.status==="Closed"&&m==="Reopened",Ne=async()=>{le(null),z(!0);try{const ze=o==="LocalReference"?await c8(i._id,{subject:c,remarks:u,status:m,priority:w,markedTo:y,eofficeNo:T}):await m8(i._id,{subject:c,remarks:u,status:m,priority:w,markedTo:y,eofficeNo:T,deliveryMode:C,deliveryDetails:G,sentAt:te});if(ze.success){console.log("Update success. Message set. Calling onSuccess...");let rt=3;le({type:"success",text:`Reference updated successfully. Auto closing in ${rt} seconds...`}),n(),ae(!1);const dt=setInterval(()=>{rt-=1,rt>0?le({type:"success",text:`Reference updated successfully. Auto closing in ${rt} seconds...`}):(clearInterval(dt),console.log("Countdown finished. Closing modal..."),t(),le(null))},1e3)}else le({type:"error",text:ze.message||"Failed to update reference"}),ae(!1)}catch(ze){le({type:"error",text:ze.message||"An unexpected error occurred"}),ae(!1)}finally{z(!1)}},pe=ze=>ze.trim().split(/\s+/).filter(Boolean).length,Fe=ze=>{h(ze.target.value)},X=()=>C==="Eoffice"?"Issue No.":"Sent To",We=()=>C==="Eoffice"?"Enter e-office issue no.":C==="Email"?"Enter recipient email/name":"Enter recipient address/name",xe=async ze=>{if(ze.preventDefault(),!u.trim()){le({type:"error",text:"Remarks are required"});return}const rt=se*50;if(u.length>rt){le({type:"error",text:`Remarks cannot exceed ${rt} characters`});return}if(pe(u)>se){le({type:"error",text:`Remarks cannot exceed ${se} words`});return}if(m!=="Closed"&&y&&U?._id&&String(y)===String(U._id)){le({type:"error",text:"You cannot mark a reference to yourself"});return}if(o!=="LocalReference"&&!G.trim()){le({type:"error",text:`${X()} is required`});return}if(G.length>60){le({type:"error",text:`${X()} cannot exceed 60 characters`});return}if(o!=="LocalReference"&&!te){le({type:"error",text:"Sent Date is required"});return}if(ye){ae(!0);return}await Ne()},Ue=U?._id&&(()=>{if(Array.isArray(i.markedTo))return i.markedTo.some(rt=>{const dt=typeof rt=="object"&&rt!==null?rt._id:rt;return String(dt)===String(U._id)});const ze=typeof i.markedTo=="object"&&i.markedTo!==null?i.markedTo._id:i.markedTo;return String(ze)===String(U._id)})(),Re=ue||Ue;return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in text-left",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl mx-4 flex flex-col max-h-[90vh] animate-scale-in overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50 shrink-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:o==="LocalReference"?"Update Local Reference":"Update Global Reference"}),i?.refId&&s.jsxs("p",{className:"text-sm font-medium text-gray-500 mt-0.5",children:[o==="LocalReference"?"Local":"Global"," Ref ID: ",i.refId]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors text-gray-500 hover:text-gray-700",children:s.jsx(Dn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto",children:[ee&&s.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm font-medium ${ee.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:ee.text}),s.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[s.jsx(ur,{id:"subject",label:"Subject",type:"text",value:c,onChange:ze=>f(ze.target.value),placeholder:"Enter subject",icon:s.jsx(Tr,{className:"w-4 h-4 text-gray-400"}),required:!0,readOnly:!ue,className:ue?"":"bg-gray-200 cursor-not-allowed opacity-70"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o!=="LocalReference"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"deliveryMode",className:"block text-sm font-medium text-gray-700",children:["Mode Sent ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"deliveryMode",value:C,onChange:ze=>I(ze.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all bg-gray-200 cursor-not-allowed opacity-70 text-sm",disabled:!0,children:[s.jsx("option",{value:"Eoffice",children:"Eoffice"}),s.jsx("option",{value:"Email",children:"Email"}),s.jsx("option",{value:"Physical",children:"Physical"})]})]}),o!=="LocalReference"?C==="Eoffice"?s.jsx(ur,{id:"eofficeNo",label:"E-office No.",type:"text",value:T,onChange:ze=>E(ze.target.value),placeholder:"E-office number",icon:s.jsx(Tr,{className:"w-4 h-4 text-gray-400"}),readOnly:!0,className:"bg-gray-200 cursor-not-allowed opacity-70"}):s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"deliveryDetails",className:"block text-sm font-medium text-gray-700",children:[X()," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{id:"deliveryDetails",type:"text",value:G,onChange:ze=>D(ze.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all bg-gray-200 cursor-not-allowed opacity-70 text-sm",placeholder:We(),disabled:!0})]}):s.jsx(ur,{id:"eofficeNo",label:"E-office No.",type:"text",value:T,onChange:ze=>E(ze.target.value),placeholder:"E-office number",icon:s.jsx(Tr,{className:"w-4 h-4 text-gray-400"}),readOnly:!0,className:"bg-gray-200 cursor-not-allowed opacity-70"}),o!=="LocalReference"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"sentDate",className:"block text-sm font-medium text-gray-700",children:["Sent Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{id:"sentDate",type:"date",value:te,onChange:ze=>de(ze.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all bg-gray-200 cursor-not-allowed opacity-70 text-sm",disabled:!0})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"remarks",className:"text-sm font-medium text-gray-700 flex justify-between",children:[s.jsxs("span",{children:["Remarks ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("span",{className:`text-xs ${pe(u)>se?"text-red-500 font-bold":"text-gray-500"}`,children:[pe(u)," / ",se," words"]})]}),s.jsx("textarea",{id:"remarks",ref:re,value:u,onChange:Fe,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 outline-none transition-all resize-none h-24 ${pe(u)>se?"border-red-500 focus:ring-red-500 text-red-600":"border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"}`,placeholder:ye?"Enter closing remarks":ke?"Enter reopening remarks":"Enter remarks",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:`space-y-1 ${m==="Closed"?"col-span-2":""}`,children:[s.jsxs("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{id:"status",value:m,onChange:ze=>p(ze.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all bg-white",children:i?.status==="Closed"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Closed",children:"Closed"}),Re&&s.jsx("option",{value:"Reopened",children:"Reopen"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Closed",children:"Closed"}),i?.status==="Reopened"&&s.jsx("option",{value:"Reopened",children:"Reopened"})]})})]}),m!=="Closed"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:["Priority ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"priority",value:w,onChange:ze=>j(ze.target.value),className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all bg-white ${ue?"":"bg-gray-200! cursor-not-allowed opacity-70"}`,disabled:!ue,children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]})]}),m==="Closed"&&i.status!=="Closed"&&s.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-3 rounded-md border border-blue-200",children:[s.jsx("span",{className:"font-semibold",children:"Note:"})," This reference will be automatically marked to the ",s.jsx("span",{className:"font-bold",children:"Administrators"})," upon closing."]}),i.status==="Closed"&&!Re&&s.jsxs("div",{className:"text-sm text-gray-500 bg-gray-100 p-3 rounded-md border border-gray-200",children:[s.jsx("span",{className:"font-semibold",children:"Info:"})," Only Main Admins or current Assignees have the rights to reopen this reference."]}),m!=="Closed"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"lab",className:"block text-sm font-medium text-gray-700",children:["Select Lab / Unit",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(er,{placeholder:"Select Lab",options:q.map(ze=>({label:ze,value:ze})),selectedValue:Y,onChange:ze=>{O(ze),A("")},disabled:o==="LocalReference"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"markedTo",className:"block text-sm font-medium text-gray-700",children:["Marked To ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(er,{placeholder:Y?"Select a user":"Select Lab first",options:B.map(ze=>({label:`${ze.fullName||ze.email.split("@")[0]}${ze.designation?`, ${ze.designation}`:""} (${ze.email})`,value:ze._id})),selectedValue:y,onChange:ze=>A(ze),disabled:!Y})]})]}),s.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),(i.status!=="Closed"||m!=="Closed")&&s.jsx("button",{type:"submit",disabled:F,className:"w-full sm:w-auto px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all shadow-md font-medium disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:F?s.jsxs(s.Fragment,{children:[s.jsx(Mn,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(go,{className:"w-4 h-4"}),"Update Reference"]})})]})]})]})]}),ve&&s.jsx("div",{className:"absolute inset-0 z-10 bg-white/95 flex items-center justify-center p-6 animate-fade-in",children:s.jsxs("div",{className:"text-center space-y-4 max-w-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(_v,{className:"w-8 h-8 text-yellow-600"})}),s.jsx("h4",{className:"text-xl font-bold text-gray-900",children:"Are you sure?"}),s.jsxs("p",{className:"text-gray-600",children:["You are about to close this reference. Once closed, only ",s.jsx("span",{className:"font-semibold text-gray-900",children:"System Admins"})," can reopen it."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-2",children:[s.jsx("button",{type:"button",onClick:()=>ae(!1),className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),s.jsx("button",{type:"button",onClick:Ne,disabled:F,className:"w-full sm:w-auto px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all shadow-md font-medium flex items-center justify-center gap-2",children:F?s.jsxs(s.Fragment,{children:[s.jsx(Mn,{className:"w-4 h-4 animate-spin"}),"Closing..."]}):s.jsx(s.Fragment,{children:"Confirm Close"})})]})]})})]})},QC=({isOpen:e,onClose:t,reference:n,workflowUsers:i,referenceType:o})=>{const[c,f]=k.useState([]),[u,h]=k.useState(""),[m,p]=k.useState("Medium"),[w,j]=k.useState(!1),[y,A]=k.useState(null),[T,E]=k.useState(150);if(k.useEffect(()=>{e&&((async()=>{try{const te=await _f();if(te.success&&te.data){const de=te.data.REMARKS_WORD_LIMIT;de&&E(Number(de))}}catch(te){console.error("Failed to fetch system config",te)}})(),n&&typeof n.markedTo=="object"&&n.markedTo!==null?f([n.markedTo._id]):n&&typeof n.markedTo=="string"?f([n.markedTo]):f([]),h(""),p("Medium"),A(null))},[e,n]),!e||!n)return null;const C=D=>D.trim().split(/\s+/).filter(Boolean).length,I=async D=>{if(D.preventDefault(),A(null),c.length===0){A({type:"error",text:"Please select at least one recipient."});return}if(!u.trim()){A({type:"error",text:"Remarks are required."});return}const te=T*50;if(u.length>te){A({type:"error",text:`Remarks cannot exceed ${te} characters`});return}if(C(u)>T){A({type:"error",text:`Remarks cannot exceed ${T} words`});return}j(!0);try{const de=o==="LocalReference"?await d8(n._id,c,u,m):await g8(n._id,c,u,m);de.success?(A({type:"success",text:"Reminder sent successfully!"}),setTimeout(()=>{t()},1500)):A({type:"error",text:de.message||"Failed to send reminder"})}catch(de){A({type:"error",text:de.message||"An unexpected error occurred"})}finally{j(!1)}},G=i.filter(D=>D.role!=="Inter Lab sender"&&D.role!==dr).map(D=>({label:`${D.fullName} (${D.email})`,value:D._id,title:D.designation?`${D.designation} at ${D.labName}`:D.labName}));return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg mx-4 overflow-hidden animate-scale-in",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(_v,{className:"w-5 h-5 text-amber-500"}),"Issue Reminder / Seek Inputs"]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors text-gray-500 hover:text-gray-700",children:s.jsx(Dn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-4 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[s.jsxs("p",{children:[s.jsxs("strong",{children:[s.jsx("span",{className:"text-blue-600 font-bold",children:o==="LocalReference"?"Local":"Global"})," Ref ID:"]})," ",n.refId]}),s.jsxs("p",{className:"truncate",children:[s.jsx("strong",{children:"Subject:"})," ",n.subject]})]}),y&&s.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm font-medium ${y.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:y.text}),s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1 relative z-20",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Select Recipients ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Qn,{name:"Select Users",options:G,selectedValues:c,onChange:f}),c.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:c.map(D=>{const te=G.find(de=>de.value===D);return te?s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-indigo-50 text-indigo-700 border border-indigo-100",children:te.label.split("(")[0].trim()},D):null})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select one or more users to receive this email."})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),s.jsxs("select",{id:"priority",value:m,onChange:D=>p(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all bg-white",children:[s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"remarks",className:"text-sm font-medium text-gray-700 flex justify-between",children:[s.jsxs("span",{children:["Remarks / Comments ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("span",{className:`text-xs ${C(u)>T?"text-red-500 font-bold":"text-gray-500"}`,children:[C(u)," / ",T," words"]})]}),s.jsx("textarea",{id:"remarks",value:u,onChange:D=>h(D.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 outline-none transition-all resize-none h-32 ${C(u)>T?"border-red-500 focus:ring-red-500 text-red-600":"border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"}`,placeholder:"Enter your reminder message here...",required:!0})]}),s.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:w,className:"w-full sm:w-auto px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all shadow-md font-medium disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:w?s.jsxs(s.Fragment,{children:[s.jsx(Mn,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jk,{className:"w-4 h-4"}),"Send Reminder"]})})]})]})]})]})})},eL=({isOpen:e,onClose:t,reference:n,onSuccess:i,referenceType:o})=>{const[c,f]=k.useState(""),[u,h]=k.useState(!1),[m,p]=k.useState(null);if(!e)return null;const w=async j=>{if(j.preventDefault(),p(null),!c.trim()){p({type:"error",text:"Remarks are required."});return}h(!0);try{o==="LocalReference"?await u8(n._id,c):await p8(n._id,c),p({type:"success",text:"Reopening request sent successfully."}),f(""),i(),setTimeout(()=>{t(),p(null)},2e3)}catch(y){p({type:"error",text:y.message||"Failed to send request"})}finally{h(!1)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg mx-4 overflow-hidden animate-scale-in",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Request Reopening"}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors text-gray-500 hover:text-gray-700",children:s.jsx(Dn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-4 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg border border-gray-100",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Ref ID:"})," ",n.refId]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),s.jsx("span",{className:"ml-1 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:n.status})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Subject:"})," ",n.subject]})]})}),m&&s.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm font-medium ${m.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:m.text}),s.jsxs("form",{onSubmit:w,id:"reopen-form",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700",children:["Reason for Reopening ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{id:"remarks",rows:4,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 outline-none transition-all resize-none ${m?.type==="error"?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"}`,placeholder:"Please describe why this reference needs to be reopened...",value:c,onChange:j=>f(j.target.value),required:!0,disabled:m?.type==="success"})]}),s.jsxs("div",{className:"pt-2 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[s.jsx(wt,{type:"button",variant:"secondary",onClick:t,label:"Cancel",className:"w-full sm:w-auto flex justify-center !text-center"}),s.jsx(wt,{type:"submit",variant:"primary",label:u?"Sending...":"Send Request",disabled:u||m?.type==="success",className:"w-full sm:w-auto flex justify-center text-center!"})]})]})]})]})})};function zy(){const{id:e}=_5(),t=tr(),[n,i]=k.useState(null),[o,c]=k.useState(!0),[f,u]=k.useState(""),[h,m]=k.useState(!1),[p,w]=k.useState(!1),[j,y]=k.useState(!1),[A,T]=k.useState(!1),[E,C]=k.useState(null),[I,G]=k.useState("GlobalReference"),[D,te]=k.useState(!1),[de,Y]=k.useState("landscape"),{showMessage:O,showConfirm:R}=cl(),[V,F]=k.useState({}),[z,ee]=k.useState(!1),le=Ne=>{F(pe=>({...pe,[Ne]:!pe[Ne]}))},{user:ve,hasPermission:ae}=Qa(),se=ae(xt.FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE)||ae(xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES)||ae(xt.FEATURE_MANAGE_GLOBAL_REFERENCES),Z=wr(),J=k.useMemo(()=>Z.pathname.includes("/local/"),[Z.pathname]),fe=k.useCallback(async(Ne=!1)=>{if(e)try{if(Ne&&c(!0),J){const pe=await ip(e);if(pe.success&&pe.data){i(pe.data),G("LocalReference");return}const Fe=await lp(e);if(Fe.success&&Fe.data){i(Fe.data),G("GlobalReference");return}}else{try{const pe=await lp(e);if(pe.success&&pe.data){i(pe.data),G("GlobalReference");return}}catch(pe){console.log("Global fetch failed, trying local fallback",pe)}try{const pe=await ip(e);if(pe.success&&pe.data){i(pe.data),G("LocalReference");return}}catch(pe){console.log("Local fetch failed",pe)}}Ne&&u("Failed to load reference details")}catch(pe){Ne&&u("An error occurred while fetching details"),console.error(pe)}finally{Ne&&c(!1)}},[e,J]);k.useEffect(()=>{fe(!0)},[fe]);const U=async Ne=>{let pe="";if(Ne==="reject"){const Fe=window.prompt("Please enter a reason for rejection (optional):");if(Fe===null)return;pe=Fe}else if(!await R({title:"Confirm Approval",message:"Are you sure you want to approve this reopening request?",type:"warning",confirmText:"Approve",cancelText:"Cancel"}))return;te(!0);try{await x8(e,Ne,pe),fe()}catch(Fe){O({title:"Error",message:Fe.message||`Failed to ${Ne} request`,type:"error"})}finally{te(!1)}},_=async Ne=>{if(!(!e||!await R({title:`Confirm ${Ne.charAt(0).toUpperCase()+Ne.slice(1)}`,message:`Are you sure you want to ${Ne} this reference?`,type:"warning",confirmText:"Yes, proceed",cancelText:"No"}))){te(!0);try{const Fe=I==="GlobalReference"?await Jp([e],Ne):await Xp([e],Ne);Fe.success?fe():O({title:"Action Failed",message:Fe.message||"Action failed",type:"error"})}catch(Fe){const X=Fe.response?.data?.message||Fe.message||"An error occurred";O({title:"Error",message:X,type:"error"})}finally{te(!1)}}},L=async()=>{if(!n)return;const{reference:Ne,movements:pe}=n,Fe=`${Ne.refId||"Reference"}-Report`,X=`${I==="LocalReference"?"Local":"Global"} Reference Movement Report`,We=ve?`${ve.fullName} (${ve.email})`:"System";await $C(Ne,pe,X,Fe,We,p0,de)},q=Ne=>{Ne&&(C(Ne),T(!0))};if(o)return s.jsx("div",{className:"p-8 text-center",children:"Loading..."});if(f)return s.jsx("div",{className:"p-8 text-center text-red-500",children:f});if(!n)return s.jsx("div",{className:"p-8 text-center",children:"Reference not found"});const{reference:B,movements:re}=n,oe=Ne=>{if(!Ne)return"Unknown User";if(typeof Ne=="string")return Ne;const pe=Ne.fullName||"Unknown User",Fe=Ne.designation?`, ${Ne.designation}`:"",X=Ne.labName?` (${Ne.labName})`:"";return`${pe}${Fe}${X}`},Q=Ne=>Ne?typeof Ne=="string"?Ne:Ne._id:null,ue=se||ve?._id&&B.markedTo&&(Array.isArray(B.markedTo)?B.markedTo.some(Ne=>{const pe=typeof Ne=="object"&&Ne!==null?Ne._id:Ne;return String(pe)===String(ve._id)}):typeof B.markedTo=="object"&&B.markedTo!==null?String(B.markedTo._id)===String(ve._id):String(B.markedTo)===String(ve._id)),ke=(()=>{const Ne=new Map,pe=Fe=>{if(Fe){if(Array.isArray(Fe)){Fe.forEach(X=>pe(X));return}Fe&&typeof Fe=="object"&&(Fe._id||Fe.id)&&Ne.set(String(Fe._id||Fe.id),Fe)}};return re&&re.forEach(Fe=>{Array.isArray(Fe.markedTo)?Fe.markedTo.forEach(X=>pe(X)):pe(Fe.markedTo),pe(Fe.performedBy)}),pe(B.createdBy),pe(B.markedTo),Array.from(Ne.values())})();return s.jsxs("div",{className:"w-full px-3 sm:px-5 lg:px-7 py-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8 px-2 sm:px-6",children:[s.jsxs("button",{onClick:()=>{t(-1)},className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors group",children:[s.jsx(Af,{className:"w-4 h-4 mr-2 transition-transform group-hover:-translate-x-1"}),s.jsx("span",{className:"text-sm font-medium",children:I==="LocalReference"?"Back to Local References":"Back to Global References"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg border border-gray-200 w-full sm:w-auto",children:[s.jsx("button",{onClick:()=>Y("portrait"),className:`flex-1 sm:px-3 py-1.5 text-xs rounded-md transition-all ${de==="portrait"?"bg-white text-indigo-600 shadow-sm font-semibold":"text-gray-500 hover:text-gray-700"}`,title:"Portrait Mode",children:"Portrait"}),s.jsx("button",{onClick:()=>Y("landscape"),className:`flex-1 sm:px-3 py-1.5 text-xs rounded-md transition-all ${de==="landscape"?"bg-white text-indigo-600 shadow-sm font-semibold":"text-gray-500 hover:text-gray-700"}`,title:"Landscape Mode",children:"Landscape"})]}),s.jsx(wt,{label:"Print",variant:"secondary",className:"h-9 sm:h-10 w-full sm:w-32 shadow-lg shadow-gray-200/50 hover:shadow-gray-300/50 whitespace-nowrap font-heading text-sm font-semibold border-gray-200 bg-white text-gray-700 uppercase tracking-wider",icon:s.jsx(pk,{className:"w-4 h-4"}),onClick:L})]})]}),B.reopenRequest&&B.status==="Closed"&&s.jsx("div",{className:"mb-6 bg-orange-50 border-l-4 border-orange-500 p-4 rounded shadow-sm",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"shrink-0",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"ml-3 w-full",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-orange-800",children:"Reopening Request Pending"}),B.reopenRequest?.requestId&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["ID: ",B.reopenRequest?.requestId]})]}),s.jsxs("div",{className:"mt-2 text-sm text-orange-700",children:[s.jsxs("p",{children:[s.jsx("button",{onClick:()=>q(Q(B.reopenRequest?.requestedBy)),className:"font-bold hover:text-orange-900 hover:underline text-left inline",children:oe(B.reopenRequest.requestedBy)})," has requested to reopen this reference."]}),s.jsxs("p",{className:"mt-1",children:[s.jsx("strong",{children:"Reason:"})," ",B.reopenRequest.reason]}),s.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Requested on: ",new Date(B.reopenRequest.requestedAt).toLocaleDateString()]})]}),s.jsx("div",{className:"mt-4",children:se?s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>U("approve"),disabled:D,className:"px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase tracking-wider rounded-lg hover:bg-green-700 shadow-sm transition-all flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:D?"Approving...":"Approve"}),s.jsx("button",{onClick:()=>U("reject"),disabled:D,className:"px-4 py-2 bg-rose-600 text-white text-xs font-bold uppercase tracking-wider rounded-lg hover:bg-rose-700 shadow-sm transition-all flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:D?"Rejecting...":"Reject"})]}):s.jsx("p",{className:"text-sm text-gray-600 italic",children:"The request to reopen this reference is pending for approval."})})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1 animate-text-gradient",children:"Movement Flow"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Chronological history of the reference."})]}),(se||ve?._id&&re?.some(Ne=>Ne.markedTo?._id===ve._id||Ne.performedBy?._id===ve._id)||ve?._id&&B.createdBy&&(typeof B.createdBy=="object"?B.createdBy._id===ve._id:B.createdBy===ve._id))&&s.jsx("div",{className:"w-full sm:w-auto",children:B.status==="Closed"?!se&&!B.reopenRequest&&s.jsx(wt,{label:"Reopening Request",className:"w-full sm:w-auto px-6 py-2.5 bg-orange-600 text-white hover:bg-orange-700 shadow-sm text-sm font-bold uppercase tracking-wider",onClick:()=>y(!0)}):s.jsx(wt,{label:"Issue Reminder / Seek Inputs",className:"w-full sm:w-auto px-6 py-2.5 bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm text-sm font-bold uppercase tracking-wider",onClick:()=>w(!0)})})]}),s.jsxs("div",{className:"relative overflow-visible",children:[s.jsx("div",{className:"absolute left-6 sm:left-6 top-0 bottom-0 w-0.5 bg-gray-100 italic"}),s.jsxs("div",{className:"space-y-8",children:[re&&re.map(Ne=>s.jsxs("div",{className:"relative flex flex-col sm:flex-row gap-4 sm:gap-6 group",children:[s.jsxs("div",{className:"flex-none flex sm:block items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-xs shadow-md border-4 border-white ring-1 ring-gray-100",style:{backgroundColor:"#a855f7"},children:(Ne.performedBy||(Array.isArray(Ne.markedTo)?Ne.markedTo[0]:Ne.markedTo))?.fullName?.substring(0,2).toUpperCase()||"NA"}),s.jsx("span",{className:"sm:hidden text-[10px] font-bold uppercase tracking-wider text-gray-400",children:new Date(Ne.movementDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})})]}),s.jsxs("div",{className:"grow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 flex flex-wrap",children:s.jsx("button",{onClick:()=>q(Q(Ne.performedBy||(Array.isArray(Ne.markedTo)?Ne.markedTo[0]:Ne.markedTo))),className:"hover:text-indigo-600 hover:underline text-left font-semibold wrap-break-word",children:oe(Ne.performedBy||(Array.isArray(Ne.markedTo)?Ne.markedTo[0]:Ne.markedTo))})}),s.jsxs("div",{className:"inline-flex items-center gap-1 mt-1",children:[s.jsx("span",{className:"w-2 h-2 rounded-full border border-red-500 flex items-center justify-center",children:s.jsx("span",{className:"w-1 h-1 rounded-full bg-red-500"})}),s.jsx("span",{className:"text-sm text-gray-600 font-semibold",children:Ne.statusOnMovement})]}),Ne.performedBy&&s.jsxs("div",{className:"text-xs text-gray-500 mt-2 mb-1",children:[s.jsx("span",{children:"Next marked to: "}),Array.isArray(Ne.markedTo)&&Ne.markedTo.length>1?s.jsxs("div",{className:"inline-block relative",children:[s.jsxs("button",{onClick:()=>le(Ne._id),className:"text-indigo-600 font-bold hover:underline flex items-center gap-1",children:["All Relevant Administrators (",Ne.markedTo.length,")",ve?._id&&Array.isArray(Ne.markedTo)&&Ne.markedTo.some(pe=>String(Q(pe))===String(ve._id))&&s.jsx(al,{className:"w-2.5 h-2.5 text-red-500 animate-bounce",fill:"currentColor"})]}),V[Ne._id]&&s.jsxs("div",{className:"absolute z-10 left-0 mt-2 p-3 bg-white border border-gray-200 rounded-lg shadow-xl min-w-[250px] max-h-[200px] overflow-y-auto",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-bold mb-2 border-b pb-1",children:"Assigned Admins"}),s.jsx("div",{className:"space-y-1.5",children:Ne.markedTo.map((pe,Fe)=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("button",{onClick:()=>q(Q(pe)),className:"text-xs text-indigo-600 hover:underline text-left font-medium",children:pe.fullName||"Unknown Admin"}),s.jsxs("span",{className:"text-[10px] text-gray-400 italic",children:[pe.designation||"Admin"," (",pe.labName||"CSIR",")"]})]},pe._id||Fe))})]})]}):s.jsx("button",{onClick:()=>q(Q(Array.isArray(Ne.markedTo)?Ne.markedTo[0]:Ne.markedTo)),className:"hover:text-indigo-600 hover:underline text-left text-indigo-600 font-medium",children:oe(Array.isArray(Ne.markedTo)?Ne.markedTo[0]:Ne.markedTo)})]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(Ne.movementDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})})]}),s.jsx("div",{className:"bg-gray-50 rounded-md p-3 mt-2 border border-gray-100",children:s.jsx("p",{className:"text-gray-700 text-sm",children:Ne.remarks||"No remarks provided."})})]})]},Ne._id)),(!re||re.length===0)&&s.jsx("div",{className:"pl-16 text-gray-500 italic",children:"No movements recorded yet."})]})]})]})}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5 sm:p-6 lg:sticky lg:top-6",children:[s.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight tracking-tight wrap-break-word",children:B.subject}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 mt-4",children:[s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none",children:"Reference ID"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700 wrap-break-word",children:B.refId||"N/A"})]}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none",children:"Mode Sent"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:B.deliveryMode||"N/A"})]}),B.deliveryMode&&s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none",children:B.deliveryMode==="Eoffice"?"Issue No":"Sent To"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700 wrap-break-word",children:B.deliveryDetails||"N/A"})]}),B.sentAt&&s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none",children:"Sent Date"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:new Date(B.sentAt).toLocaleDateString()})]}),B.eofficeNo&&s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none",children:"E-office No"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700 break-all",children:B.eofficeNo})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-red-50 text-red-700 text-[10px] font-bold border border-red-100 uppercase tracking-wider",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"}),B.status]}),s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded bg-slate-50 text-slate-600 text-[10px] font-bold border border-slate-200 uppercase tracking-wider",children:[B.priority==="High"?"":B.priority==="Medium"?"":""," ",B.priority," Priority"]})]})]}),s.jsxs("div",{className:"flex flex-row items-center justify-between gap-4 pt-4 border-t border-gray-50",children:[s.jsx(wt,{label:"Update Reference",variant:"primary",className:"flex-1 h-11 shadow-lg shadow-indigo-500/20 font-heading text-xs font-bold uppercase tracking-widest disabled:opacity-50",onClick:()=>m(!0),disabled:!ue}),s.jsxs("div",{className:`px-4 py-2 rounded-lg flex items-center gap-2 text-[10px] font-bold border shadow-sm ${I==="LocalReference"?"bg-orange-50 text-orange-700 border-orange-200":"bg-indigo-50 text-indigo-700 border-indigo-200"}`,children:[I==="LocalReference"?s.jsx(mo,{className:"w-4 h-4"}):s.jsx(Hc,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline italic",children:"Type: "}),I==="LocalReference"?"Local Ref":"Global Ref"]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-bold text-indigo-700 mb-1 flex items-center gap-2",children:s.jsx("span",{children:"Latest Remarks :"})}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed wrap-break-word whitespace-pre-wrap",children:B.remarks||"No description provided."})]}),se&&s.jsxs("div",{className:"mb-6 p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-3",children:[s.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[s.jsx(Zs,{className:"w-3.5 h-3.5"})," Admin Oversight"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[B.isHidden?s.jsx(wt,{label:"Unhide",variant:"secondary",className:"h-8 text-[10px] font-bold uppercase",icon:s.jsx(co,{className:"w-3.5 h-3.5"}),onClick:()=>_("unhide"),disabled:D}):s.jsx(wt,{label:"Hide",variant:"secondary",className:"h-8 text-[10px] font-bold uppercase",icon:s.jsx(ho,{className:"w-3.5 h-3.5"}),onClick:()=>_("hide"),disabled:D}),B.isArchived?s.jsx(wt,{label:"Restore",variant:"secondary",className:"h-8 text-[10px] font-bold uppercase",icon:s.jsx(Vk,{className:"w-3.5 h-3.5"}),onClick:()=>_("unarchive"),disabled:D}):s.jsx(wt,{label:"Archive",variant:"secondary",className:"h-8 text-[10px] font-bold uppercase",icon:s.jsx(Gr,{className:"w-3.5 h-3.5"}),onClick:()=>_("archive"),disabled:D})]})]}),s.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx("span",{className:"w-4",children:""}),s.jsxs("span",{children:["Created: ",new Date(B.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-600",children:[s.jsx("span",{className:"w-4 mt-0.5",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-widest text-[10px] mb-1",children:"Created by:"}),s.jsx("button",{onClick:()=>q(Q(B.createdBy)),className:"text-sm font-medium hover:text-indigo-600 hover:underline text-left inline wrap-break-word",children:oe(B.createdBy)})]})]}),s.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-600",children:[s.jsx("span",{className:"w-4 mt-0.5",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-bold text-gray-400 leading-none mb-1 flex items-center gap-2",children:s.jsx("span",{className:"animate-text-gradient font-bold uppercase tracking-widest text-[10px]",children:"Currently Marked to:"})}),s.jsx("div",{className:"block mt-1",children:Array.isArray(B.markedTo)&&B.markedTo.length>1?s.jsxs("div",{className:"inline-block w-full",children:[s.jsxs("button",{onClick:()=>ee(!z),className:"text-indigo-600 hover:text-indigo-800 font-semibold hover:underline flex items-center gap-1.5 text-sm",children:["All Relevant Administrators (",B.markedTo.length,")",ve?._id&&B.markedTo.some(Ne=>String(Q(Ne))===String(ve._id))&&B.status!=="Closed"&&s.jsx(al,{className:"w-3 h-3 text-red-500 animate-bounce",fill:"currentColor"})]}),z&&s.jsx("div",{className:"mt-3 p-3 bg-indigo-50/50 rounded-lg border border-indigo-100 flex flex-wrap gap-2 animate-in fade-in slide-in-from-top-1 duration-200",children:B.markedToDetails?.map((Ne,pe)=>s.jsx("button",{onClick:()=>q(Q(Ne)),className:"text-xs text-indigo-700 bg-white px-2 py-1 rounded border border-indigo-200 hover:bg-indigo-50 transition-colors shadow-sm",children:Ne.fullName||Ne.email},Ne._id||pe))})]}):s.jsxs("div",{className:"inline-flex items-center gap-2",children:[s.jsx("button",{onClick:()=>q(Q(Array.isArray(B.markedTo)?B.markedTo[0]:B.markedTo)),className:"text-sm text-gray-600 hover:text-indigo-600 hover:underline text-left leading-snug wrap-break-word",children:oe(Array.isArray(B.markedTo)?B.markedTo[0]:B.markedTo)}),ve?._id&&B.markedTo&&B.status!=="Closed"&&(Array.isArray(B.markedTo)?B.markedTo.some(Ne=>String(Q(Ne))===String(ve._id)):String(Q(B.markedTo))===String(ve._id))&&s.jsx(al,{className:"w-3 h-3 text-red-500 animate-bounce",fill:"currentColor"})]})})]})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-50 text-center animate-text-gradient",children:[s.jsx("p",{className:"text-[11px] text-slate-400 mb-4 italic px-2 wrap-break-word",children:"Update button will be enabled only if the reference is currently assigned to you"}),s.jsxs("p",{className:"text-[11px] font-bold text-slate-300 px-2 wrap-break-word",children:[" ",new Date().getFullYear()," Council of Scientific & Industrial Research"]})]})]})]}),s.jsx(ZC,{isOpen:h,onClose:()=>m(!1),onSuccess:()=>fe(!1),reference:B,referenceType:I}),s.jsx(QC,{isOpen:p,onClose:()=>w(!1),reference:B,workflowUsers:ke,referenceType:I}),s.jsx(eL,{isOpen:j,onClose:()=>y(!1),reference:B,onSuccess:()=>fe(!1),referenceType:I}),s.jsx(Ef,{isOpen:A,onClose:()=>T(!1),userId:E})]})}function tL(){const e=tr();return s.jsxs("div",{className:"container mx-auto p-8 text-center",children:[s.jsxs("button",{onClick:()=>{e("/references/vip")},className:"flex items-center text-gray-600 hover:text-gray-900 mb-8 mx-auto",children:[s.jsx(Af,{className:"w-4 h-4 mr-2"}),"Back to VIP References"]}),s.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-sm border border-orange-100 p-10",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Nv,{className:"w-8 h-8 text-orange-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"VIP Reference Details"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Detailed view for VIP references is currently under development."}),s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-gray-600 border border-gray-200",children:"Feature coming in Phase 2"})]})]})}const Jw="/api/v1",aL=async()=>{try{const e=await fetch(`${Jw}/parichay/auth-url`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=e.headers.get("content-type")||"";let n=null;if(t.includes("application/json"))n=await e.json();else{const i=await e.text();try{n=JSON.parse(i)}catch{if(!e.ok)throw new Error(`Server returned non-JSON response (status ${e.status}): ${i}`);n={data:i}}}if(!e.ok)throw new Error(n&&n.message||`Failed to get Parichay auth URL (status ${e.status})`);return{success:!0,data:n.data}}catch(e){return console.error("Parichay Auth URL Error:",e.message),{success:!1,message:e.message||"Failed to get Parichay authorization URL"}}},nL=async e=>{try{const t=await fetch(`${Jw}/parichay/callback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),n=t.headers.get("content-type")||"";let i=null;if(n.includes("application/json"))i=await t.json();else{const o=await t.text();try{i=JSON.parse(o)}catch{if(!t.ok)throw new Error(`Server returned non-JSON response (status ${t.status}): ${o}`);i={data:o}}}if(!t.ok)throw new Error(i&&i.message||`Parichay login failed (status ${t.status})`);return{success:!0,data:i.data,user:i.data?.user}}catch(t){return console.error("Parichay Callback Error:",t.message),{success:!1,message:t.message||"Failed to complete Parichay login"}}},rL=({onLoginStart:e,onError:t})=>{const[n,i]=k.useState(!1),o=async()=>{try{i(!0),e?.();const c=await aL();if(!c.success)throw new Error(c.message||"Failed to initiate Parichay login");const{authorizationUrl:f,codeVerifier:u,state:h}=c.data||{};if(!f||typeof f!="string"||f.trim()==="")throw console.error("Invalid authorizationUrl from getParichayAuthUrl:",c),new Error("Invalid authorization URL received from server");sessionStorage.setItem("parichay_code_verifier",u),sessionStorage.setItem("parichay_state",h),window.location.href=f}catch(c){console.error("Parichay login error:",c),t?.(c.message||"Failed to initiate Parichay login"),i(!1)}};return s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(wt,{onClick:o,disabled:n,icon:n?void 0:s.jsx(Wp,{size:18}),iconPosition:"left",className:"w-full bg-blue-600 hover:bg-blue-700",children:n?"Redirecting to Parichay...":"Login with Parichay"}),s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 border-t border-gray-300"}),s.jsx("span",{className:"text-sm text-gray-500 px-2",children:"OR"}),s.jsx("div",{className:"flex-1 border-t border-gray-300"})]})]})},Iy=()=>{const[e,t]=k.useState(!0),[n,i]=k.useState(""),[o,c]=k.useState(""),[f,u]=k.useState(""),[h,m]=k.useState(""),[p,w]=k.useState(!1),[j,y]=k.useState(null),[A,T]=k.useState([]);k.useEffect(()=>{uv().then(D=>{D.success&&T(D.data.allowedDomains)})},[]);const E=tr(),{login:C,isAuthenticated:I}=Qa();k.useEffect(()=>{I&&E("/")},[I,E]);const G=async D=>{if(D.preventDefault(),y(null),!e&&o!==f){y("Passwords do not match");return}if(A.length>0){const te=n.split("@")[1]?.toLowerCase();if(!te||!A.includes(te)){y(`Access restricted to the following domains: ${A.join(", ")}`);return}}w(!0);try{if(e){const te=await mS({email:n,password:o});if(te.success&&te.data?.user){const de=te.data.user;C({_id:de._id,fullName:de.fullName||"",email:de.email,labName:de.labName,designation:de.designation,division:de.division,status:de.status,isSubmitted:de.isSubmitted,role:de.role,availableRoles:de.availableRoles,mobileNo:de.mobileNo,avatar:de.avatar,initials:(de.fullName||de.email).slice(0,2).toUpperCase()});const Y=de.status==="Approved",O=!!(de.labName&&de.designation);!Y||!O?E("/profile",{state:{message:"Your profile must be completed and approved by an administrator to access the portal features."}}):E("/")}else y(te.message||"Login failed")}else{if(h&&(!/^\d+$/.test(h)||h.length!==10)){y("Mobile number must be exactly 10 digits and numeric only"),w(!1);return}const te=await pS({email:n,password:o,mobileNo:h});te.success?(t(!0),c(""),u(""),y(te.message||"Registration successful! Please check your email to activate your account.")):y(te.message||"Registration failed")}}catch{y("An unexpected error occurred")}finally{w(!1)}};return s.jsxs("div",{className:"min-h-[calc(100vh-160px)] flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[s.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-indigo-500/5 blur-3xl animate-blob"}),s.jsx("div",{className:"absolute top-[20%] right-[-10%] w-[30%] h-[30%] rounded-full bg-purple-500/5 blur-3xl animate-blob animation-delay-2000"}),s.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[30%] h-[30%] rounded-full bg-blue-500/5 blur-3xl animate-blob animation-delay-4000"})]}),s.jsxs("div",{className:"w-full max-w-md relative",children:[s.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden border border-white/20 dark:border-gray-700/50 ring-1 ring-black/5 transition-all duration-300",children:[s.jsx("div",{className:"relative p-8 pt-10 text-center bg-linear-to-b from-indigo-50/50 to-transparent dark:from-indigo-900/10",children:s.jsxs("div",{className:"relative z-10 space-y-2 mt-4",children:[s.jsx("h2",{className:"text-5xl font-black tracking-tight mb-4",children:s.jsx("span",{className:`inline-block ${e?"animate-modern-shine":"text-gray-900 dark:text-white"}`,children:e?"Welcome Back":"Create Account"})}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-base",children:e?"Login to manage your references":"Join our platform for researchers"})]})}),s.jsxs("form",{onSubmit:G,className:"px-8 pb-10 pt-2 space-y-6",children:[j&&s.jsx("div",{className:`p-4 rounded-xl text-sm font-medium animate-in fade-in slide-in-from-top-4 duration-300 border ${j.includes("successful")?"bg-green-50/50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800":"bg-red-50/50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${j.includes("successful")?"bg-green-500":"bg-red-500"}`}),j]})}),s.jsxs("div",{className:"space-y-5",children:[s.jsx(ur,{label:"Email Address",type:"email",icon:s.jsx(eu,{className:"w-5 h-5"}),placeholder:A.length>0?`e.g. name@${A[0]}`:"name@csir.res.in",value:n,onChange:D=>i(D.target.value),required:!0}),s.jsx(ur,{label:"Password",type:"password",icon:s.jsx(of,{className:"w-5 h-5"}),placeholder:"",value:o,onChange:D=>c(D.target.value),required:!0}),!e&&s.jsx(ur,{label:"Confirm Password",type:"password",icon:s.jsx(of,{className:"w-5 h-5"}),placeholder:"",value:f,onChange:D=>u(D.target.value),required:!0}),!e&&s.jsx(ur,{label:"Mobile Number",type:"text",icon:s.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),placeholder:"e.g. 9876543210 (10 digits)",value:h,onChange:D=>{const te=D.target.value.replace(/\D/g,"");te.length<=10&&m(te)},maxLength:10})]}),s.jsx("div",{className:"pt-2",children:s.jsx(wt,{variant:"primary",type:"submit",disabled:p,loading:p,fullWidth:!0,size:"lg",className:"shadow-lg shadow-indigo-500/20 hover:shadow-indigo-500/30 transition-all duration-300",icon:!p&&(e?s.jsx(Wp,{className:"w-5 h-5"}):s.jsx(rp,{className:"w-5 h-5"})),children:p?e?"Signing In...":"Creating Account...":e?"Sign In":"Create Account"})}),s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-100 dark:border-gray-700"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-white dark:bg-gray-800 px-2 text-gray-400 tracking-wider font-medium",children:"Or"})})]}),e&&s.jsx("div",{children:s.jsx(rL,{onError:D=>y(D),onLoginStart:()=>w(!0)})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("button",{type:"button",onClick:()=>t(!e),className:"group flex items-center justify-center gap-2 text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:e?s.jsxs("span",{children:["Don't have an account? ",s.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 underline decoration-2 decoration-transparent group-hover:decoration-indigo-600/30 transition-all",children:"Create one"})]}):s.jsxs("span",{children:["Already have an account? ",s.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 underline decoration-2 decoration-transparent group-hover:decoration-indigo-600/30 transition-all",children:"Sign in"})]})}),e&&s.jsx("button",{type:"button",onClick:()=>E("/forgotPassword"),className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors font-medium",children:"Forgot your password?"})]})]})]})]}),s.jsxs("p",{className:"text-center mt-8 text-xs text-gray-400 dark:text-gray-500 font-medium",children:[" ",new Date().getFullYear()," CSIR Reference Management"]})]})]})},sL=()=>{const e=tr(),t=wr(),{login:n}=Qa(),[i,o]=k.useState(null);return k.useEffect(()=>{(async()=>{try{const f=new URLSearchParams(t.search),u=f.get("code"),h=f.get("state");if(!u)throw new Error("Authorization code not found in callback");const m=sessionStorage.getItem("parichay_code_verifier"),p=sessionStorage.getItem("parichay_state");if(!m)throw new Error("Code verifier not found. Session may have expired.");if(h!==p)throw new Error("State mismatch. Possible CSRF attack detected.");const w=await nL({code:u||"",state:h||"",codeVerifier:m,storedState:p||""});if(!w.success)throw new Error(w.message||"Parichay login failed");const j=w.user;n({_id:j._id,fullName:j.fullName||"",email:j.email,labName:j.labName||"",designation:j.designation||"",division:j.division||"",status:j.status,isSubmitted:j.isSubmitted||!1,role:j.role,availableRoles:j.availableRoles||["User"],mobileNo:j.mobileNo||"",avatar:j.avatar||"",initials:(j.fullName||j.email).slice(0,2).toUpperCase()}),sessionStorage.removeItem("parichay_code_verifier"),sessionStorage.removeItem("parichay_state");const y=j.status==="Approved",A=!!(j.labName&&j.designation);!y||!A?e("/profile",{state:{message:"Your profile must be completed and approved by an administrator to access the portal features."}}):e("/")}catch(f){console.error("Parichay callback error:",f),o(f.message||"Failed to complete Parichay login"),setTimeout(()=>{e("/auth",{state:{error:f.message}})},3e3)}})()},[t,e,n]),i?s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-linear-to-br from-gray-50 to-gray-100 gap-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Login Failed"}),s.jsx("p",{className:"text-gray-600 mb-4",children:i}),s.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]})}):s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-linear-to-br from-gray-50 to-gray-100 gap-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(JA,{className:"animate-spin w-12 h-12 text-blue-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Completing Login"}),s.jsx("p",{className:"text-gray-600",children:"Authenticating with Parichay..."})]})})},Li=k.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:du("rounded-lg border bg-white text-card-foreground ",e),...t}));Li.displayName="Card";const Ri=k.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:du("flex flex-col space-y-1.5 p-6",e),...t}));Ri.displayName="CardHeader";const fo=k.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:du("text-2xl font-semibold leading-none tracking-tight",e),...t}));fo.displayName="CardTitle";const N0=k.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:du("text-sm text-muted-foreground",e),...t}));N0.displayName="CardDescription";const Xl=k.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:du("p-6 pt-0 ",e),...t}));Xl.displayName="CardContent";const iL=k.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:du("flex items-center p-6 pt-0 ",e),...t}));iL.displayName="CardFooter";const oL="/assets/presidentcsir-C6mM2mzm.png",lL="/assets/vicepresidentcsir-BHXSkv93.png";function cL(){const e=tr(),t=wr(),{isAuthenticated:n,user:i,hasPermission:o,isPermissionsLoading:c,isLoading:f}=Qa(),u=!i?.labName||!i?.designation,h=i?.status==="Approved";if(!f&&n&&i&&!c&&t.pathname==="/"){if(!h||u)return s.jsx($r,{to:"/profile",replace:!0,state:{message:"Your profile must be completed and approved by an administrator to access the portal features."}});const w=o(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)||o(xt.FEATURE_MANAGE_USERS_ALL_OFFICES),j=o(xt.FEATURE_VIEW_OWN_OFFICE_SENDER)||o(xt.FEATURE_VIEW_INTER_OFFICE_SENDER)||o(xt.FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE)||o(xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES)||o(xt.FEATURE_MANAGE_GLOBAL_REFERENCES),y=o(xt.FEATURE_FORM_MANAGEMENT);return w?s.jsx($r,{to:"/users",replace:!0}):j?s.jsx($r,{to:"/references/local",replace:!0}):y?s.jsx($r,{to:"/data-collection",replace:!0}):s.jsx($r,{to:"/profile",replace:!0})}if(f||n&&(c||t.pathname==="/"))return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-slate-500 font-medium animate-pulse",children:n?"Redirecting to your dashboard...":"Setting up your workspace..."})]})});const m=[{icon:s.jsx(po,{className:"h-14 w-14 text-blue-700 fill-blue-700/20 stroke-[1.5] animate-sparkle"}),title:"AI Form Generation",description:"Architect complex data collection forms instantly using natural language AI prompts."},{icon:s.jsx(xo,{className:"h-14 w-14 text-blue-700 fill-blue-700/20 stroke-[1.5] animate-float"}),title:"Smart Tracking",description:"Locate any reference instantly using unique Ref IDs and advanced filtering capabilities."},{icon:s.jsx(ap,{className:"h-14 w-14 text-blue-700 fill-blue-700/20 stroke-[1.5] animate-waggle"}),title:"AI Vision Analysis",description:"Digitalize physical forms instantly by converting photos into interactive data templates."},{icon:s.jsx(s2,{className:"h-14 w-14 text-blue-700 fill-blue-700/20 stroke-[1.5] animate-float"}),title:"Movement History",description:"Complete audit trail tracking the chronological movement and ownership of every reference."},{icon:s.jsx(np,{className:"h-14 w-14 text-blue-700 fill-blue-700/20 stroke-[1.5] animate-pulse-soft"}),title:"Data Collection Hub",description:"A centralized portal for distributing forms and harvesting structured data across CSIR labs."},{icon:s.jsx(qp,{className:"h-14 w-14 text-blue-700 fill-blue-700/20 stroke-[1.5] animate-pulse-soft"}),title:"Real-time Monitoring",description:"Monitor status updates, remarks, and progress of references as they move through the workflow."},{icon:s.jsx(tu,{className:"h-14 w-14 text-blue-700 fill-blue-700/20 stroke-[1.5] animate-pulse-soft"}),title:"Audit Trails",description:"Detailed records of all system activities, ensuring full accountability and transparency."},{icon:s.jsx(eu,{className:"h-14 w-14 text-blue-700 fill-blue-700/20 stroke-[1.5] animate-ring-bell"}),title:"Instant Notifications",description:"Instant email alerts and acknowledgments for every reference creation, update, and movement."},{icon:s.jsx(Gr,{className:"h-14 w-14 text-blue-700 fill-blue-700/20 stroke-[1.5] animate-pulse-soft"}),title:"Digital Archiving",description:"Securely archive and retrieve historical references with automated retention policies and quick access."}],p=()=>{e("/login")};return s.jsxs("div",{className:"flex flex-col bg-slate-50 min-h-screen w-full max-w-full relative overflow-x-hidden text-slate-900 selection:bg-indigo-100 selection:text-indigo-900",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-[500px] bg-linear-to-b from-indigo-50/80 to-transparent blur-3xl opacity-60"}),s.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] rounded-full bg-purple-100/50 blur-[100px] mix-blend-multiply"}),s.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-blue-100/50 blur-[100px] mix-blend-multiply"})]}),s.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-6 relative z-10",children:[s.jsxs("section",{className:"text-center mb-15 max-w-5xl mx-auto pt-10",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 mb-8 text-sm font-medium tracking-wide text-indigo-700 uppercase bg-white border border-indigo-100 rounded-full shadow-sm animate-in fade-in slide-in-from-bottom-4 duration-700",children:[s.jsx(po,{className:"w-5 h-5 text-indigo-600 fill-indigo-600/30 animate-sparkle"}),s.jsx("span",{children:"Next-Gen Reference Management"})]}),s.jsxs("h1",{className:"font-heading text-4xl sm:text-7xl lg:text-8xl font-black tracking-tighter mb-8 leading-[1.1] animate-in fade-in duration-1000 fill-mode-both text-slate-900",children:[s.jsx("span",{className:"animate-modern-shine bg-clip-text text-transparent bg-linear-to-br from-slate-900 via-slate-800 to-slate-600 inline-block animate-slide-in-left",children:"Intelligent Data."}),s.jsx("br",{}),s.jsx("span",{className:"animate-modern-shine font-black inline-block animate-in fade-in slide-in-from-bottom-4 duration-1000 delay-300 fill-mode-both",children:"Seamless Workflow."})]}),s.jsx("p",{className:"mt-6 text-xl text-slate-600 max-w-2xl mx-auto leading-relaxed font-light animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200 fill-mode-both",children:"A robust, centralized platform designed for the Council of Scientific and Industrial Research to streamline tracking with efficiency and transparency."}),s.jsx("div",{className:"mt-12 flex items-center justify-center gap-6 animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-300 fill-mode-both",children:s.jsxs("button",{onClick:p,className:"group relative flex items-center justify-center px-8 py-4 text-lg font-bold text-white bg-slate-900 rounded-full hover:bg-slate-800 transition-all duration-300 shadow-xl hover:shadow-2xl hover:-translate-y-1",children:["Get Started",s.jsx(s2,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})]}),s.jsx("div",{className:"w-full h-px bg-linear-to-r from-transparent via-slate-200 to-transparent mb-10"}),s.jsxs("section",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("h2",{className:"font-heading text-4xl sm:text-5xl font-bold text-slate-900 mb-6 tracking-tight",children:"Powerful Features."}),s.jsx("p",{className:"text-slate-500 text-lg max-w-2xl mx-auto",children:"Everything you need to manage references, integrated into one cohesive system."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:m.map(w=>s.jsx(Li,{className:"group bg-white border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all duration-500 h-full",children:s.jsxs(Ri,{className:"p-10 flex flex-col items-center text-center h-full",children:[s.jsx("div",{className:"mb-6 text-blue-700",children:w.icon}),s.jsx(fo,{className:"font-heading text-xl font-bold text-slate-900 mb-4",children:w.title}),s.jsx(N0,{className:"text-slate-600 leading-loose text-base",children:w.description})]})},w.title))})]}),s.jsxs("section",{className:"max-w-7xl mx-auto mb-10 mt-20",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h2",{className:"font-heading text-4xl sm:text-5xl font-bold text-slate-900 mb-6 tracking-tight",children:"CSIR Leadership"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[s.jsxs(Li,{className:"group bg-white/60 backdrop-blur-sm border-slate-100 shadow-sm hover:shadow-md transition-all duration-500 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-linear-to-br from-indigo-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs(Ri,{className:"p-8 flex flex-row items-center gap-8 relative z-10",children:[s.jsx("div",{className:"relative shrink-0",children:s.jsx("img",{src:oL,alt:"Shri Narendra Modi",className:"relative w-24 h-24 md:w-28 md:h-28 rounded-full object-cover border-4 border-white shadow-md transition-transform duration-500 group-hover:scale-105"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx(fo,{className:"font-heading text-2xl md:text-3xl font-black text-slate-900 tracking-tight mb-1",children:"Shri Narendra Modi"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-indigo-600 font-bold text-lg md:text-xl flex items-center gap-2",children:"Hon'ble Prime Minister"}),s.jsx("span",{className:"text-slate-500 font-medium text-sm md:text-base",children:"President, CSIR"})]})]})]})]}),s.jsxs(Li,{className:"group bg-white/60 backdrop-blur-sm border-slate-100 shadow-sm hover:shadow-md transition-all duration-500 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-linear-to-br from-indigo-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs(Ri,{className:"p-8 flex flex-row items-center gap-8 relative z-10",children:[s.jsx("div",{className:"relative shrink-0",children:s.jsx("img",{src:lL,alt:"Dr. Jitendra Singh",className:"relative w-24 h-24 md:w-28 md:h-28 rounded-full object-cover border-4 border-white shadow-md transition-transform duration-500 group-hover:scale-105"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx(fo,{className:"font-heading text-2xl md:text-3xl font-black text-slate-900 tracking-tight mb-1",children:"Dr. Jitendra Singh"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-indigo-600 font-bold text-lg md:text-xl flex items-center gap-2",children:"Hon'ble Minister of State"}),s.jsx("span",{className:"text-slate-500 font-medium text-sm md:text-base",children:"Vice President, CSIR"})]})]})]})]})]})]})]}),s.jsx("div",{className:"mt-20 bg-indigo-700 pt-16 pb-8 relative z-10 px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-8 md:p-10 shadow-lg flex flex-col items-center justify-center gap-8 mb-12",children:s.jsxs("div",{className:"w-full text-center",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 mb-4 justify-center",children:[s.jsx("div",{className:"p-3 bg-indigo-600 rounded-2xl shadow-md",children:s.jsx(UA,{className:"w-8 h-8 text-white"})}),s.jsx("span",{className:"font-heading font-black text-2xl md:text-3xl text-slate-900 tracking-tight text-center",children:"CSIR Reference Management Portal"})]}),s.jsx("p",{className:"text-slate-600 text-base md:text-lg leading-relaxed max-w-2xl mx-auto",children:"A centralized platform facilitating seamless reference management, enhancing transparency, and streamlining administrative workflows across all CSIR laboratories."}),s.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 text-sm font-bold rounded-full tracking-wide shadow-sm border border-blue-100",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),"Under the Guidance of DG, CSIR"]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-700 text-sm font-bold rounded-full tracking-wide shadow-sm border border-indigo-100",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"An initiative of Joint Secretary(Admin), CSIR"]})]})]})}),s.jsxs("div",{className:"border-t border-indigo-500/30 pt-8 text-center text-indigo-100/80",children:[s.jsx("p",{className:"font-medium mb-2 text-sm md:text-base",children:"Anusandhan Bhawan, 2 Rafi Marg, New Delhi - 110001"}),s.jsxs("p",{className:"text-xs md:text-sm opacity-80",children:[" ",new Date().getFullYear()," Council of Scientific and Industrial Research. All Rights Reserved."]})]})]})})]})}const dL=()=>{const[e,t]=k.useState(""),[n,i]=k.useState(null),[o,c]=k.useState(!1),[f,u]=k.useState(!1),h=k.useRef(null);k.useEffect(()=>{h.current&&h.current.focus()},[]);const m=async p=>{if(p.preventDefault(),i(null),!e||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){i("Please enter a valid email address.");return}u(!0);try{const w=await xS({email:e});console.log("returened from backend:",w.success),w.success?c(!0):(console.error("Failed:",w.message),i(w.message||"Request failed"))}catch{i("An error occurred. Please try again later.")}finally{u(!1)}};return o?s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"p-8 shadow-lg rounded-lg max-w-md w-full bg-white text-justify",children:[s.jsx("div",{className:" flex justify-center",children:s.jsx(eu,{})}),s.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800  flex justify-center",children:"Request Submitted"}),s.jsxs("p",{className:"text-gray-600 ",children:['"If an account is associated with ',s.jsxs("span",{className:"font-bold",children:["'",e,"'"]}),' then you will receive instructions to reset your password. Please check your Inbox/Spam folder. If you do not receive an email then ensure that you have entered the correct email address."']})]})}):s.jsxs("div",{className:"p-8 bg-white shadow-lg rounded-lg max-w-md w-full container mx-auto text-center",children:[s.jsx(MA,{className:"mx-auto h-12 w-12 text-primary mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Forgot Password"}),s.jsx("p",{className:"mb-6 text-gray-600",children:"Enter your registered email address to receive a password reset link."}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block font-bold text-sm  text-gray-700 mb-1 text-left",children:"Email Address :"}),s.jsx("input",{type:"email",id:"email",ref:h,value:e,onChange:p=>t(p.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out","aria-describedby":n?"error-message":void 0})]}),n&&s.jsx("p",{id:"error-message",className:"text-sm text-red-600 mt-1",children:n}),s.jsxs("button",{type:"submit",disabled:f,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-700 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out",children:[f?s.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(eu,{className:"mr-2 h-4 w-4"}),f?"Sending...":"Send Reset Link"]})]})]})},uL=()=>{const{showMessage:e}=cl(),[t]=Mp(),n=tr(),[i,o]=k.useState(null),[c,f]=k.useState(""),[u,h]=k.useState(""),[m,p]=k.useState(null),[w,j]=k.useState(!1),y=t.get("token"),A=t.get("userId");k.useEffect(()=>{(async()=>{try{if(y&&A){const C=await bS({userId:A,token:y});console.log("returned from backend:",C),C.success?(o(!0),window.history.replaceState({},document.title,window.location.pathname)):o(!1)}}catch{o(!1)}})()},[y,A]);const T=async E=>{if(E.preventDefault(),p(null),c!==u){p("New password and confirm password do not match.");return}try{const C=await wS({userId:A,token:y,newPassword:c});C.success?(e({title:"Success",message:"Password reset successful! Redirecting to login...",type:"success"}),n("/login")):p(C.message||"Password reset failed.")}catch{p("An error occurred while resetting password.")}};return i===null?s.jsx("div",{children:"Verifying reset link failed as token is null..."}):i?s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl border border-gray-100",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Reset Password"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enter your new password to secure your account"})]}),s.jsxs("form",{onSubmit:T,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-muted",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"newPassword",type:"password",required:!0,value:c,onChange:E=>f(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out",placeholder:"Enter your new password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{j(!w)},children:s.jsxs("svg",{className:"h-5 w-5 text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-muted",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:u,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out",placeholder:"Confirm your new password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{j(!w)},children:s.jsxs("svg",{className:"h-5 w-5 text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),m&&s.jsxs("p",{className:"text-sm bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),m]}),s.jsxs("button",{type:"submit",className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-700 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out",children:["Reset Password",s.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})]})}):s.jsx("div",{children:"Invalid or expired reset link."})},fL=({isOpen:e,onClose:t})=>{const[n,i]=k.useState(""),[o,c]=k.useState(""),[f,u]=k.useState(""),[h,m]=k.useState(!1),[p,w]=k.useState(null);if(!e)return null;const j=async y=>{if(y.preventDefault(),w(null),o!==f){w({type:"error",text:"New passwords do not match"});return}if(o.length<6){w({type:"error",text:"Password must be at least 6 characters"});return}m(!0);try{const A=await vS({oldPassword:n,newPassword:o});A.success?(w({type:"success",text:"Password changed successfully"}),i(""),c(""),u(""),setTimeout(()=>{t(),w(null)},2e3)):w({type:"error",text:A.message||"Failed to change password"})}catch{w({type:"error",text:"An unexpected error occurred"})}finally{m(!1)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-4 overflow-hidden animate-scale-in",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Change Password"}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors text-gray-500 hover:text-gray-700",children:s.jsx(Dn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[p&&s.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm font-medium ${p.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:p.text}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsx(ur,{id:"oldPassword",label:"Current Password",type:"password",value:n,onChange:y=>i(y.target.value),icon:s.jsx(of,{className:"w-4 h-4 text-gray-400"}),placeholder:"Enter current password",required:!0}),s.jsx(ur,{id:"newPassword",label:"New Password",type:"password",value:o,onChange:y=>c(y.target.value),icon:s.jsx(of,{className:"w-4 h-4 text-gray-400"}),placeholder:"Enter new password",required:!0}),s.jsx(ur,{id:"confirmPassword",label:"Confirm New Password",type:"password",value:f,onChange:y=>u(y.target.value),icon:s.jsx(of,{className:"w-4 h-4 text-gray-400"}),placeholder:"Confirm new password",required:!0}),s.jsxs("div",{className:"pt-2 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[s.jsx(wt,{variant:"secondary",type:"button",onClick:t,className:"w-full sm:w-auto",children:"Cancel"}),s.jsx(wt,{variant:"primary",type:"submit",disabled:h,loading:h,icon:h&&s.jsx(Mn,{className:"w-4 h-4"}),className:"w-full sm:w-auto",children:h?"Updating...":"Update Password"})]})]})]})]})})},qy=()=>{const{user:e,login:t}=Qa(),n=wr(),{userId:i}=_5(),[o,c]=k.useState(null),[f,u]=k.useState(!1),[h,m]=k.useState(!1),[p,w]=k.useState(!1),[j,y]=k.useState(null),[A,T]=k.useState(null),[E,C]=k.useState(n.state?.message||null),[I,G]=k.useState(""),[D,te]=k.useState(""),[de,Y]=k.useState(""),[O,R]=k.useState(""),[V,F]=k.useState(""),[z,ee]=k.useState([]),[le,ve]=k.useState([]),[ae,se]=k.useState([]),Z=!i||i===e?._id;k.useEffect(()=>{(async()=>{if(i&&i!==e?._id){w(!0);try{const Q=await gv(i);Q.success?c({...Q.data,initials:Q.data.fullName.slice(0,2).toUpperCase()||Q.data.email.slice(0,2).toUpperCase()}):y(Q.message)}catch{y("Failed to fetch user profile")}finally{w(!1)}}else c(e)})()},[i,e]),k.useEffect(()=>{o&&(G(o.fullName||""),te(o.labName||""),Y(o.designation||""),R(o.division||""),F(o.mobileNo||""))},[o]);const J=k.useMemo(()=>z.map(oe=>({label:oe,value:oe})),[z]),fe=k.useMemo(()=>le.map(oe=>({label:oe,value:oe})),[le]),U=k.useMemo(()=>ae.map(oe=>({label:oe,value:oe})),[ae]);if(k.useEffect(()=>{(async()=>{const Q=await zp();Q.success&&ee(Q.data.labs);const ue=await Ip();ue.success&&ve(ue.data.designations);const ye=await fv();ye.success&&se(ye.data.divisions)})()},[]),!o)return s.jsx("div",{className:"flex justify-center items-center h-full",children:"Loading profile..."});const _=async(oe=!1)=>{w(!0),y(null),T(null);try{if(!I||I.trim()===""){y("Full Name is required"),w(!1);return}if(!D){y("Lab Name is required"),w(!1);return}if(!de){y("Designation is required"),w(!1);return}if(!O){y("Division / Section is required"),w(!1);return}if(!V||!/^\d+$/.test(V)||V.length!==10){y("Mobile number must be exactly 10 digits and numeric only"),w(!1);return}const Q={fullName:I,labName:D,designation:de,division:O,mobileNo:V};oe&&(Q.isSubmitted=!0);const ue=await hv(Q);if(ue.success){T(ue.message),y(null);const ye={...e,...ue.data,initials:I.slice(0,2).toUpperCase()||(e?.email||"").slice(0,2).toUpperCase()};t(ye),m(!1),o.status==="Approved"&&ue.data.status==="Pending"&&(T("Changes saved. Your profile is now pending approval by an administrator."),window.scrollTo(0,0))}else y(ue.message)}catch(Q){y(Q.message||"Failed to update profile")}finally{w(!1)}},L=async oe=>{const Q=oe.target.files?.[0];if(!Q)return;if(Q.size>20*1024){Gd.error("Image size must be less than 20KB"),y("Image size must be less than 20KB");return}const ue=new FormData;ue.append("avatar",Q),w(!0),y(null);try{const ye=await jS(ue);ye.success?(Gd.success("Avatar updated successfully"),T("Avatar updated successfully"),e&&t({...e,avatar:ye.data.avatar})):(Gd.error(ye.message),y(ye.message))}catch(ye){const ke=ye.message||"Failed to upload avatar";Gd.error(ke),y(ke)}finally{w(!1)}},q=o.labName&&o.designation&&o.division&&o.fullName&&o.fullName.trim()!==""&&o.mobileNo,B=o.status!=="Approved"&&q&&!o.isSubmitted,re=o.status!=="Approved"&&o.isSubmitted;return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden animate-fade-in border border-gray-100",children:[s.jsx("div",{className:"h-48 bg-linear-to-r from-indigo-600 to-indigo-700 relative",children:s.jsx("div",{className:"absolute -bottom-16 left-8",children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"w-32 h-32 rounded-full border-4 border-white bg-white shadow-lg flex items-center justify-center text-4xl font-bold text-indigo-600 select-none overflow-hidden group",children:[o.avatar?s.jsx("img",{src:o.avatar,alt:o.fullName,className:"w-full h-full object-cover"}):o.initials,p&&s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})})]}),Z&&s.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-white rounded-full hover:bg-gray-50 transition-colors shadow-md border border-gray-200 group cursor-pointer",children:[s.jsx(tA,{className:"w-5 h-5 text-gray-600 group-hover:text-indigo-600"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:L,disabled:p})]})]})})}),s.jsxs("div",{className:"pt-20 px-8 pb-8",children:[o.status!=="Approved"&&!o.isSubmitted&&s.jsx("div",{className:`mb-8 p-4 rounded-xl border animate-in fade-in slide-in-from-top-4 duration-500 ${o.status==="Rejected"?"bg-red-50 border-red-200 text-red-800":!o.labName||!o.designation||!o.division||!o.fullName||!o.mobileNo?"bg-indigo-50 border-indigo-200 text-indigo-800":"bg-amber-50 border-amber-200 text-amber-800"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`mt-1 p-1 rounded-full ${o.status==="Rejected"?"bg-red-100":!o.labName||!o.designation||!o.division||!o.fullName||!o.mobileNo?"bg-indigo-100":"bg-amber-100"}`,children:s.jsx(Zs,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm",children:o.status==="Rejected"?"Account Rejected":!o.labName||!o.designation||!o.division||!o.fullName||!o.mobileNo?"Complete Your Profile":"Profile Complete - Ready for Submission"}),s.jsx("p",{className:"text-sm opacity-90 mt-0.5",children:o.status==="Rejected"?"Your account was rejected. Please update your information and submit again for review.":!o.labName||!o.designation||!o.division||!o.fullName||!o.mobileNo?s.jsxs(s.Fragment,{children:["Please provide all details (Name, Lab, Designation, Division, Mobile) to enable account submission.",s.jsx("br",{}),s.jsx("strong",{children:"Click Edit Profile button to fill/update the details."})]}):"Your profile is ready! Click the 'Submit for Approval' button to notify the administrator."}),B&&s.jsx("div",{className:"mt-4",children:s.jsx(wt,{variant:"primary",size:"sm",onClick:()=>_(!0),loading:p,disabled:p,children:"Submit for Approval"})})]})]})}),re&&s.jsx("div",{className:"mb-8 p-4 bg-green-50 border border-green-200 text-green-800 rounded-xl animate-in fade-in slide-in-from-top-4 duration-500",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1 p-1 rounded-full bg-green-100",children:s.jsx(Zs,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Application Submitted Successfully"}),s.jsx("p",{className:"text-sm opacity-90 mt-0.5",children:"Your profile is now complete and has been sent to the administrator for review. You will receive email notification once approved. Logout and Login again to access the portal after the approval."})]})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-8 gap-4",children:[s.jsxs("div",{className:"w-full md:w-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:o.fullName||"Guest"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.availableRoles&&o.availableRoles.length>0?o.availableRoles.map(oe=>s.jsxs("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium border flex items-center gap-1 ${oe===o.role?"bg-indigo-50 text-indigo-700 border-indigo-200 ring-1 ring-indigo-500/20":"bg-gray-50 text-gray-600 border-gray-200"}`,children:[s.jsx(Zs,{className:"w-3 h-3"}),oe,oe===o.role&&s.jsx("span",{className:"ml-1 text-[10px] uppercase font-bold tracking-wider",children:"(Active)"})]},oe)):s.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-50 text-gray-600 border border-gray-200 flex items-center gap-1",children:[s.jsx(Zs,{className:"w-3 h-3"}),o.role||"User"]})})]}),s.jsxs("div",{className:"flex gap-3 w-full md:w-auto justify-end",children:[Z&&o.status!=="Approved"&&s.jsx(wt,{variant:"secondary",onClick:()=>{localStorage.removeItem("user"),window.location.href="/login"},children:"Log Out"}),Z&&(h?s.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[s.jsx(wt,{variant:"secondary",onClick:()=>m(!1),icon:s.jsx(Dn,{className:"w-4 h-4"}),className:"flex-1 md:flex-none",children:"Cancel"}),s.jsx(wt,{variant:"primary",onClick:()=>_(!1),disabled:p,loading:p,icon:!p&&s.jsx(go,{className:"w-4 h-4"}),className:"flex-1 md:flex-none",children:"Save Changes"})]}):s.jsx(wt,{variant:"primary",onClick:()=>m(!0),className:"w-full md:w-auto",children:"Edit Profile"}))]})]}),E&&s.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 border border-indigo-100 text-indigo-700 rounded-xl text-sm font-medium animate-in fade-in slide-in-from-top-2 flex justify-between items-center tracking-wide",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sf,{className:"w-4 h-4 text-indigo-500"}),E]}),s.jsx("button",{onClick:()=>C(null),className:"text-indigo-400 hover:text-indigo-600 transition-colors",children:s.jsx(Dn,{className:"w-4 h-4"})})]}),j&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-100 text-red-600 rounded-xl text-sm font-medium animate-shake",children:j}),A&&!j&&s.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-100 text-green-600 rounded-xl text-sm font-medium animate-in fade-in slide-in-from-top-2",children:A}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2 border-b border-gray-100 pb-3",children:[s.jsx(wv,{className:"w-5 h-5 text-indigo-500"}),"Personal Information"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-500 block mb-1.5 ml-1",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),h?s.jsx("input",{type:"text",value:I,onChange:oe=>G(oe.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",placeholder:"Enter your full name"}):s.jsx("div",{className:"px-4 py-2.5 bg-white border border-gray-100 rounded-xl font-medium text-gray-900",children:o.fullName||"Not provided"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-500 block mb-1.5 ml-1",children:["Lab Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),h?s.jsx(er,{options:J,placeholder:"Select your lab",selectedValue:D,onChange:oe=>te(oe)}):s.jsxs("div",{className:"px-4 py-2.5 bg-white border border-gray-100 rounded-xl font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(mo,{className:"w-4 h-4 text-gray-400"}),o.labName||"Not selected"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-500 block mb-1.5 ml-1",children:["Designation ",s.jsx("span",{className:"text-red-500",children:"*"})]}),h?s.jsx(er,{options:fe,placeholder:"Select your designation",selectedValue:de,onChange:oe=>Y(oe)}):s.jsxs("div",{className:"px-4 py-2.5 bg-white border border-gray-100 rounded-xl font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(yv,{className:"w-4 h-4 text-gray-400"}),o.designation||"Not provided"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-500 block mb-1.5 ml-1",children:["Division / Section ",s.jsx("span",{className:"text-red-500",children:"*"})]}),h?s.jsx(er,{options:U,placeholder:"Select your division / section",selectedValue:O,onChange:oe=>R(oe)}):s.jsxs("div",{className:"px-4 py-2.5 bg-white border border-gray-100 rounded-xl font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(mo,{className:"w-4 h-4 text-gray-400"}),o.division||"Not provided"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-500 block mb-1.5 ml-1",children:["Mobile No ",s.jsx("span",{className:"text-red-500",children:"*"})]}),h?s.jsx("input",{type:"text",value:V,onChange:oe=>{const Q=oe.target.value.replace(/\D/g,"");Q.length<=10&&F(Q)},className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",placeholder:"Enter 10-digit mobile number",maxLength:10,inputMode:"numeric",pattern:"[0-9]*"}):s.jsx("div",{className:"px-4 py-2.5 bg-white border border-gray-100 rounded-xl font-medium text-gray-900 flex items-center gap-2",children:o.mobileNo||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-gray-500 block mb-1.5 ml-1",children:"Email Address"}),s.jsxs("div",{className:"px-4 py-2.5 bg-gray-50 border border-transparent rounded-xl font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(eu,{className:"w-4 h-4"}),o.email]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1 ml-1",children:"Email cannot be changed"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2 border-b border-gray-100 pb-3",children:[s.jsx(Zs,{className:"w-5 h-5 text-green-500"}),"Account Security"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:`p-4 ${o.status==="Approved"?"bg-green-50/50 border-green-100":o.status==="Pending"?"bg-amber-50/50 border-amber-100":"bg-red-50/50 border-red-100"} border rounded-xl group hover:bg-opacity-75 transition-colors`,children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${o.status==="Approved"?"bg-green-500 animate-pulse":o.status==="Pending"?"bg-amber-500 animate-pulse shadow-[0_0_8px_rgba(245,158,11,0.6)]":"bg-red-500"}`}),s.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Account status: ",o.status]})]})})}),Z&&s.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl border border-gray-100",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-3",children:"Password Management"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4 leading-relaxed",children:"Regularly changing your password helps keep your account secure from unauthorized access."}),s.jsx(wt,{variant:"secondary",onClick:()=>u(!0),fullWidth:!0,size:"md",children:"Update Password"})]})]})]})]})]})]}),s.jsx(fL,{isOpen:f,onClose:()=>u(!1)})]})};var Zw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hy=Uc.createContext&&Uc.createContext(Zw),hL=["attr","size","title"];function mL(e,t){if(e==null)return{};var n=gL(e,t),i,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)i=c[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function gL(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s0.apply(this,arguments)}function $y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function i0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$y(Object(n),!0).forEach(function(i){pL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$y(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function pL(e,t,n){return t=xL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xL(e){var t=bL(e,"string");return typeof t=="symbol"?t:t+""}function bL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qw(e){return e&&e.map((t,n)=>Uc.createElement(t.tag,i0({key:n},t.attr),Qw(t.child)))}function Pi(e){return t=>Uc.createElement(yL,s0({attr:i0({},e.attr)},t),Qw(e.child))}function yL(e){var t=n=>{var{attr:i,size:o,title:c}=e,f=mL(e,hL),u=o||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),Uc.createElement("svg",s0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,f,{className:h,style:i0(i0({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&Uc.createElement("title",null,c),e.children)};return Hy!==void 0?Uc.createElement(Hy.Consumer,null,n=>t(n)):t(Zw)}function vL(e){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(e)}function wL(e){return Pi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function NL(e){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function jL(e){return Pi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function SL(e){return Pi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function AL(e){return Pi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function kL(e){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function _L(e){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function EL(e){return Pi({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function CL(e){return Pi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function LL(e){return Pi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const RL=({isOpen:e,onClose:t,onSuccess:n})=>{const{hasPermission:i}=Qa(),o=i(xt.FEATURE_SYSTEM_CONFIGURATION),[c,f]=k.useState({fullName:"",email:"",password:"",labName:"",designation:"",mobileNo:"",role:"Delegated Admin"}),[u,h]=k.useState(!1),[m,p]=k.useState(null),[w,j]=k.useState(!1),[y,A]=k.useState([]),[T,E]=k.useState([]);if(k.useEffect(()=>{e&&(async()=>{const G=await zp();G.success&&A(G.data.labs);const D=await Ip();D.success&&E(D.data.designations)})()},[e]),!e)return null;const C=async I=>{I.preventDefault(),h(!0),p(null);try{const G=await SS(c);G.success?(n(),t(),f({fullName:"",email:"",password:"",labName:"",designation:"",mobileNo:"",role:"Delegated Admin"})):p(G.message)}catch(G){p(G?.message||"Failed to create Inter Lab sender")}finally{h(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 font-heading",children:[s.jsx(CL,{className:"text-indigo-600"}),o?"Add Inter Lab sender":"Add Delegated Admin"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",children:s.jsx(EL,{})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[m&&s.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 font-medium",children:m}),s.jsxs("div",{className:"space-y-4",children:[o&&s.jsxs("div",{className:"relative group",children:[s.jsx(_L,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors z-10"}),s.jsxs("select",{required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-indigo-50/50 border border-indigo-100 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading text-sm appearance-none font-bold text-indigo-900",value:c.role,onChange:I=>f({...c,role:I.target.value}),children:[s.jsx("option",{value:"Inter Lab sender",children:"Inter Lab sender (Full Rights)"}),s.jsx("option",{value:"Delegated Admin",children:"Delegated Admin (Lab Restricted)"})]}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-indigo-500 text-xs",children:""})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(LL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors z-10"}),s.jsx("input",{type:"text",placeholder:"Full Name",required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading text-sm",value:c.fullName,onChange:I=>f({...c,fullName:I.target.value})})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(NL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors z-10"}),s.jsx("input",{type:"email",placeholder:"Email Address",required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading text-sm",value:c.email,onChange:I=>f({...c,email:I.target.value})})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(AL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors z-10"}),s.jsx("input",{type:w?"text":"password",placeholder:"Password",required:!0,className:"w-full pl-10 pr-10 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading text-sm",value:c.password,onChange:I=>f({...c,password:I.target.value})}),s.jsx("button",{type:"button",onClick:()=>j(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none p-1",children:w?s.jsx(jL,{className:"w-4 h-4"}):s.jsx(SL,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-4 mt-2",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-3 uppercase tracking-wider",children:"Additional Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(wL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors z-10"}),s.jsxs("select",{required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading text-sm appearance-none",value:c.labName,onChange:I=>f({...c,labName:I.target.value}),children:[s.jsx("option",{value:"",disabled:!0,children:"Select Lab"}),y.map(I=>s.jsx("option",{value:I,children:I},I))]}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500 text-xs",children:""})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(vL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors z-10"}),s.jsxs("select",{required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading text-sm appearance-none",value:c.designation,onChange:I=>f({...c,designation:I.target.value}),children:[s.jsx("option",{value:"",disabled:!0,children:"Select Designation"}),T.map(I=>s.jsx("option",{value:I,children:I},I))]}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500 text-xs",children:""})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(kL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors z-10"}),s.jsx("input",{type:"text",placeholder:"Mobile Number",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading text-sm",value:c.mobileNo,onChange:I=>f({...c,mobileNo:I.target.value})})]})]})]})]}),s.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3",children:[s.jsx(wt,{type:"button",variant:"secondary",label:"Cancel",onClick:t,className:"w-full sm:flex-1 py-2.5 font-bold"}),s.jsx(wt,{type:"submit",variant:"primary",label:o?"Create Inter Lab sender":"Create Delegated Admin",loading:u,disabled:u,className:"w-full sm:flex-1 py-2.5 font-bold shadow-lg shadow-indigo-500/20"})]})]})]})})},TL=({isOpen:e,onClose:t,selectedUsers:n,onUserUpdate:i})=>{const{permissions:o}=Qa(),[c,f]=k.useState(0),[u,h]=k.useState(!1),[m,p]=k.useState(null),[w,j]=k.useState([]),[y,A]=k.useState(""),[T,E]=k.useState(!1),C=n[c];if(k.useEffect(()=>{C&&(j(C.availableRoles||[]),A(C.status),E(C.isActivated||!1),p(null))},[c,C]),!e||!C)return null;const I=()=>{c<n.length-1&&f(c+1)},G=()=>{c>0&&f(c-1)},D=Y=>{j(O=>{const R=!O.includes(Y);let V=O;return R?(Y==="Inter Lab sender"&&(V=V.filter(F=>F!=="User")),Y==="User"&&(V=V.filter(F=>F!=="Inter Lab sender")),[...V,Y]):O.filter(F=>F!==Y)})},te=async()=>{h(!0),p(null);try{const Y=await CS(C._id,w);y!==C.status&&await mv(C._id,y),T&&!C.isActivated&&await pv(C._id),Y.success?(p({type:"success",text:"User details updated successfully"}),i({...C,availableRoles:w,status:y,isActivated:T})):p({type:"error",text:Y.message||"Failed to update roles"})}catch(Y){p({type:"error",text:Y.message||"An error occurred during update"})}finally{h(!1)}},de=Array.from(new Set(o.flatMap(Y=>Y.roles))).filter(Y=>Y!==dr).sort();return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md animate-fade-in p-2 sm:p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl sm:rounded-3xl shadow-2xl w-full max-w-4xl overflow-hidden animate-scale-in border border-white/20 flex flex-col max-h-[95vh] sm:max-h-[90vh]",children:[s.jsxs("div",{className:"px-4 py-4 sm:px-8 sm:py-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50 shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[s.jsx(zc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600"}),"Manage Selected Users"]}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Processing user ",s.jsx("span",{className:"font-bold text-indigo-600 font-heading",children:c+1})," of ",s.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300 font-heading",children:n.length})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-all text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:rotate-90",children:s.jsx(Dn,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsx("div",{className:"w-full h-1.5 bg-gray-100 dark:bg-gray-700 shrink-0",children:s.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(79,70,229,0.5)]",style:{width:`${(c+1)/n.length*100}%`}})}),s.jsxs("div",{className:"p-4 sm:p-8 overflow-y-auto flex-1",children:[s.jsxs("div",{className:"bg-indigo-50/50 dark:bg-indigo-900/20 rounded-2xl p-4 sm:p-6 border border-indigo-100/50 dark:border-indigo-800/30 mb-6 sm:mb-8 flex flex-col sm:flex-row items-center sm:items-start gap-4 sm:gap-6 text-center sm:text-left",children:[s.jsxs("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-indigo-600 rounded-2xl flex items-center justify-center text-white text-2xl sm:text-3xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none font-heading relative overflow-hidden group shrink-0",children:[C.avatar?s.jsx("img",{src:C.avatar,alt:C.fullName,className:"w-full h-full object-cover"}):C.initials||C.fullName?.charAt(0)||C.email?.charAt(0).toUpperCase(),s.jsx("div",{className:"absolute inset-0 bg-linear-to-tr from-indigo-600/20 to-transparent"})]}),s.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[s.jsx("h4",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white truncate",children:C.fullName||C.email?.split("@")[0]}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium truncate text-sm sm:text-base",children:C.email}),s.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 mt-2 sm:mt-3",children:[s.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border shadow-xs ${C.status==="Approved"?"bg-emerald-50 text-emerald-600 border-emerald-100":C.status==="Rejected"?"bg-rose-50 text-rose-600 border-rose-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:C.status}),C.isActivated&&s.jsx("span",{className:"px-2 sm:px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-blue-50 text-blue-600 border border-blue-100 shadow-xs",children:"Activated"})]})]})]}),m&&s.jsxs("div",{className:`mb-6 p-4 rounded-xl text-sm font-medium flex items-center gap-3 animate-in fade-in slide-in-from-top-2 ${m.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800/40":"bg-rose-50 text-rose-700 border border-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:border-rose-800/40"}`,children:[m.type==="success"?s.jsx(Rr,{className:"w-5 h-5 shrink-0"}):s.jsx(tu,{className:"w-5 h-5 shrink-0"}),m.text]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-3",children:"Status Management"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:()=>A("Approved"),className:`flex-1 flex items-center sm:flex-col justify-center gap-3 sm:gap-2 p-3 sm:p-4 rounded-2xl border-2 transition-all group ${y==="Approved"?"bg-emerald-50 border-emerald-500 text-emerald-700 scale-[1.02] shadow-sm":"bg-white border-gray-100 text-gray-400 hover:border-emerald-200 hover:text-emerald-500"}`,children:[s.jsx(Xk,{className:`w-5 h-5 sm:w-6 sm:h-6 ${y==="Approved"?"animate-bounce":"group-hoverScale"}`}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"Approve"})]}),s.jsxs("button",{onClick:()=>A("Rejected"),className:`flex-1 flex items-center sm:flex-col justify-center gap-3 sm:gap-2 p-3 sm:p-4 rounded-2xl border-2 transition-all group ${y==="Rejected"?"bg-rose-50 border-rose-500 text-rose-700 scale-[1.02] shadow-sm":"bg-white border-gray-100 text-gray-400 hover:border-rose-200 hover:text-rose-500"}`,children:[s.jsx(Zk,{className:`w-5 h-5 sm:w-6 sm:h-6 ${y==="Rejected"?"animate-pulse":"group-hoverScale"}`}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"Reject"})]})]})]}),!C.isActivated&&s.jsx("div",{className:"p-5 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800/30",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Av,{className:"w-5 h-5 text-blue-600 mt-1 shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"text-sm font-bold text-blue-900 dark:text-blue-300",children:"Waitlist Activation"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400/80 mt-1 leading-relaxed",children:"This user has not activated their account. Do you want to manually activate them?"}),s.jsx("button",{onClick:()=>E(!T),className:`mt-3 w-full py-2 rounded-xl text-xs font-bold uppercase tracking-widest transition-all ${T?"bg-blue-600 text-white shadow-md":"bg-white text-blue-600 border border-blue-200 hover:bg-blue-50"}`,children:T?"Will Be Activated":"Activate Manually"})]})]})})]}),s.jsxs("div",{className:"lg:col-span-7",children:[s.jsx("label",{className:"block text-xs font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-3",children:"Privilege Assignment"}),s.jsx("div",{className:"space-y-2",children:de.map(Y=>s.jsxs("div",{onClick:()=>D(Y),className:`group flex items-center justify-between p-3 sm:p-4 rounded-2xl border-2 cursor-pointer transition-all ${w.includes(Y)?"bg-indigo-50 border-indigo-500 dark:bg-indigo-900/30":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700 hover:border-indigo-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${w.includes(Y)?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300 dark:bg-gray-700 dark:border-gray-500 group-hover:border-indigo-400"}`,children:w.includes(Y)&&s.jsx(Rr,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:`text-sm font-bold ${w.includes(Y)?"text-indigo-900 dark:text-indigo-200":"text-gray-600 dark:text-gray-400"}`,children:Y})]}),Y==="Inter Lab sender"&&s.jsx(tu,{className:"w-4 h-4 text-amber-500"}),Y==="Delegated Admin"&&s.jsx(zc,{className:"w-4 h-4 text-purple-500"})]},Y))}),s.jsxs("p",{className:"text-[10px] text-gray-500 mt-4 leading-relaxed italic px-2",children:[s.jsx("span",{className:"font-bold",children:"Note:"})," 'User' and 'Inter Lab sender' roles are mutually exclusive. Selecting one will deselect the other."]})]})]})]}),s.jsxs("div",{className:"px-4 py-4 sm:px-8 sm:py-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50 flex flex-col md:flex-row justify-between items-stretch sm:items-center shrink-0 gap-4",children:[s.jsxs("div",{className:"flex gap-2 order-2 md:order-1",children:[s.jsx(wt,{variant:"secondary",onClick:G,disabled:c===0||u,icon:s.jsx(ff,{className:"w-4 h-4"}),className:"bg-white dark:bg-gray-700 flex-1 md:flex-none justify-center py-2.5",children:"Previous"}),s.jsx(wt,{variant:"secondary",onClick:I,disabled:c===n.length-1||u,icon:s.jsx(hf,{className:"w-4 h-4"}),iconPosition:"right",className:"bg-white dark:bg-gray-700 flex-1 md:flex-none justify-center py-2.5",children:"Next"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 order-1 md:order-2",children:[s.jsx(wt,{variant:"primary",onClick:te,disabled:u,icon:u?s.jsx(Mn,{className:"w-4 h-4 animate-spin"}):s.jsx(go,{className:"w-4 h-4"}),className:"flex-1 md:flex-none justify-center py-3 sm:py-2 min-w-[160px]",children:u?"Processing...":"Save & Continue"}),c===n.length-1&&s.jsx(wt,{variant:"primary",onClick:t,className:"bg-black! bg-none! text-white hover:bg-gray-800! border-none px-6 shadow-none flex-1 md:flex-none justify-center py-3 sm:py-2",children:"Finish"})]})]})]})})},OL=()=>{const{user:e,hasPermission:t}=Qa(),{showMessage:n,showConfirm:i}=cl(),[o,c]=k.useState([]),[f,u]=k.useState(!0),[h,m]=k.useState(null),[p,w]=k.useState(!1),[j,y]=k.useState(new Set),[A,T]=k.useState(null),[E,C]=k.useState(!1),[I,G]=k.useState(!1),[D,te]=k.useState([]),[de,Y]=k.useState(null),[O,R]=k.useState([]),[V,F]=k.useState([]),[z,ee]=k.useState([]),[le,ve]=k.useState([]),ae=["selection","user","fullName","labName","division","designation","availableRoles","status","actions"];k.useEffect(()=>{le.length===0&&ve(ae)},[]);const se=Ee=>{c(o.map(Le=>Le._id===Ee._id?Ee:Le))},[Z,J]=k.useState(1),[fe,U]=k.useState(20),[_,L]=k.useState(1),[q,B]=k.useState(""),[re,oe]=k.useState(0);k.useEffect(()=>{const Ee=setTimeout(()=>{Q(Z,q,fe)},500);return()=>clearTimeout(Ee)},[Z,q,fe]),k.useEffect(()=>{e?.labName&&t(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)&&!t(xt.FEATURE_MANAGE_USERS_ALL_OFFICES)&&F([e.labName])},[e?.labName,t]);const Q=async(Ee=1,Le="",Xe=fe)=>{u(!0);try{const Ze=await ou(Ee,Xe,Le);Ze.success&&Ze.data?(c(Ze.data.users||[]),L(Ze.data.pagination?.totalPages||1),oe(Ze.data.pagination?.total||0),m(null)):m(Ze.message)}catch(Ze){m("Failed to fetch users"),console.error(Ze)}finally{u(!1)}},ue=async(Ee,Le)=>{T(Ee);try{const Xe=await mv(Ee,Le);Xe.success?c(o.map(Ze=>Ze._id===Ee?{...Ze,status:Le}:Ze)):n({title:"Error",message:Xe.message||"Failed to update status",type:"error"})}finally{T(null)}},ye=Ee=>e?.role===dr?Ee._id!==e._id:!(e?.role==="Delegated Admin"&&(Ee._id===e._id||Ee.role===dr)||e?.role==="Inter Lab sender"&&(Ee._id===e._id||Ee.role===dr)),ke=Ee=>{if(Ee.target.checked){const Le=o.filter(Xe=>ye(Xe));y(new Set(Le.map(Xe=>Xe._id)))}else y(new Set)},Ne=Ee=>{const Le=o.find(Ze=>Ze._id===Ee);if(Le&&!ye(Le))return;const Xe=new Set(j);Xe.has(Ee)?Xe.delete(Ee):Xe.add(Ee),y(Xe)},pe=async Ee=>{if(j.size!==0){if(Ee==="Activate"){if(!await i({title:"Confirm Bulk Activation",message:`Are you sure you want to activate ${j.size} users?`,type:"warning",confirmText:"Activate",cancelText:"Cancel"}))return}else if(!await i({title:"Confirm Status Change",message:`Are you sure you want to mark ${j.size} users as ${Ee}?`,type:"warning",confirmText:"Confirm",cancelText:"Cancel"}))return;C(!0);try{let Le;Ee==="Activate"?Le=await _S(Array.from(j)):Le=await AS(Array.from(j),Ee),Le.success?(c(Ee==="Activate"?o.map(Xe=>j.has(Xe._id)?{...Xe,isActivated:!0,activationToken:void 0}:Xe):o.map(Xe=>j.has(Xe._id)?{...Xe,status:Ee}:Xe)),y(new Set)):n({title:"Error",message:Le.message||"Bulk action failed",type:"error"})}finally{C(!1)}}},Fe=async()=>{if(!(j.size===0||!await i({title:"Confirm Bulk Delete",message:`Are you sure you want to delete ${j.size} users? This action cannot be undone.`,type:"error",confirmText:"Delete Users",cancelText:"Cancel"}))){C(!0);try{const Le=await kS(Array.from(j));Le.success?(c(o.filter(Xe=>!j.has(Xe._id))),y(new Set)):n({title:"Error",message:Le.message||"Delete failed",type:"error"})}finally{C(!1)}}},X=async Ee=>{if(await i({title:"Confirm Manual Activation",message:"Are you sure you want to manually activate this user? They will be able to login but will still need approval.",type:"warning",confirmText:"Activate",cancelText:"Cancel"})){T(Ee);try{const Xe=await pv(Ee);Xe.success?(c(o.map(Ze=>Ze._id===Ee?{...Ze,isActivated:!0,status:Xe.data?.status||"Pending"}:Ze)),n({title:"Success",message:"User activated successfully. Account is now Pending approval.",type:"success"})):n({title:"Error",message:Xe.message||"Activation failed",type:"error"})}finally{T(null)}}},We=(Ee,Le)=>{Y({key:Ee,direction:Le})},xe=()=>{B(""),R([]),t(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)&&!t(xt.FEATURE_MANAGE_USERS_ALL_OFFICES)&&e?.labName?F([e.labName]):F([]),ee([]),Y(null),J(1)},Ue=k.useMemo(()=>{let Ee=[...o];return O.length>0&&(Ee=Ee.filter(Le=>O.includes(Le.status))),V.length>0&&(Ee=Ee.filter(Le=>Le.labName&&V.includes(Le.labName))),z.length>0&&(Ee=Ee.filter(Le=>Le.availableRoles&&Le.availableRoles.some(Xe=>z.includes(Xe)))),de&&Ee.sort((Le,Xe)=>{const Ze=Le[de.key]||"",we=Xe[de.key]||"";return Ze<we?de.direction==="asc"?-1:1:Ze>we?de.direction==="asc"?1:-1:0}),Ee},[o,O,V,z,de]);if(!t(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)&&!t(xt.FEATURE_MANAGE_USERS_ALL_OFFICES))return s.jsx($r,{to:"/references/local"});const Re=o.filter(Ee=>ye(Ee)),ze=Re.length>0&&Re.every(Ee=>j.has(Ee._id)),rt=[{label:"Approved",value:"Approved"},{label:"Pending",value:"Pending"},{label:"Rejected",value:"Rejected"}],dt=Array.from(new Set(o.map(Ee=>Ee.labName).filter(Boolean))).map(Ee=>({label:Ee,value:Ee})),gt=Array.from(new Set(o.flatMap(Ee=>Ee.availableRoles||[]))).map(Ee=>({label:Ee,value:Ee}));return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(zc,{className:"w-8 h-8 text-indigo-600"}),"User Management"]}),s.jsxs("p",{className:"mt-2 text-gray-600 text-lg",children:["Manage user registrations and account approvals for "," ",s.jsx("span",{className:"text-indigo-600 font-bold uppercase",children:t(xt.FEATURE_MANAGE_USERS_ALL_OFFICES)?"All Labs":e?.labName||"your lab"})," ","."]})]}),t(xt.FEATURE_SYSTEM_CONFIGURATION)?s.jsx(wt,{variant:"primary",label:"Add Administrative User",icon:s.jsx(rp,{className:"w-4 h-4"}),onClick:()=>w(!0),className:"shadow-lg shadow-indigo-500/20"}):(t(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)||t(xt.FEATURE_MANAGE_USERS_ALL_OFFICES))&&e?.role==="Inter Lab sender"?s.jsx(wt,{variant:"primary",label:"Add Delegated Admin",icon:s.jsx(rp,{className:"w-4 h-4"}),onClick:()=>w(!0),className:"shadow-lg shadow-indigo-500/20"}):null]}),s.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm space-y-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-3 items-center",children:[s.jsxs("div",{className:"relative col-span-1 md:col-span-1 lg:col-span-2",children:[s.jsx("input",{type:"text",placeholder:"Search name, email, lab...",className:"pl-9 w-full rounded-lg pr-4 h-10 border border-gray-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-heading",value:q,onChange:Ee=>{B(Ee.target.value),J(1)}}),s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s.jsx(xo,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Qn,{name:"Status",options:rt,selectedValues:O,onChange:R})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Qn,{name:"Lab/Institute",options:dt,selectedValues:V,onChange:F,disabled:t(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)&&!t(xt.FEATURE_MANAGE_USERS_ALL_OFFICES)})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Qn,{name:"Roles",options:gt,selectedValues:z,onChange:ee})}),s.jsx("div",{className:"lg:col-span-2 flex justify-end",children:s.jsx(uu,{allColumns:ae,visibleColumns:le,onChange:ve})})]})}),(V.length>0&&!(t(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)&&!t(xt.FEATURE_MANAGE_USERS_ALL_OFFICES))||O.length>0||z.length>0||q)&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 animate-in fade-in slide-in-from-top-2 duration-300 bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest font-heading mr-2",children:"Filters:"}),q&&s.jsxs("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold border bg-gray-50 text-gray-700 border-gray-100",children:['Search: "',q,'"']}),O.map(Ee=>s.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-bold uppercase tracking-wider border ${Ee==="Approved"?"bg-green-50 text-green-700 border-green-100":Ee==="Pending"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100"}`,children:Ee},Ee)),!(t(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)&&!t(xt.FEATURE_MANAGE_USERS_ALL_OFFICES))&&V.map(Ee=>s.jsxs("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold border bg-indigo-50 text-indigo-700 border-indigo-100",children:["Lab: ",Ee]},Ee)),z.map(Ee=>s.jsxs("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-bold border bg-indigo-50 text-indigo-700 border-indigo-100",children:["Role: ",Ee]},Ee)),(q||O.length>0||z.length>0||V.length>0&&!(t(xt.FEATURE_MANAGE_USERS_OWN_OFFICE)&&!t(xt.FEATURE_MANAGE_USERS_ALL_OFFICES)))&&s.jsx("button",{onClick:xe,className:"ml-auto text-[11px] font-bold text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"Clear All filters"})]}),j.size>0&&s.jsxs("div",{className:"p-3 bg-indigo-50 rounded-xl border border-indigo-100 flex flex-wrap items-center gap-4 animate-in slide-in-from-right duration-300 mb-6",children:[s.jsxs("span",{className:"text-sm font-bold text-indigo-900 font-heading whitespace-nowrap",children:[j.size," SELECTED"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(wt,{variant:"primary",label:"Approve",icon:s.jsx(zc,{className:"w-4 h-4"}),onClick:()=>pe("Approved"),loading:E,disabled:E,className:"h-8 px-3 text-xs bg-emerald-600 hover:bg-emerald-700 border-emerald-500"}),s.jsx(wt,{variant:"primary",label:"Activate",icon:s.jsx(zc,{className:"w-4 h-4"}),onClick:()=>pe("Activate"),loading:E,disabled:E,className:"h-8 px-3 text-xs bg-amber-600 hover:bg-amber-700 border-amber-500 shadow-amber-200"}),s.jsx(wt,{variant:"primary",label:"Manage",icon:s.jsx(tu,{className:"w-4 h-4"}),onClick:()=>{te(o.filter(Ee=>j.has(Ee._id))),G(!0)},className:"h-8 px-3 text-xs bg-indigo-600 hover:bg-indigo-700 border-indigo-500 shadow-indigo-200"}),s.jsx(wt,{variant:"danger",label:"Delete",icon:s.jsx(Kl,{className:"w-4 h-4"}),onClick:Fe,loading:E,disabled:E,className:"h-8 px-3 text-xs bg-red-600 hover:bg-red-700 border-red-500 shadow-red-200"})]})]}),h&&s.jsxs("div",{className:"mb-4 bg-red-50 border border-red-100 text-red-700 p-4 rounded-xl flex items-center gap-2",children:[s.jsx(Gp,{className:"w-5 h-5"}),h]}),s.jsx("div",{className:`transition-opacity duration-200 ${f?"opacity-60":"opacity-100"}`,children:s.jsx(kf,{rows:Ue,visibleColumns:le,sortConfig:de,onSort:We,columnWidths:{selection:"50px",user:"220px",fullName:"180px",labName:"150px",actions:"180px"},customHeaderRenderers:{selection:()=>s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer disabled:cursor-not-allowed",checked:ze,onChange:ke,disabled:Re.length===0})})},customRenderers:{selection:Ee=>{const Le=ye(Ee);return s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer disabled:cursor-not-allowed",checked:j.has(Ee._id),onChange:()=>Ne(Ee._id),disabled:!Le})})},user:Ee=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 shrink-0 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 text-xs font-bold border border-indigo-100 uppercase",children:Ee.initials||Ee.email.slice(0,2)}),s.jsx("div",{className:"min-w-0",children:s.jsx("button",{onClick:()=>{ye(Ee)&&(te([Ee]),G(!0))},className:`text-sm font-medium truncate max-w-[160px] block transition-colors ${ye(Ee)?"text-indigo-600 hover:text-indigo-800 hover:underline cursor-pointer":"text-gray-900"}`,title:Ee.email,disabled:!ye(Ee),children:Ee.email})})]}),fullName:Ee=>s.jsx("span",{className:"text-sm font-semibold text-gray-800 truncate block",title:Ee.fullName,children:Ee.fullName||"N/A"}),labName:Ee=>s.jsx("span",{className:"text-sm text-gray-600 italic truncate block",title:Ee.labName,children:Ee.labName||"N/A"}),availableRoles:Ee=>s.jsx("div",{className:"flex flex-wrap gap-1",children:Ee.availableRoles&&Ee.availableRoles.length>0?Ee.availableRoles.map((Le,Xe)=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-gray-100 text-gray-800 border border-gray-200",children:Le},Xe)):s.jsx("span",{className:"text-sm text-gray-400 italic",children:"None"})}),status:Ee=>s.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-bold border ${Ee.status==="Approved"?"bg-green-50 text-green-700 border-green-100":Ee.status==="Pending"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100"}`,children:Ee.status}),actions:Ee=>{const Le=ye(Ee);return s.jsxs("div",{className:"flex items-center justify-end gap-1.5 action-buttons",children:[Le&&!Ee.isActivated&&s.jsx("button",{onClick:()=>X(Ee._id),disabled:A===Ee._id||E,className:"px-2 py-1 text-[10px] font-bold bg-amber-600 text-white rounded hover:bg-amber-700 transition-colors shadow-sm disabled:opacity-50",title:"Manually Activate",children:A===Ee._id?"...":"Activate"}),Le&&Ee.isActivated&&Ee.status!=="Approved"&&s.jsx("button",{onClick:()=>ue(Ee._id,"Approved"),disabled:A===Ee._id||E,className:"px-2 py-1 text-[10px] font-bold bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors shadow-sm disabled:opacity-50",children:A===Ee._id?"...":"Approve"}),Le&&Ee.status!=="Rejected"&&s.jsx("button",{onClick:()=>ue(Ee._id,"Rejected"),disabled:A===Ee._id||E,className:"px-2 py-1 text-[10px] font-bold bg-white text-red-600 border border-red-200 rounded hover:bg-red-50 transition-colors disabled:opacity-50",children:A===Ee._id?"...":"Reject"}),!Le&&s.jsx("span",{className:"text-[10px] text-gray-400 font-medium italic",children:Ee._id===e?._id?"(You)":"Restricted"})]})}}})}),s.jsx(RL,{isOpen:p,onClose:()=>w(!1),onSuccess:()=>{Q(Z,q,fe)}}),re>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6 pt-8 pb-2 border-t border-gray-100 mt-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest font-heading",children:"Display"}),s.jsxs("select",{value:fe,onChange:Ee=>{U(Number(Ee.target.value)),J(1)},className:"bg-gray-100/50 border-none rounded-xl px-4 py-1.5 text-xs font-bold text-gray-600 focus:outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all cursor-pointer hover:bg-gray-100 font-heading",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("div",{className:"h-4 w-px bg-gray-100 mx-2"}),s.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest font-heading",children:["Showing ",(Z-1)*fe+1,"",Math.min(Z*fe,re)," of ",re]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>J(1),disabled:Z===1,className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all",title:"First Page",children:""}),s.jsx("button",{onClick:()=>J(Ee=>Math.max(1,Ee-1)),disabled:Z===1,className:"px-4 py-2 text-xs font-bold text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all font-heading",children:"PREV"}),s.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-indigo-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-indigo-600/20 font-heading",children:Z}),s.jsx("button",{onClick:()=>J(Ee=>Math.min(_,Ee+1)),disabled:Z===_,className:"px-4 py-2 text-xs font-bold text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all font-heading",children:"NEXT"}),s.jsx("button",{onClick:()=>J(_),disabled:Z===_,className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl disabled:opacity-20 disabled:hover:bg-transparent transition-all",title:"Last Page",children:""})]})]}),I&&s.jsx(TL,{isOpen:I,onClose:()=>G(!1),selectedUsers:D,onUserUpdate:se})]})},ML=()=>{const{logout:e}=Qa(),t=tr();return k.useEffect(()=>{(async()=>{try{await gS()}catch(i){console.error("Logout failed",i)}finally{e(),t("/",{replace:!0})}})()},[e,t]),s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx("p",{className:"text-gray-600",children:"Logging out..."})})},DL=()=>{const[e]=Mp(),t=tr(),[n,i]=k.useState("loading"),[o,c]=k.useState(""),f=e.get("token"),u=e.get("userId");return k.useEffect(()=>{(async()=>{if(!f||!u){i("error"),c("Invalid activation link. Missing token or user ID.");return}try{const m=await yS({userId:u,token:f});m.success?(i("success"),c(m.message||"Account activated successfully!")):(i("error"),c(m.message||"Failed to activate account."))}catch(m){i("error"),c(m.message||"An error occurred during activation.")}})()},[f,u]),s.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-xl shadow-indigo-100/50 p-8 border border-gray-100 text-center animate-scale-in",children:[n==="loading"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-2xl flex items-center justify-center animate-pulse",children:s.jsx(Mn,{className:"w-8 h-8 text-indigo-600 animate-spin"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-heading",children:"Activating Account"}),s.jsx("p",{className:"text-gray-500",children:"Please wait while we verify your activation link..."})]}),n==="success"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-2xl flex items-center justify-center animate-bounce-subtle",children:s.jsx(Rr,{className:"w-10 h-10 text-green-500"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-heading",children:"Activation Successful!"}),s.jsx("p",{className:"text-gray-500",children:o}),s.jsx("div",{className:"pt-4",children:s.jsxs(wt,{onClick:()=>t("/login"),className:"w-full flex flex-row items-center justify-center gap-2 group whitespace-nowrap",children:["Continue to Login",s.jsx(tp,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),n==="error"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-2xl flex items-center justify-center animate-shake",children:s.jsx(Gp,{className:"w-10 h-10 text-red-500"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-heading",children:"Activation Failed"}),s.jsx("p",{className:"text-red-500 font-medium",children:o}),s.jsx("p",{className:"text-sm text-gray-500",children:"The link may be expired or already used. If you continue to have issues, please contact the administrator."}),s.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[s.jsx(wt,{variant:"secondary",onClick:()=>t("/login"),className:"w-full",children:"Back to Login"}),s.jsx(gn,{to:"/",className:"text-sm text-indigo-600 font-medium hover:text-indigo-700",children:"Return to Home"})]})]})]})})},FL=()=>{const e=[{title:"Global References Management",icon:Sv,color:"text-indigo-600",bg:"bg-indigo-50",description:"The centralized repository. Search, request, and manage references across the entire CSIR network.",steps:[{icon:xo,text:"Search across all CSIR labs instantly"},{icon:sf,text:"Receive and process reference requests from other labs"},{icon:lo,text:"Bulk assign incoming global references to your team"}]},{title:"Local References Management",icon:Tr,color:"text-pink-600",bg:"bg-pink-50",description:"Lab-specific filing. Manage your internal files, movements, and assignments efficiently.",steps:[{icon:mf,text:"Track local file movements and status changes"},{icon:lo,text:"Mark multiple files to colleagues using Bulk Update"},{icon:EA,text:"Advanced filtering for finding specific local documents"}]},{title:"User Control & Admin",icon:lo,color:"text-emerald-600",bg:"bg-emerald-50",description:"Admins and Delegated Admins can oversee users and manage laboratory-wide access.",steps:[{icon:zc,text:"Review and approve new user registrations for your lab"},{icon:lo,text:"Bulk manage user statuses and roles"},{icon:Rr,text:"Audit trail: Monitor full history of security events and changes"},{icon:zc,text:"Assign precise roles like 'Delegated Admin' or 'Inter Lab Sender'"}]},{title:"Dynamic Personalization",icon:nl,color:"text-amber-600",bg:"bg-amber-50",description:"Make the portal your own with advanced theme and UI customization.",steps:[{icon:nl,text:"Switch between Light, Dark, and System themes"},{icon:wv,text:"Choose from 5 different accent colors (Indigo, Rose, etc.)"},{icon:tp,text:"Adjust font sizes for optimal reading comfort"}]},{title:"Data Collection Hub",icon:po,color:"text-purple-600",bg:"bg-purple-50",description:"Architect and distribute data collection forms with cutting-edge AI tools.",steps:[{icon:lo,text:"Collaborate via Shared Forms with Archiving & Restoration support"},{icon:po,text:"Generate complex forms instantly using simple AI prompts"},{icon:Rr,text:"Perform bulk actions: Archive, Restore, or Delete multiple forms at once"}]},{title:"Background Operations",icon:sf,color:"text-blue-600",bg:"bg-blue-50",description:"Stay informed with real-time updates on long-running system tasks.",steps:[{icon:mf,text:"Monitor bulk email distribution progress in real-time"},{icon:sf,text:"Receive system notifications when large tasks complete"},{icon:Rr,text:"Continue working while the system processes data in the background"}]},{title:"Feature Access Control",icon:Zs,color:"text-orange-600",bg:"bg-orange-50",description:"Granular control over system capabilities. Enable or disable modules for specific user roles.",steps:[{icon:Zs,text:"Configure permission matrices for all system roles"},{icon:Rr,text:"Toggle critical features like 'Audit Trails' or 'System Config'"},{icon:lo,text:"Real-time updates to user capabilities without deployment"}]}];return s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12 space-y-16 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-indigo-100 rounded-2xl text-indigo-600 mb-2",children:s.jsx(vv,{className:"w-10 h-10"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 font-heading tracking-tight",children:"How to use the Portal"}),s.jsx("p",{className:"max-w-2xl mx-auto text-xl text-gray-600 font-heading",children:"A quick visual guide to understanding the features and workflow of our Reference Management Portal."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8",children:e.map((t,n)=>{const i=t.icon;return s.jsxs("div",{className:"flex flex-col h-full bg-white rounded-3xl p-8 border border-gray-100 shadow-xl shadow-gray-200/50 hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 dark:bg-gray-800 dark:border-gray-700 dark:shadow-none",children:[s.jsx("div",{className:`p-4 rounded-2xl ${t.bg} ${t.color} w-fit mb-6 dark:bg-opacity-10`,children:s.jsx(i,{className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-heading dark:text-white",children:t.title}),s.jsx("p",{className:"text-gray-600 mb-8 font-heading leading-relaxed dark:text-gray-400",children:t.description}),s.jsx("div",{className:"mt-auto space-y-4 pt-6 border-t border-gray-50 dark:border-gray-700",children:t.steps.map((o,c)=>{const f=o.icon;return s.jsxs("div",{className:"flex gap-3 items-start group",children:[s.jsx("div",{className:"mt-1 p-1 rounded-md bg-gray-50 text-gray-400 group-hover:text-indigo-600 group-hover:bg-indigo-50 transition-colors dark:bg-gray-700",children:s.jsx(f,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm text-gray-600 font-heading dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-gray-200 transition-colors",children:o.text})]},c)})})]},n)})}),s.jsxs("div",{className:"bg-indigo-600 rounded-[3rem] p-12 text-center text-white relative overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32 blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-indigo-400/20 rounded-full -ml-32 -mb-32 blur-3xl animate-pulse"}),s.jsxs("div",{className:"relative z-10 space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold font-heading",children:"Ready to get started?"}),s.jsx("p",{className:"text-indigo-100 text-lg max-w-xl mx-auto font-heading",children:"Your dashboard is ready with all the tools you need to manage references effectively."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 pt-4",children:[s.jsxs(gn,{to:"/references",className:"px-8 py-3 bg-white text-indigo-600 rounded-xl font-bold hover:bg-indigo-50 transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:["Go to References ",s.jsx(tp,{className:"w-5 h-5"})]}),s.jsxs(gn,{to:"/settings",className:"px-8 py-3 bg-indigo-500 text-white border border-indigo-400 rounded-xl font-bold hover:bg-indigo-400 transition-all flex items-center gap-2",children:["Open Settings ",s.jsx(nl,{className:"w-5 h-5"})]})]})]})]}),s.jsx("div",{className:"text-center text-gray-400 text-sm pb-8 font-heading",children:" 2026 Council of Scientific & Industrial Research. All rights reserved."})]})},PL=async(e={})=>{try{return(await ba.get(`${pn}/audit`,{params:e,withCredentials:!0})).data}catch(t){throw console.error("Error fetching audit logs:",t),t}},UL=async()=>{try{return(await ba.get(`${pn}/audit/settings`,{withCredentials:!0})).data}catch(e){throw console.error("Error fetching audit settings:",e),e}},BL=async()=>{try{return(await ba.post(`${pn}/audit/toggle`,{},{withCredentials:!0})).data}catch(e){throw console.error("Error toggling audit logging:",e),e}},e4=6048e5,zL=864e5,Gy=Symbol.for("constructDateFrom");function Ql(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Gy in e?e[Gy](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ui(e,t){return Ql(t||e,e)}let IL={};function j0(){return IL}function xf(e,t){const n=j0(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ui(e,t?.in),c=o.getDay(),f=(c<i?7:0)+c-i;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function o0(e,t){return xf(e,{...t,weekStartsOn:1})}function t4(e,t){const n=Ui(e,t?.in),i=n.getFullYear(),o=Ql(n,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const c=o0(o),f=Ql(n,0);f.setFullYear(i,0,4),f.setHours(0,0,0,0);const u=o0(f);return n.getTime()>=c.getTime()?i+1:n.getTime()>=u.getTime()?i:i-1}function Vy(e){const t=Ui(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function qL(e,...t){const n=Ql.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function Wy(e,t){const n=Ui(e,t?.in);return n.setHours(0,0,0,0),n}function HL(e,t,n){const[i,o]=qL(n?.in,e,t),c=Wy(i),f=Wy(o),u=+c-Vy(c),h=+f-Vy(f);return Math.round((u-h)/zL)}function $L(e,t){const n=t4(e,t),i=Ql(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),o0(i)}function GL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function VL(e){return!(!GL(e)&&typeof e!="number"||isNaN(+Ui(e)))}function WL(e,t){const n=Ui(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const YL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XL=(e,t,n)=>{let i;const o=YL[e];return typeof o=="string"?i=o:t===1?i=o.one:i=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function jg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const KL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QL={date:jg({formats:KL,defaultWidth:"full"}),time:jg({formats:JL,defaultWidth:"full"}),dateTime:jg({formats:ZL,defaultWidth:"full"})},eR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tR=(e,t,n,i)=>eR[e];function tf(e){return(t,n)=>{const i=n?.context?String(n.context):"standalone";let o;if(i==="formatting"&&e.formattingValues){const f=e.defaultFormattingWidth||e.defaultWidth,u=n?.width?String(n.width):f;o=e.formattingValues[u]||e.formattingValues[f]}else{const f=e.defaultWidth,u=n?.width?String(n.width):e.defaultWidth;o=e.values[u]||e.values[f]}const c=e.argumentCallback?e.argumentCallback(t):t;return o[c]}}const aR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lR=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cR={ordinalNumber:lR,era:tf({values:aR,defaultWidth:"wide"}),quarter:tf({values:nR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tf({values:rR,defaultWidth:"wide"}),day:tf({values:sR,defaultWidth:"wide"}),dayPeriod:tf({values:iR,defaultWidth:"wide",formattingValues:oR,defaultFormattingWidth:"wide"})};function af(e){return(t,n={})=>{const i=n.width,o=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=t.match(o);if(!c)return null;const f=c[0],u=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(u)?uR(u,w=>w.test(f)):dR(u,w=>w.test(f));let m;m=e.valueCallback?e.valueCallback(h):h,m=n.valueCallback?n.valueCallback(m):m;const p=t.slice(f.length);return{value:m,rest:p}}}function dR(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function uR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function fR(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const o=i[0],c=t.match(e.parsePattern);if(!c)return null;let f=e.valueCallback?e.valueCallback(c[0]):c[0];f=n.valueCallback?n.valueCallback(f):f;const u=t.slice(o.length);return{value:f,rest:u}}}const hR=/^(\d+)(th|st|nd|rd)?/i,mR=/\d+/i,gR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pR={any:[/^b/i,/^(a|c)/i]},xR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bR={any:[/1/i,/2/i,/3/i,/4/i]},yR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AR={ordinalNumber:fR({matchPattern:hR,parsePattern:mR,valueCallback:e=>parseInt(e,10)}),era:af({matchPatterns:gR,defaultMatchWidth:"wide",parsePatterns:pR,defaultParseWidth:"any"}),quarter:af({matchPatterns:xR,defaultMatchWidth:"wide",parsePatterns:bR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:af({matchPatterns:yR,defaultMatchWidth:"wide",parsePatterns:vR,defaultParseWidth:"any"}),day:af({matchPatterns:wR,defaultMatchWidth:"wide",parsePatterns:NR,defaultParseWidth:"any"}),dayPeriod:af({matchPatterns:jR,defaultMatchWidth:"any",parsePatterns:SR,defaultParseWidth:"any"})},kR={code:"en-US",formatDistance:XL,formatLong:QL,formatRelative:tR,localize:cR,match:AR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _R(e,t){const n=Ui(e,t?.in);return HL(n,WL(n))+1}function ER(e,t){const n=Ui(e,t?.in),i=+o0(n)-+$L(n);return Math.round(i/e4)+1}function a4(e,t){const n=Ui(e,t?.in),i=n.getFullYear(),o=j0(),c=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=Ql(t?.in||e,0);f.setFullYear(i+1,0,c),f.setHours(0,0,0,0);const u=xf(f,t),h=Ql(t?.in||e,0);h.setFullYear(i,0,c),h.setHours(0,0,0,0);const m=xf(h,t);return+n>=+u?i+1:+n>=+m?i:i-1}function CR(e,t){const n=j0(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=a4(e,t),c=Ql(t?.in||e,0);return c.setFullYear(o,0,i),c.setHours(0,0,0,0),xf(c,t)}function LR(e,t){const n=Ui(e,t?.in),i=+xf(n,t)-+CR(n,t);return Math.round(i/e4)+1}function Oa(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const Wl={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Oa(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Oa(n+1,2)},d(e,t){return Oa(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Oa(e.getHours()%12||12,t.length)},H(e,t){return Oa(e.getHours(),t.length)},m(e,t){return Oa(e.getMinutes(),t.length)},s(e,t){return Oa(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),o=Math.trunc(i*Math.pow(10,n-3));return Oa(o,t.length)}},qd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yy={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return Wl.y(e,t)},Y:function(e,t,n,i){const o=a4(e,i),c=o>0?o:1-o;if(t==="YY"){const f=c%100;return Oa(f,2)}return t==="Yo"?n.ordinalNumber(c,{unit:"year"}):Oa(c,t.length)},R:function(e,t){const n=t4(e);return Oa(n,t.length)},u:function(e,t){const n=e.getFullYear();return Oa(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Oa(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Oa(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Wl.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Oa(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const o=LR(e,i);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Oa(o,t.length)},I:function(e,t,n){const i=ER(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Oa(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Wl.d(e,t)},D:function(e,t,n){const i=_R(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Oa(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const o=e.getDay(),c=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return Oa(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const o=e.getDay(),c=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return Oa(c,t.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),o=i===0?7:i;switch(t){case"i":return String(o);case"ii":return Oa(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let o;switch(i===12?o=qd.noon:i===0?o=qd.midnight:o=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let o;switch(i>=17?o=qd.evening:i>=12?o=qd.afternoon:i>=4?o=qd.morning:o=qd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Wl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Wl.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Oa(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Oa(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Wl.s(e,t)},S:function(e,t){return Wl.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Ky(i);case"XXXX":case"XX":return Dc(i);case"XXXXX":case"XXX":default:return Dc(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return Ky(i);case"xxxx":case"xx":return Dc(i);case"xxxxx":case"xxx":default:return Dc(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xy(i,":");case"OOOO":default:return"GMT"+Dc(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xy(i,":");case"zzzz":default:return"GMT"+Dc(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Oa(i,t.length)},T:function(e,t,n){return Oa(+e,t.length)}};function Xy(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),o=Math.trunc(i/60),c=i%60;return c===0?n+String(o):n+String(o)+t+Oa(c,2)}function Ky(e,t){return e%60===0?(e>0?"-":"+")+Oa(Math.abs(e)/60,2):Dc(e,t)}function Dc(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),o=Oa(Math.trunc(i/60),2),c=Oa(i%60,2);return n+o+t+c}const Jy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},n4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},RR=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return Jy(e,t);let c;switch(i){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",Jy(i,t)).replace("{{time}}",n4(o,t))},TR={p:n4,P:RR},OR=/^D+$/,MR=/^Y+$/,DR=["D","DD","YY","YYYY"];function FR(e){return OR.test(e)}function PR(e){return MR.test(e)}function UR(e,t,n){const i=BR(e,t,n);if(console.warn(i),DR.includes(e))throw new RangeError(i)}function BR(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,IR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qR=/^'([^]*?)'?$/,HR=/''/g,$R=/[a-zA-Z]/;function Fh(e,t,n){const i=j0(),o=i.locale??kR,c=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,f=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,u=Ui(e,n?.in);if(!VL(u))throw new RangeError("Invalid time value");let h=t.match(IR).map(p=>{const w=p[0];if(w==="p"||w==="P"){const j=TR[w];return j(p,o.formatLong)}return p}).join("").match(zR).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const w=p[0];if(w==="'")return{isToken:!1,value:GR(p)};if(Yy[w])return{isToken:!0,value:p};if(w.match($R))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:p}});o.localize.preprocessor&&(h=o.localize.preprocessor(u,h));const m={firstWeekContainsDate:c,weekStartsOn:f,locale:o};return h.map(p=>{if(!p.isToken)return p.value;const w=p.value;(PR(w)||FR(w))&&UR(w,t,String(e));const j=Yy[w[0]];return j(u,w,o.localize,m)}).join("")}function GR(e){const t=e.match(qR);return t?t[1].replace(HR,"'"):e}const VR=()=>{const[e,t]=k.useState([]),[n,i]=k.useState(!0),[o,c]=k.useState(1),[f,u]=k.useState(1),[h,m]=k.useState({action:"",user:"",resource:""}),[p,w]=k.useState(null),[j,y]=k.useState(!0),[A,T]=k.useState(!1),[E,C]=k.useState(!1),[I,G]=k.useState({startDate:"",endDate:""}),[D,te]=k.useState([]),de=["timestamp","user","action","resource","details"];k.useEffect(()=>{D.length===0&&te(de)},[]);const Y=async()=>{i(!0);try{const F=await PL({page:o,...h,...I});F.success&&(t(F.data.logs),u(F.data.pagination.totalPages))}catch(F){console.error("Failed to fetch logs:",F)}finally{i(!1)}},O=async()=>{try{const F=await UL();F.success&&y(F.data.isEnabled)}catch(F){console.error("Failed to fetch audit settings:",F)}};k.useEffect(()=>{Y(),O()},[o,h,I]);const R=F=>{m({...h,[F.target.name]:F.target.value}),c(1)},V=F=>F.includes("DELETE")?"text-red-600 bg-red-50":F.includes("CREATE")?"text-emerald-600 bg-emerald-50":F.includes("UPDATE")?"text-blue-600 bg-blue-50":F.includes("LOGIN")?"text-indigo-600 bg-indigo-50":"text-gray-600 bg-gray-50";return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 font-heading flex items-center gap-3 dark:text-white",children:[s.jsx(tu,{className:"w-8 h-8 text-indigo-600"}),"Audit Trails"]}),s.jsx("p",{className:"text-gray-500 font-heading mt-1 dark:text-gray-400",children:"Monitor all system activities and security events."})]}),s.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-gray-800 p-2 pl-4 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${j?"bg-emerald-500 animate-pulse":"bg-amber-500"}`}),s.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Logging: ",j?"Active":"Paused"]})]}),s.jsxs("button",{onClick:async()=>{T(!0);try{const F=await BL();F.success&&(y(F.data.isEnabled),ta.success(`Audit logging ${F.data.isEnabled?"resumed":"paused"}`))}catch{ta.error("Failed to toggle logging")}finally{T(!1)}},disabled:A,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all duration-200 ${j?"bg-amber-50 text-amber-700 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-300":"bg-emerald-50 text-emerald-700 hover:bg-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-300"}`,children:[A?s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):j?s.jsx(uk,{className:"w-4 h-4"}):s.jsx(hk,{className:"w-4 h-4"}),j?"Pause Logging":"Resume Logging"]})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-3 items-center",children:[s.jsxs("div",{className:"relative col-span-1 md:col-span-1 lg:col-span-2",children:[s.jsx("input",{type:"text",name:"user",placeholder:"Search by User ID...",className:"w-full pl-9 pr-4 h-10 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none dark:bg-gray-900 dark:border-gray-600 dark:text-white text-sm font-heading",onChange:R}),s.jsx(xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),s.jsx("div",{className:"w-full",children:s.jsx(er,{placeholder:"All Actions",options:[{label:"All Actions",value:""},{label:"User Login",value:"USER_LOGIN"},{label:"User Logout",value:"USER_LOGOUT"},{label:"Reference Created",value:"REFERENCE_CREATE"},{label:"Reference Updated",value:"REFERENCE_UPDATE"},{label:"Reference Deleted",value:"REFERENCE_DELETE"}],selectedValue:h.action,onChange:F=>{m(z=>({...z,action:F})),c(1)}})}),s.jsx("div",{className:"w-full",children:s.jsx(er,{placeholder:"All Resources",options:[{label:"All Resources",value:""},{label:"References",value:"Reference"},{label:"Users",value:"User"}],selectedValue:h.resource,onChange:F=>{m(z=>({...z,resource:F})),c(1)}})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>C(!E),className:`flex items-center justify-center gap-2 w-full h-10 px-4 rounded-lg transition-colors font-heading text-sm ${I.startDate||I.endDate?"bg-indigo-50 text-indigo-600 border border-indigo-200":"bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-100 border border-gray-200"}`,children:[s.jsx(Hp,{className:"w-4 h-4"}),I.startDate?s.jsxs("span",{className:"truncate",children:[Fh(new Date(I.startDate),"MMM dd"),I.endDate?` - ${Fh(new Date(I.endDate),"MMM dd")}`:" +"]}):"Date Range"]}),E&&s.jsx("div",{className:"absolute right-0 lg:left-0 mt-2 p-4 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 z-50 w-72 animate-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase mb-1 block",children:"Start Date"}),s.jsx("input",{type:"date",value:I.startDate,max:new Date().toISOString().split("T")[0],onChange:F=>G({...I,startDate:F.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:bg-gray-900 dark:border-gray-600 dark:text-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase mb-1 block",children:"End Date"}),s.jsx("input",{type:"date",value:I.endDate,min:I.startDate,max:new Date().toISOString().split("T")[0],onChange:F=>G({...I,endDate:F.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:bg-gray-900 dark:border-gray-600 dark:text-white text-sm"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx("button",{onClick:()=>{G({startDate:"",endDate:""})},className:"flex-1 px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-lg dark:text-gray-300 dark:hover:bg-gray-700",children:"Clear"}),s.jsx("button",{onClick:()=>C(!1),className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm shadow-indigo-200",children:"Apply"})]})]})})]}),s.jsx("div",{className:"lg:col-start-8 flex justify-end",children:s.jsx(uu,{allColumns:de,visibleColumns:D,onChange:te})})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-xl overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-900/50 border-b border-gray-100 dark:border-gray-700",children:[D.includes("timestamp")&&s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider font-heading",children:"Timestamp"}),D.includes("user")&&s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider font-heading",children:"User"}),D.includes("action")&&s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider font-heading",children:"Action"}),D.includes("resource")&&s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider font-heading",children:"Resource"}),D.includes("details")&&s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider font-heading text-right",children:"Details"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-700",children:n?[...Array(5)].map((F,z)=>s.jsx("tr",{className:"animate-pulse",children:s.jsx("td",{colSpan:D.length,className:"px-6 py-4 h-16 bg-gray-50/20"})},z)):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:D.length,className:"px-6 py-12 text-center text-gray-500",children:"No audit logs found."})}):e.map(F=>s.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-700/50 transition-colors",children:[D.includes("timestamp")&&s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:Fh(new Date(F.createdAt),"MMM dd, HH:mm:ss")}),s.jsx("div",{className:"text-xs text-gray-400 font-heading",children:Fh(new Date(F.createdAt),"yyyy")})]}),D.includes("user")&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold border border-indigo-100",children:F.user?.fullName?.[0]||"U"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-gray-200 font-heading",children:F.user?.fullName||"System"}),s.jsx("div",{className:"text-[10px] text-gray-400 font-medium font-heading",children:F.user?.email||"N/A"})]})]})}),D.includes("action")&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold font-heading border ${V(F.action).replace("text-","border-").replace("bg-","")} ${V(F.action)}`,children:F.action.replace(/_/g," ")})}),D.includes("resource")&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-bold text-gray-500 dark:text-gray-400 font-heading uppercase",children:[s.jsx(jv,{className:"w-3.5 h-3.5 text-indigo-400"}),F.resource]})}),D.includes("details")&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsx("button",{onClick:()=>w(F),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-all",children:s.jsx(co,{className:"w-5 h-5"})})})]},F._id))})]})}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:o})," of ",f]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{disabled:o===1,onClick:()=>c(F=>F-1),className:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 dark:bg-gray-800 dark:border-gray-700",children:s.jsx(ff,{className:"w-4 h-4"})}),s.jsx("button",{disabled:o===f,onClick:()=>c(F=>F+1),className:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 dark:bg-gray-800 dark:border-gray-700",children:s.jsx(hf,{className:"w-4 h-4"})})]})]})]}),p&&s.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold font-heading dark:text-white",children:"Activity Detail"}),s.jsx("button",{onClick:()=>w(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx(hf,{className:"w-6 h-6 rotate-90"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-2xl",children:[s.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Action Performed"}),s.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:p.action})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-2xl",children:[s.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"On Resource"}),s.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[p.resource," (",p.resourceId||"N/A",")"]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-2xl",children:[s.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"IP Address"}),s.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:p.metadata?.ip||"Unknown"})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-2xl",children:[s.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Method"}),s.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[p.metadata?.method," ",p.metadata?.url]})]})]}),p.changes&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(qp,{className:"w-4 h-4 text-indigo-600"}),"Data Changes"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[p.changes.before&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-bold text-red-500 uppercase tracking-wider",children:"Before"}),s.jsx("pre",{className:"p-4 bg-red-50 text-red-700 text-xs rounded-2xl overflow-x-auto dark:bg-red-900/20 dark:text-red-300",children:JSON.stringify(p.changes.before,null,2)})]}),p.changes.after&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-bold text-emerald-500 uppercase tracking-wider",children:"After"}),s.jsx("pre",{className:"p-4 bg-emerald-50 text-emerald-700 text-xs rounded-2xl overflow-x-auto dark:bg-emerald-900/20 dark:text-emerald-300",children:JSON.stringify(p.changes.after,null,2)})]})]})]}),s.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl",children:[s.jsx("p",{className:"text-xs text-indigo-600 font-bold mb-2",children:"Browser Metadata"}),s.jsx("p",{className:"text-xs text-indigo-800 dark:text-indigo-300 leading-relaxed italic",children:p.metadata?.userAgent})]})]})]})})]})};var Sg={exports:{}},Zy;function WR(){return Zy||(Zy=1,(function(e){var t=(function(n){var i=Object.prototype,o=i.hasOwnProperty,c=Object.defineProperty||function(J,fe,U){J[fe]=U.value},f,u=typeof Symbol=="function"?Symbol:{},h=u.iterator||"@@iterator",m=u.asyncIterator||"@@asyncIterator",p=u.toStringTag||"@@toStringTag";function w(J,fe,U){return Object.defineProperty(J,fe,{value:U,enumerable:!0,configurable:!0,writable:!0}),J[fe]}try{w({},"")}catch{w=function(fe,U,_){return fe[U]=_}}function j(J,fe,U,_){var L=fe&&fe.prototype instanceof G?fe:G,q=Object.create(L.prototype),B=new ae(_||[]);return c(q,"_invoke",{value:z(J,U,B)}),q}n.wrap=j;function y(J,fe,U){try{return{type:"normal",arg:J.call(fe,U)}}catch(_){return{type:"throw",arg:_}}}var A="suspendedStart",T="suspendedYield",E="executing",C="completed",I={};function G(){}function D(){}function te(){}var de={};w(de,h,function(){return this});var Y=Object.getPrototypeOf,O=Y&&Y(Y(se([])));O&&O!==i&&o.call(O,h)&&(de=O);var R=te.prototype=G.prototype=Object.create(de);D.prototype=te,c(R,"constructor",{value:te,configurable:!0}),c(te,"constructor",{value:D,configurable:!0}),D.displayName=w(te,p,"GeneratorFunction");function V(J){["next","throw","return"].forEach(function(fe){w(J,fe,function(U){return this._invoke(fe,U)})})}n.isGeneratorFunction=function(J){var fe=typeof J=="function"&&J.constructor;return fe?fe===D||(fe.displayName||fe.name)==="GeneratorFunction":!1},n.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,te):(J.__proto__=te,w(J,p,"GeneratorFunction")),J.prototype=Object.create(R),J},n.awrap=function(J){return{__await:J}};function F(J,fe){function U(q,B,re,oe){var Q=y(J[q],J,B);if(Q.type==="throw")oe(Q.arg);else{var ue=Q.arg,ye=ue.value;return ye&&typeof ye=="object"&&o.call(ye,"__await")?fe.resolve(ye.__await).then(function(ke){U("next",ke,re,oe)},function(ke){U("throw",ke,re,oe)}):fe.resolve(ye).then(function(ke){ue.value=ke,re(ue)},function(ke){return U("throw",ke,re,oe)})}}var _;function L(q,B){function re(){return new fe(function(oe,Q){U(q,B,oe,Q)})}return _=_?_.then(re,re):re()}c(this,"_invoke",{value:L})}V(F.prototype),w(F.prototype,m,function(){return this}),n.AsyncIterator=F,n.async=function(J,fe,U,_,L){L===void 0&&(L=Promise);var q=new F(j(J,fe,U,_),L);return n.isGeneratorFunction(fe)?q:q.next().then(function(B){return B.done?B.value:q.next()})};function z(J,fe,U){var _=A;return function(q,B){if(_===E)throw new Error("Generator is already running");if(_===C){if(q==="throw")throw B;return Z()}for(U.method=q,U.arg=B;;){var re=U.delegate;if(re){var oe=ee(re,U);if(oe){if(oe===I)continue;return oe}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(_===A)throw _=C,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);_=E;var Q=y(J,fe,U);if(Q.type==="normal"){if(_=U.done?C:T,Q.arg===I)continue;return{value:Q.arg,done:U.done}}else Q.type==="throw"&&(_=C,U.method="throw",U.arg=Q.arg)}}}function ee(J,fe){var U=fe.method,_=J.iterator[U];if(_===f)return fe.delegate=null,U==="throw"&&J.iterator.return&&(fe.method="return",fe.arg=f,ee(J,fe),fe.method==="throw")||U!=="return"&&(fe.method="throw",fe.arg=new TypeError("The iterator does not provide a '"+U+"' method")),I;var L=y(_,J.iterator,fe.arg);if(L.type==="throw")return fe.method="throw",fe.arg=L.arg,fe.delegate=null,I;var q=L.arg;if(!q)return fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,I;if(q.done)fe[J.resultName]=q.value,fe.next=J.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=f);else return q;return fe.delegate=null,I}V(R),w(R,p,"Generator"),w(R,h,function(){return this}),w(R,"toString",function(){return"[object Generator]"});function le(J){var fe={tryLoc:J[0]};1 in J&&(fe.catchLoc=J[1]),2 in J&&(fe.finallyLoc=J[2],fe.afterLoc=J[3]),this.tryEntries.push(fe)}function ve(J){var fe=J.completion||{};fe.type="normal",delete fe.arg,J.completion=fe}function ae(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(le,this),this.reset(!0)}n.keys=function(J){var fe=Object(J),U=[];for(var _ in fe)U.push(_);return U.reverse(),function L(){for(;U.length;){var q=U.pop();if(q in fe)return L.value=q,L.done=!1,L}return L.done=!0,L}};function se(J){if(J){var fe=J[h];if(fe)return fe.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length)){var U=-1,_=function L(){for(;++U<J.length;)if(o.call(J,U))return L.value=J[U],L.done=!1,L;return L.value=f,L.done=!0,L};return _.next=_}}return{next:Z}}n.values=se;function Z(){return{value:f,done:!0}}return ae.prototype={constructor:ae,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(ve),!J)for(var fe in this)fe.charAt(0)==="t"&&o.call(this,fe)&&!isNaN(+fe.slice(1))&&(this[fe]=f)},stop:function(){this.done=!0;var J=this.tryEntries[0],fe=J.completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var fe=this;function U(oe,Q){return q.type="throw",q.arg=J,fe.next=oe,Q&&(fe.method="next",fe.arg=f),!!Q}for(var _=this.tryEntries.length-1;_>=0;--_){var L=this.tryEntries[_],q=L.completion;if(L.tryLoc==="root")return U("end");if(L.tryLoc<=this.prev){var B=o.call(L,"catchLoc"),re=o.call(L,"finallyLoc");if(B&&re){if(this.prev<L.catchLoc)return U(L.catchLoc,!0);if(this.prev<L.finallyLoc)return U(L.finallyLoc)}else if(B){if(this.prev<L.catchLoc)return U(L.catchLoc,!0)}else if(re){if(this.prev<L.finallyLoc)return U(L.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(J,fe){for(var U=this.tryEntries.length-1;U>=0;--U){var _=this.tryEntries[U];if(_.tryLoc<=this.prev&&o.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var L=_;break}}L&&(J==="break"||J==="continue")&&L.tryLoc<=fe&&fe<=L.finallyLoc&&(L=null);var q=L?L.completion:{};return q.type=J,q.arg=fe,L?(this.method="next",this.next=L.finallyLoc,I):this.complete(q)},complete:function(J,fe){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&fe&&(this.next=fe),I},finish:function(J){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var U=this.tryEntries[fe];if(U.finallyLoc===J)return this.complete(U.completion,U.afterLoc),ve(U),I}},catch:function(J){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var U=this.tryEntries[fe];if(U.tryLoc===J){var _=U.completion;if(_.type==="throw"){var L=_.arg;ve(U)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(J,fe,U){return this.delegate={iterator:se(J),resultName:fe,nextLoc:U},this.method==="next"&&(this.arg=f),I}},n})(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Sg)),Sg.exports}var Ag,Qy;function s1(){return Qy||(Qy=1,Ag=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`),Ag}var kg,e5;function r4(){if(e5)return kg;e5=1;const e=s1();let t=0;return kg=({id:n,action:i,payload:o={}})=>{let c=n;return typeof c>"u"&&(c=e("Job",t),t+=1),{id:c,action:i,payload:o}},kg}var nf={},t5;function i1(){if(t5)return nf;t5=1;let e=!1;return nf.logging=e,nf.setLogging=t=>{e=t},nf.log=(...t)=>e?console.log.apply(this,t):null,nf}var _g,a5;function YR(){if(a5)return _g;a5=1;const e=r4(),{log:t}=i1(),n=s1();let i=0;return _g=()=>{const o=n("Scheduler",i),c={},f={};let u=[];i+=1;const h=()=>u.length,m=()=>Object.keys(c).length,p=()=>{if(u.length!==0){const T=Object.keys(c);for(let E=0;E<T.length;E+=1)if(typeof f[T[E]]>"u"){u[0](c[T[E]]);break}}},w=(T,E)=>new Promise((C,I)=>{const G=e({action:T,payload:E});u.push(async D=>{u.shift(),f[D.id]=G;try{C(await D[T].apply(this,[...E,G.id]))}catch(te){I(te)}finally{delete f[D.id],p()}}),t(`[${o}]: Add ${G.id} to JobQueue`),t(`[${o}]: JobQueue length=${u.length}`),p()});return{addWorker:T=>(c[T.id]=T,t(`[${o}]: Add ${T.id}`),t(`[${o}]: Number of workers=${m()}`),p(),T.id),addJob:async(T,...E)=>{if(m()===0)throw Error(`[${o}]: You need to have at least one worker before adding jobs`);return w(T,E)},terminate:async()=>{Object.keys(c).forEach(async T=>{await c[T].terminate()}),u=[]},getQueueLen:h,getNumWorkers:m}},_g}function XR(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Eg,n5;function KR(){return n5||(n5=1,Eg=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof XR=="function"&&(t.type="node"),typeof e>"u"?t:t[e]}),Eg}var Cg,r5;function JR(){if(r5)return Cg;r5=1;const t=KR()("type")==="browser"?n=>new URL(n,window.location.href).href:n=>n;return Cg=n=>{const i={...n};return["corePath","workerPath","langPath"].forEach(o=>{n[o]&&(i[o]=t(i[o]))}),i},Cg}var Lg,s5;function s4(){return s5||(s5=1,Lg={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),Lg}const ZR="7.0.0",QR={version:ZR};var Rg,i5;function eT(){return i5||(i5=1,Rg={workerBlobURL:!0,logger:()=>{}}),Rg}var Tg,o5;function tT(){if(o5)return Tg;o5=1;const e=QR.version;return Tg={...eT(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},Tg}var Og,l5;function aT(){return l5||(l5=1,Og=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const i=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(i))}else n=new Worker(e);return n}),Og}var Mg,c5;function nT(){return c5||(c5=1,Mg=e=>{e.terminate()}),Mg}var Dg,d5;function rT(){return d5||(d5=1,Dg=(e,t)=>{e.onmessage=({data:n})=>{t(n)}}),Dg}var Fg,u5;function sT(){return u5||(u5=1,Fg=async(e,t)=>{e.postMessage(t)}),Fg}var Pg,f5;function iT(){if(f5)return Pg;f5=1;const e=n=>new Promise((i,o)=>{const c=new FileReader;c.onload=()=>{i(c.result)},c.onerror=({target:{error:{code:f}}})=>{o(Error(`File could not be read! Code=${f}`))},c.readAsArrayBuffer(n)}),t=async n=>{let i=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?i=atob(n.split(",")[1]).split("").map(o=>o.charCodeAt(0)):i=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(i=await t(n.src)),n.tagName==="VIDEO"&&(i=await t(n.poster)),n.tagName==="CANVAS"&&await new Promise(o=>{n.toBlob(async c=>{i=await e(c),o()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const o=await n.convertToBlob();i=await e(o)}else(n instanceof File||n instanceof Blob)&&(i=await e(n));return new Uint8Array(i)};return Pg=t,Pg}var Ug,h5;function oT(){if(h5)return Ug;h5=1;const e=tT(),t=aT(),n=nT(),i=rT(),o=sT(),c=iT();return Ug={defaultOptions:e,spawnWorker:t,terminateWorker:n,onMessage:i,send:o,loadImage:c},Ug}var Bg,m5;function i4(){if(m5)return Bg;m5=1;const e=JR(),t=r4(),{log:n}=i1(),i=s1(),o=s4(),{defaultOptions:c,spawnWorker:f,terminateWorker:u,onMessage:h,loadImage:m,send:p}=oT();let w=0;return Bg=async(j="eng",y=o.LSTM_ONLY,A={},T={})=>{const E=i("Worker",w),{logger:C,errorHandler:I,...G}=e({...c,...A}),D={},te=typeof j=="string"?j.split("+"):j;let de=y,Y=T;const O=[o.DEFAULT,o.LSTM_ONLY].includes(y)&&!G.legacyCore;let R,V;const F=new Promise((ue,ye)=>{V=ue,R=ye}),z=ue=>{R(ue.message)};let ee=f(G);ee.onerror=z,w+=1;const le=({id:ue,action:ye,payload:ke})=>new Promise((Ne,pe)=>{n(`[${E}]: Start ${ue}, action=${ye}`);const Fe=`${ye}-${ue}`;D[Fe]={resolve:Ne,reject:pe},p(ee,{workerId:E,jobId:ue,action:ye,payload:ke})}),ve=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),ae=ue=>le(t({id:ue,action:"load",payload:{options:{lstmOnly:O,corePath:G.corePath,logging:G.logging}}})),se=(ue,ye,ke)=>le(t({id:ke,action:"FS",payload:{method:"writeFile",args:[ue,ye]}})),Z=(ue,ye)=>le(t({id:ye,action:"FS",payload:{method:"readFile",args:[ue,{encoding:"utf8"}]}})),J=(ue,ye)=>le(t({id:ye,action:"FS",payload:{method:"unlink",args:[ue]}})),fe=(ue,ye,ke)=>le(t({id:ke,action:"FS",payload:{method:ue,args:ye}})),U=(ue,ye)=>le(t({id:ye,action:"loadLanguage",payload:{langs:ue,options:{langPath:G.langPath,dataPath:G.dataPath,cachePath:G.cachePath,cacheMethod:G.cacheMethod,gzip:G.gzip,lstmOnly:[o.DEFAULT,o.LSTM_ONLY].includes(de)&&!G.legacyLang}}})),_=(ue,ye,ke,Ne)=>le(t({id:Ne,action:"initialize",payload:{langs:ue,oem:ye,config:ke}})),L=(ue="eng",ye,ke,Ne)=>{if(O&&[o.TESSERACT_ONLY,o.TESSERACT_LSTM_COMBINED].includes(ye))throw Error("Legacy model requested but code missing.");const pe=ye||de;de=pe;const Fe=ke||Y;Y=Fe;const We=(typeof ue=="string"?ue.split("+"):ue).filter(xe=>!te.includes(xe));return te.push(...We),We.length>0?U(We,Ne).then(()=>_(ue,pe,Fe,Ne)):_(ue,pe,Fe,Ne)},q=(ue={},ye)=>le(t({id:ye,action:"setParameters",payload:{params:ue}})),B=async(ue,ye={},ke={text:!0},Ne)=>le(t({id:Ne,action:"recognize",payload:{image:await m(ue),options:ye,output:ke}})),re=async(ue,ye)=>{if(O)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return le(t({id:ye,action:"detect",payload:{image:await m(ue)}}))},oe=async()=>(ee!==null&&(u(ee),ee=null),Promise.resolve());h(ee,({workerId:ue,jobId:ye,status:ke,action:Ne,data:pe})=>{const Fe=`${Ne}-${ye}`;if(ke==="resolve")n(`[${ue}]: Complete ${ye}`),D[Fe].resolve({jobId:ye,data:pe}),delete D[Fe];else if(ke==="reject")if(D[Fe].reject(pe),delete D[Fe],Ne==="load"&&R(pe),I)I(pe);else throw Error(pe);else ke==="progress"&&C({...pe,userJobId:ye})});const Q={id:E,worker:ee,load:ve,writeText:se,readText:Z,removeFile:J,FS:fe,reinitialize:L,setParameters:q,recognize:B,detect:re,terminate:oe};return ae().then(()=>U(j)).then(()=>_(j,y,T)).then(()=>V(Q)).catch(()=>{}),F},Bg}var zg,g5;function lT(){if(g5)return zg;g5=1;const e=i4();return zg={recognize:async(i,o,c)=>{const f=await e(o,1,c);return f.recognize(i).finally(async()=>{await f.terminate()})},detect:async(i,o)=>{const c=await e("osd",0,o);return c.detect(i).finally(async()=>{await c.terminate()})}},zg}var Ig,p5;function cT(){return p5||(p5=1,Ig={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),Ig}var qg,x5;function dT(){return x5||(x5=1,qg={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),qg}var Hg,b5;function uT(){if(b5)return Hg;b5=1,WR();const e=YR(),t=i4(),n=lT(),i=cT(),o=s4(),c=dT(),{setLogging:f}=i1();return Hg={languages:i,OEM:o,PSM:c,createScheduler:e,createWorker:t,setLogging:f,...n},Hg}var fT=uT();const hT=Ap(fT),mT=async e=>{try{return(await Gt.post("/forms/templates",e)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to create template"}}},o4=async(e,t)=>{try{return(await Gt.patch(`/forms/templates/${e}`,t)).data}catch(n){return{success:!1,message:n.response?.data?.message||"Failed to update template"}}},l4=async e=>{try{return(await Gt.get(`/forms/templates/${e}`)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to fetch template details"}}},gT=async e=>{try{return(await Gt.post("/forms/submit",e)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to submit data"}}},pT=async e=>{try{return(await Gt.delete(`/forms/templates/${e}`)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to delete template"}}},xT=async(e,t,n)=>{try{return(await Gt.post(`/forms/templates/${e}/share-copy`,{targetUserIds:t,deadline:n})).data}catch(i){return{success:!1,message:i.response?.data?.message||"Failed to share template copies"}}},bT=async e=>{try{return(await Gt.patch("/forms/submit",e)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to update form data"}}},c4=async e=>{try{return(await Gt.get(`/forms/templates/${e}/submissions`)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to fetch submissions"}}},yT=async e=>{try{const t=e?new URLSearchParams(e).toString():"";return(await Gt.get(`/forms/shared/with-me?${t}`)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to fetch shared forms"}}},vT=async e=>{try{const t=e?new URLSearchParams(e).toString():"";return(await Gt.get(`/forms/shared/by-me?${t}`)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to fetch distributed forms"}}},wT=async(e,t)=>{try{return(await Gt.patch(`/forms/templates/${e}/archive`,{archive:t})).data}catch(n){return{success:!1,message:n.response?.data?.message||"Failed to update archive status"}}},NT=async e=>{try{return(await Gt.post("/blueprints",e)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to create blueprint"}}},jT=async(e=!1)=>{try{return(await Gt.get(`/blueprints${e?"?mineOnly=true":""}`)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to fetch blueprints"}}},ST=async e=>{try{return(await Gt.get(`/blueprints/${e}`)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to fetch blueprint details"}}},AT=async e=>{try{return(await Gt.delete(`/blueprints/${e}`)).data}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to delete blueprint"}}};function kT(){const e=tr(),[t]=Mp(),{showMessage:n}=cl(),{user:i}=Qa(),o=t.get("edit"),c=t.get("useBlueprint"),f=t.get("distribute")==="true",[u,h]=k.useState(""),[m,p]=k.useState(!1),[w,j]=k.useState(null),[y,A]=k.useState(!1),[T,E]=k.useState(""),[C,I]=k.useState(""),[G,D]=k.useState(!1),[te,de]=k.useState(!1),[Y,O]=k.useState(!1),[R,V]=k.useState(!1),[F,z]=k.useState(null),[ee,le]=k.useState(null),[ve,ae]=k.useState({}),[se,Z]=k.useState([]),[J,fe]=k.useState([]),[U,_]=k.useState([]),[L]=k.useState("COLLECT"),[q,B]=k.useState(""),[re,oe]=k.useState([]),[Q,ue]=k.useState([]),ye=k.useRef(null),ke=k.useRef(null),Ne=k.useRef(null);k.useEffect(()=>{X(),o&&Fe(o)},[o]),k.useEffect(()=>{c&&pe(c)},[c]);const pe=async we=>{p(!0);try{const Be=await ST(we);if(Be.success){const Ge=Be.data;j({title:Ge.title,description:Ge.description,fields:Ge.fields}),E(Ge.title),I(Ge.description),le(null),O(!0),setTimeout(()=>{Ne.current&&(Ne.current.focus(),Ne.current.select())},100)}}catch(Be){console.error(Be),n({title:"Error",message:"Failed to load blueprint.",type:"error"})}finally{p(!1)}},Fe=async we=>{p(!0);try{const Be=await l4(we);if(Be.success){const Ge=Be.data;j({title:Ge.title,description:Ge.description||"",fields:Ge.fields}),E(Ge.title),I(Ge.description||""),le(Ge._id),V(Ge.allowMultipleSubmissions||!1),B(Ge.deadline?new Date(Ge.deadline).toISOString().split("T")[0]:""),Z(Ge.sharedWithLabs||[]),_(Ge.sharedWithUsers||[]),f?de(!0):O(!0)}}catch(Be){console.error(Be)}finally{p(!1)}},X=async()=>{try{const we=await ou(1,100);if(we.success&&we.data){const Be=Array.isArray(we.data)?we.data:we.data.users||[];ue(Be);const Ge=Array.from(new Set(Be.map(ut=>ut.labName).filter(Boolean)));oe(Ge.sort().map(ut=>({label:ut,value:ut})))}}catch(we){console.error("Error fetching initial data:",we)}},We=k.useMemo(()=>{if(se.length===0)return[];const we=Q.filter(Ge=>se.includes(Ge.labName));return Array.from(new Set(we.map(Ge=>Ge.designation).filter(Boolean))).sort()},[Q,se]),xe=k.useMemo(()=>{const we=Q.filter(Be=>!["admin","superadmin","delegated admin"].includes(Be.role?.toLowerCase())&&Be._id!==i?._id);return se.length===0||J.length===0?[]:we.filter(Be=>{const Ge=se.includes(Be.labName),ut=J.includes(Be.designation);return Ge&&ut})},[Q,se,J,i]),Ue=async()=>{u.trim()&&(p(!0),j(null),O(!1),setTimeout(()=>{let we=[],Be="Custom Data Form";const Ge=/((?:\d+[\.)]|\-)\s*[^0-9\.\-]+)/g,ut=u.match(Ge);ut&&ut.length>0?we=ut.map((Ve,lt)=>{const ht=Ve.replace(/^(\d+[\.)]|\-)\s*/,"").trim();return Re(ht,lt)}):we=u.split(/,|;|\n/).map(lt=>lt.trim()).filter(lt=>lt.length>2).map((lt,ht)=>Re(lt,ht)),we.length===0&&u.length>2&&we.push(Re(u,0)),we.length>0&&(Be=`Form: ${we[0].label} & more`),u.toLowerCase().includes("feedback")&&(Be="Feedback Form"),u.toLowerCase().includes("inventory")&&(Be="Inventory Form"),u.toLowerCase().includes("registration")&&(Be="Registration Form"),u.toLowerCase().includes("lab")&&(Be="Lab Data Collection");const je={title:Be,description:`Generated from prompt: "${u.substring(0,100)}${u.length>100?"...":""}"`,fields:we};j(je),E(Be),I(je.description),p(!1),O(!0)},800))},Re=(we,Be)=>{const Ge=we.toLowerCase();let ut="text",je,Ve="",lt={};if(Ge.includes("date")||Ge.includes("when")||Ge.includes("time"))ut="date";else if(Ge.includes("choose")||Ge.includes("select")||Ge.includes("option")||Ge.includes("dropdown")||Ge.includes("list")||Ge.includes("lab"))if(ut="select",Ge.includes("lab"))je=re.length>0?re:[{label:"Loading labs...",value:""}];else{const bt=we.match(/\((.*?)\)/);bt?je=bt[1].split(",").map(yt=>({label:yt.trim(),value:yt.trim().toLowerCase().replace(/\s+/g,"_")})):je=[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"}]}Ge.includes("numeric")||Ge.includes("number")||Ge.includes("count")||Ge.includes("strength")||Ge.includes("mobile")||Ge.includes("phone")||Ge.includes("contact")?(lt.isNumeric=!0,Ve="Numbers only..."):Ge.includes("email")&&(lt.isEmail=!0,Ve="e.g., user@example.com");let ht=we.replace(/^\d+[\.)]\s*/,"").replace(/dropdown/gi,"").replace(/select/gi,"").replace(/text box/gi,"").replace(/numeric/gi,"").replace(/number/gi,"").replace(/input/gi,"").replace(/field/gi,"").replace(/requesting/gi,"").replace(/required/gi,"").split(/(-|with|having|options)/i)[0].trim();return ht=ht.replace(/[:\-\.]$/,"").trim(),ht.length<2&&(ht=`Field ${Be+1}`),ht=ht.charAt(0).toUpperCase()+ht.slice(1),{id:`field_${Be}_${Math.random().toString(36).substr(2,5)}`,type:ut,label:ht,placeholder:Ve||`Enter ${ht}`,required:!Ge.includes("optional"),options:je,validation:lt}},ze=we=>{const Be=we.target.files?.[0];Be&&rt(Be)},rt=we=>{if(A(!0),j(null),we.size>100*1024){n({title:"Upload Failed",message:"File size exceeds 100KB limit.",type:"error"}),A(!1);return}we.name.toLowerCase().endsWith(".csv")&&Qp.parse(we,{header:!0,preview:1,complete:Be=>{const Ge=Be.meta.fields||[];if(Ge.length===0){n({title:"Empty CSV",message:"CSV file appears to be empty.",type:"error"}),A(!1);return}const ut=Ge.map((je,Ve)=>({id:`field_${Ve}`,type:"text",label:je.trim(),required:!1,placeholder:`Enter ${je}`}));j({title:"CSV Imported Form",description:`Form generated from ${we.name}.`,fields:ut}),E("CSV Imported Form"),I(`Form generated from ${we.name}.`),A(!1),O(!0)}})},dt=async we=>{A(!0),j(null);try{const Be=await hT.recognize(we,"eng"),Ge=Be.data.lines||Be.data.text?.split(`
`).map(Ve=>({text:Ve}))||[],ut=[],je=new Set;Ge.forEach((Ve,lt)=>{let ht=Ve.text?.trim()?.replace(/:$/,"")||"";ht.length>2&&ht.length<60&&!je.has(ht)&&(ut.push({id:`vis_field_${lt}`,type:"text",label:ht,required:!1,placeholder:`Enter ${ht}...`}),je.add(ht))}),ut.length===0?n({title:"No Fields",message:"No fields identified.",type:"warning"}):(j({title:"Vision-Extracted Form",description:`Extracted from ${we.name}.`,fields:ut.slice(0,20)}),E("Vision-Extracted Form"),I(`Extracted from ${we.name}.`),O(!0))}catch(Be){console.error(Be)}finally{A(!1)}},gt=(we,Be)=>{w&&j({...w,fields:w.fields.map(Ge=>Ge.id===we?{...Ge,...Be}:Ge)})},Ee=()=>{if(!w)return;const we={id:`field_${Date.now()}`,type:"text",label:"New Field",placeholder:"Enter text here",required:!1};j({...w,fields:[...w.fields,we]})},Le=we=>{w&&j({...w,fields:w.fields.filter(Be=>Be.id!==we)})},Xe=async()=>{const we=new Set(U);if(i?._id&&we.has(i._id)&&we.delete(i._id),we.size===0){n({title:"Selection Required",message:"No users selected. Please check the users you want to share with.",type:"warning"});return}const Be=Array.from(we);if(L==="COLLECT")await Ze(!0,[],Be);else{if(!ee&&!await Ze(!1))return;D(!0);try{const Ge=await xT(ee,Be,q||void 0);D(!1),Ge.success?(z(`Template shared with ${Ge.data.count} users!`),setTimeout(()=>z(null),3e3),de(!1)):n({title:"Share Failed",message:"Failed to share copy: "+Ge.message,type:"error"})}catch(Ge){console.error(Ge),D(!1),n({title:"Error",message:"An error occurred while sharing.",type:"error"})}}},Ze=async(we=!1,Be,Ge,ut=!1)=>{if(!w)return!1;if(!T||!C)return n({title:"Missing Information",message:"Please provide both a Title and Description for this form before proceeding.",type:"warning"}),!1;D(!0);const je={...w,title:T,description:C,sharedWithLabs:Be??se,sharedWithUsers:Ge??U,allowMultipleSubmissions:R,deadline:q||void 0,notifyUsers:we,isActive:!0};try{let Ve;return ut?Ve=await NT(je):Ve=ee?await o4(ee,je):await mT(je),D(!1),Ve.success?(z(ut?"Blueprint saved successfully!":we?"Form distributed successfully!":"Template saved successfully!"),setTimeout(()=>z(null),3e3),ut?(e("/data-collection/saved"),!0):(!ee&&Ve.data?._id&&le(Ve.data._id),we?(de(!1),e("/data-collection/shared",{state:{activeTab:"by-me"}})):O(!1),!0)):(n({title:"Save Failed",message:"Failed to save: "+Ve.message,type:"error"}),!1)}catch(Ve){return console.error(Ve),D(!1),n({title:"Error",message:"An error occurred while saving.",type:"error"}),!1}};return s.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 sm:p-8",children:[s.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[w&&s.jsx("button",{onClick:()=>{o||c?e("/data-collection/saved"):(j(null),h(""))},className:"p-2.5 bg-white border border-gray-100 rounded-xl hover:bg-gray-50 transition-all shadow-sm hover:shadow group",title:o||c?"Back to Templates":"Back to Generation",children:s.jsx(Af,{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-600 transition-colors"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-1 font-headline tracking-tighter",children:"Design Center"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold tracking-widest opacity-60",children:"DYNAMIC FORM ARCHITECT"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[F&&s.jsxs("div",{className:"px-4 py-2 bg-emerald-50 text-emerald-600 rounded-lg text-sm font-bold animate-in fade-in border border-emerald-100 shadow-sm flex items-center gap-2",children:[s.jsx(Rr,{className:"w-4 h-4"}),F]}),w&&s.jsxs(s.Fragment,{children:[s.jsx(wt,{variant:Y?"primary":"secondary",size:"sm",label:Y?"Preview Design":"Refine Structure",onClick:()=>O(!Y),icon:s.jsx(Ak,{className:"w-4 h-4"})}),s.jsx(wt,{variant:"secondary",size:"sm",label:"Save as Blueprint",onClick:()=>Ze(!1,void 0,void 0,!0),icon:s.jsx(go,{className:"w-4 h-4"}),disabled:G}),s.jsx(wt,{variant:"secondary",size:"sm",label:"Distribute",onClick:()=>{if(!T||!C){n({title:"Missing Information",message:"Please provide both a Title and Description before distributing.",type:"warning"});return}de(!0)},icon:s.jsx(rf,{className:"w-4 h-4"}),disabled:Y})]})]})]}),!w&&!m&&!y?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Li,{className:"border-indigo-100 shadow-md flex flex-col overflow-hidden bg-white",children:[s.jsx(Ri,{className:"bg-slate-50 border-b border-gray-100",children:s.jsxs(fo,{className:"flex items-center gap-2 text-indigo-700",children:[s.jsx(po,{className:"w-5 h-5"}),"AI Form Generator"]})}),s.jsxs(Xl,{className:"pt-6 flex-1 flex flex-col gap-4",children:[s.jsx("textarea",{className:"w-full p-4 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 transition-all resize-none min-h-[140px] text-sm bg-gray-50/30 font-sans",placeholder:"e.g., Create a form for weekly progress reporting with project name, tasks completed, and challenges.",value:u,onChange:we=>h(we.target.value)}),s.jsx("div",{className:"mt-auto flex justify-end",children:s.jsx(wt,{onClick:Ue,loading:m,disabled:!u.trim(),icon:s.jsx(po,{className:"w-4 h-4"}),label:"Generate Form"})})]})]}),s.jsxs(Li,{className:"border-indigo-100 shadow-md flex flex-col overflow-hidden bg-white",children:[s.jsx(Ri,{className:"bg-slate-50 border-b border-gray-100",children:s.jsxs(fo,{className:"flex items-center gap-2 text-purple-700",children:[s.jsx(np,{className:"w-5 h-5"}),"CSV Template"]})}),s.jsxs(Xl,{className:"pt-6 flex-1 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-200 rounded-xl bg-gray-50/50 hover:bg-gray-100 transition-colors cursor-pointer p-8 group",onClick:()=>ye.current?.click(),children:[s.jsx("input",{type:"file",ref:ye,className:"hidden",accept:".csv",onChange:ze}),s.jsx(np,{className:"w-8 h-8 text-purple-600 mb-4 group-hover:scale-110 transition-transform"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Upload CSV"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Extract fields from headers"})]}),s.jsx(wt,{variant:"secondary",className:"w-full",icon:s.jsx(Vp,{className:"w-4 h-4"}),label:"Download CSV Template",onClick:()=>{const we=`Field1,Field2,Field3
Value1,Value2,Value3`,Be=new Blob([we],{type:"text/csv"}),Ge=window.URL.createObjectURL(Be),ut=document.createElement("a");ut.href=Ge,ut.download="template.csv",ut.click()}})]})]}),s.jsxs(Li,{className:"border-indigo-100 shadow-md flex flex-col overflow-hidden bg-white",children:[s.jsx(Ri,{className:"bg-slate-50 border-b border-gray-100",children:s.jsxs(fo,{className:"flex items-center gap-2 text-orange-700",children:[s.jsx(ap,{className:"w-5 h-5"}),"AI Vision Analysis"]})}),s.jsx(Xl,{className:"pt-6 flex-1 flex flex-col gap-4",children:s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-200 rounded-xl bg-gray-50/50 hover:bg-gray-100 transition-colors cursor-pointer p-8 group",onClick:()=>ke.current?.click(),children:[s.jsx("input",{type:"file",ref:ke,className:"hidden",accept:"image/*",onChange:we=>we.target.files?.[0]&&dt(we.target.files[0])}),s.jsx(ap,{className:"w-8 h-8 text-orange-600 mb-4 group-hover:scale-110 transition-transform"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Analyze Form Image"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Extract fields using AI OCR"})]})})]})]}):m||y?s.jsxs("div",{className:"p-20 text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin mx-auto mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-headline tracking-tight mb-2 italic",children:y?"Analyzing Vision Patterns...":"Generating intelligent schema..."}),s.jsx("p",{className:"text-gray-500",children:"Please wait while our AI architect works..."})]}):s.jsxs(Li,{className:`shadow-xl border-none overflow-hidden transition-all duration-500 bg-white ${Y?"ring-2 ring-indigo-500":""}`,children:[s.jsx(Ri,{className:`${Y?"bg-indigo-600 text-white":"bg-slate-900 text-white"} p-8 transition-colors`,children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[s.jsx("div",{className:"hidden md:flex w-16 h-16 rounded-2xl bg-white/10 backdrop-blur-md items-center justify-center border border-white/20 shrink-0",children:s.jsx(Tr,{className:"w-8 h-8"})}),s.jsx("div",{className:"flex-1 w-full",children:Y?s.jsxs("div",{className:"space-y-4 md:space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-4 md:hidden mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur-md flex items-center justify-center border border-white/20 shrink-0",children:s.jsx(Tr,{className:"w-6 h-6"})}),s.jsx("span",{className:"text-white/60 text-xs font-bold uppercase tracking-widest",children:"Editing Template"})]}),s.jsx("input",{ref:Ne,type:"text",value:T,onChange:we=>E(we.target.value),className:"bg-transparent border-b-2 border-white/30 text-2xl md:text-3xl font-bold font-headline tracking-tight text-white focus:outline-none focus:border-white w-full py-1",placeholder:"Enter Form Title..."}),s.jsx("input",{type:"text",value:C,onChange:we=>I(we.target.value),className:"bg-transparent border-b border-white/10 text-indigo-100 text-sm focus:outline-none focus:border-white/30 w-full py-1",placeholder:"Add a brief description..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold font-headline tracking-tight text-white",children:T}),s.jsx("p",{className:"text-indigo-100/70 text-sm mt-1",children:C})]})}),Y&&s.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-48 mt-4 md:mt-0",children:[s.jsx("label",{className:"text-[10px] font-bold text-indigo-100 uppercase tracking-widest ml-1",children:"Deadline (Optional)"}),s.jsx("input",{type:"date",value:q,onChange:we=>B(we.target.value),className:"bg-white/10 border border-white/20 rounded-xl px-3 py-2 text-xs text-white focus:outline-none focus:border-white/40 transition-all backdrop-blur-sm w-full",min:new Date().toISOString().split("T")[0]})]})]})}),s.jsxs(Xl,{className:"pt-10 pb-12",children:[!Y&&s.jsxs("div",{className:"max-w-xl mx-auto mb-10 bg-indigo-50/50 border border-indigo-100 p-4 rounded-2xl flex items-center justify-center gap-4 animate-in slide-in-from-top-4 duration-500",children:[s.jsx("div",{className:"flex -space-x-2",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white ring-2 ring-white",children:s.jsx(co,{className:"w-4 h-4"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-indigo-900 text-sm font-bold tracking-tight",children:"Interactive Preview Mode"}),s.jsx("p",{className:"text-indigo-600/70 text-[10px] uppercase font-bold tracking-widest",children:"Testing input behavior only  Data will not be saved"})]}),s.jsx("div",{className:"ml-auto",children:s.jsx("span",{className:"px-2 py-1 bg-white rounded-lg border border-indigo-100 text-[10px] font-bold text-indigo-600 shadow-sm",children:"ACTIVE TEST"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8 max-w-5xl mx-auto",children:[w?.fields.map(we=>s.jsxs("div",{className:`${we.type==="checkbox"?"md:col-span-2":""} relative group transition-all`,children:[Y&&s.jsx("button",{onClick:()=>Le(we.id),className:"absolute -top-3 -right-3 w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-10",children:s.jsx(Dn,{className:"w-4 h-4",onClick:Be=>Be.stopPropagation()})}),Y?s.jsxs("div",{className:"p-6 rounded-2xl border-2 border-dashed border-indigo-100 bg-indigo-50/10 space-y-4",children:[s.jsx(ur,{label:"Field Label",value:we.label,onChange:Be=>gt(we.id,{label:Be.target.value})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-2",children:"Type"}),s.jsxs("select",{className:"w-full p-2.5 rounded-xl border border-gray-200 text-sm font-sans",value:we.type,onChange:Be=>gt(we.id,{type:Be.target.value}),children:[s.jsx("option",{value:"text",children:"Text Input"}),s.jsx("option",{value:"select",children:"Dropdown"}),s.jsx("option",{value:"date",children:"Date Picker"}),s.jsx("option",{value:"radio",children:"Radio"}),s.jsx("option",{value:"checkbox",children:"Checkbox"})]})]}),we.type==="text"&&s.jsx("div",{className:"flex items-end pb-2",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:we.validation?.isNumeric,onChange:Be=>gt(we.id,{validation:{...we.validation,isNumeric:Be.target.checked}}),className:"w-4 h-4 rounded text-indigo-600"}),s.jsx("span",{className:"text-xs font-bold text-gray-600",children:"Numbers Only"})]})})]})]}):s.jsxs("div",{className:"space-y-4",children:[we.type==="text"&&s.jsx(ur,{label:we.label,placeholder:we.placeholder,value:ve[we.id]||"",onChange:Be=>ae(Ge=>({...Ge,[we.id]:Be.target.value})),required:we.required}),we.type==="date"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[we.label," ",we.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all bg-white",value:ve[we.id]||"",onChange:Be=>ae(Ge=>({...Ge,[we.id]:Be.target.value}))}),s.jsx(Hp,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),we.type==="select"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[we.label," ",we.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(er,{placeholder:we.placeholder||"Select an option",options:we.options||[],selectedValue:ve[we.id]||"",onChange:Be=>ae(Ge=>({...Ge,[we.id]:Be}))})]}),["radio","checkbox"].includes(we.type)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:we.label}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-gray-100 text-gray-400 text-sm italic",children:[we.type," inputs are currently read-only in preview."]})]})]})]},we.id)),Y&&s.jsxs("div",{className:"md:col-span-2 flex flex-col gap-6 py-4",children:[s.jsxs("button",{onClick:Ee,className:"flex items-center justify-center gap-2 px-6 py-3 rounded-xl border-2 border-dashed border-indigo-200 text-indigo-600 hover:bg-indigo-50 transition-all font-bold text-xs",children:[s.jsx(Qo,{className:"w-4 h-4"})," Add New Field"]}),s.jsx("div",{className:"flex justify-end pt-6 border-t border-indigo-100",children:s.jsx(wt,{variant:"primary",size:"lg",label:"Finalize Schema",onClick:()=>Ze(!1),loading:G,icon:s.jsx(go,{className:"w-4 h-4"}),className:"px-12"})})]})]})]})]})]}),te&&s.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-md z-110 flex items-center justify-center p-4 animate-in fade-in duration-200",children:s.jsxs(Li,{className:"h-[95vh] w-[95vw] md:w-full md:max-w-6xl md:h-auto md:max-h-[90vh] flex flex-col shadow-2xl border-none animate-in zoom-in-95 duration-300 overflow-hidden",children:[s.jsx(Ri,{className:"bg-indigo-600 text-white p-4 md:p-6 shrink-0",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(rf,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx(fo,{className:"text-xl font-bold font-headline tracking-normal",children:L==="COPY"?"Share Template Copy":"Distribute Form"}),s.jsx(N0,{className:"text-indigo-100 text-xs hidden md:block",children:L==="COPY"?"Select users to send them an independent copy of this template.":"Filter by Lab and Designation to target specific users for data collection."})]})]}),s.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-auto",children:[s.jsx("label",{className:"text-[10px] font-bold text-white/60 uppercase tracking-widest ml-1",children:"Optional Deadline"}),s.jsx("input",{type:"date",value:q,onChange:we=>B(we.target.value),className:"bg-white/10 border border-white/20 rounded-lg px-3 py-1.5 text-xs text-white focus:outline-none focus:border-white/40 transition-colors w-full",min:new Date().toISOString().split("T")[0]})]}),s.jsx("button",{onClick:()=>{de(!1),B("")},className:"text-white/80 hover:text-white hover:bg-white/10 rounded-lg p-2 transition-colors ml-2","aria-label":"Close modal",children:s.jsx(Dn,{className:"w-5 h-5"})})]})]})}),s.jsxs(Xl,{className:"p-0 flex-1 overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex flex-col md:flex-row flex-1 divide-y md:divide-y-0 md:divide-x divide-gray-100 overflow-y-auto md:overflow-hidden",children:[s.jsxs("div",{className:"w-full md:w-1/4 flex flex-col bg-white shrink-0 h-[220px] md:h-auto",children:[s.jsxs("div",{className:"p-3 md:p-4 bg-white border-b border-gray-100 flex items-center justify-between sticky top-0 z-10",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 tracking-wider font-sans uppercase",children:"1. Laboratories"}),s.jsx("button",{onClick:()=>{const we=re.map(Be=>Be.value);se.length===we.length?Z([]):Z(we)},className:"text-[10px] font-bold text-indigo-600 hover:underline uppercase",children:se.length===re.length?"Deselect All":"Select All"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-1 custom-scrollbar",children:re.map(we=>s.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg border transition-all cursor-pointer ${se.includes(we.value)?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-transparent hover:bg-gray-50"}`,children:[s.jsx("input",{type:"checkbox",checked:se.includes(we.value),onChange:()=>{Z(Be=>Be.includes(we.value)?Be.filter(Ge=>Ge!==we.value):[...Be,we.value])},className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 shrink-0"}),s.jsx("span",{className:"text-xs font-bold leading-none font-sans uppercase break-words",children:we.label})]},we.value))})]}),s.jsxs("div",{className:"w-full md:w-1/4 flex flex-col bg-white shrink-0 h-[220px] md:h-auto",children:[s.jsxs("div",{className:"p-3 md:p-4 bg-white border-b border-gray-100 flex items-center justify-between sticky top-0 z-10",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 tracking-wider font-sans uppercase",children:"2. Designations"}),s.jsx("button",{onClick:()=>{const we=We,Be=we.length>0&&we.every(Ge=>J.includes(Ge));fe(Be?Ge=>Ge.filter(ut=>!we.includes(ut)):Ge=>Array.from(new Set([...Ge,...we])))},className:"text-[10px] font-bold text-indigo-600 hover:underline uppercase",children:(()=>{const we=We;return we.length>0&&we.every(Ge=>J.includes(Ge))?"Deselect All":"Select All"})()})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-1 custom-scrollbar",children:We.length===0?s.jsx("div",{className:"p-4 text-xs text-center text-gray-400 italic font-sans",children:"No designations found in selected labs."}):We.map(we=>s.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg border transition-all cursor-pointer ${J.includes(we)?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-transparent hover:bg-gray-50"}`,children:[s.jsx("input",{type:"checkbox",checked:J.includes(we),onChange:()=>{fe(Be=>Be.includes(we)?Be.filter(Ge=>Ge!==we):[...Be,we])},className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 shrink-0"}),s.jsx("span",{className:"text-xs font-bold leading-none truncate font-sans uppercase",title:we,children:we})]},we))})]}),s.jsxs("div",{className:"w-full md:w-2/4 flex flex-col bg-gray-50/30 shrink-0 min-h-[300px] md:h-auto",children:[s.jsxs("div",{className:"p-3 md:p-4 bg-gray-50/50 border-b border-gray-100 flex items-center justify-between sticky top-0 md:static z-10",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 tracking-wider font-sans uppercase",children:"3. Users (Filtered)"}),s.jsx("button",{onClick:()=>{const we=xe.map(Be=>Be._id);we.length>0&&we.every(Be=>U.includes(Be))?_(Be=>Be.filter(Ge=>!we.includes(Ge))):_(Be=>Array.from(new Set([...Be,...we])))},className:"text-[10px] font-bold text-indigo-600 hover:underline uppercase",children:"Select / Deselect Visible"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 grid grid-cols-1 md:grid-cols-2 gap-3 custom-scrollbar content-start",children:xe.length===0?s.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-col items-center justify-center pt-10 md:pt-20 text-gray-400",children:[s.jsx(rf,{className:"w-8 h-8 opacity-20 mb-2"}),s.jsx("p",{className:"text-xs italic text-center px-4 font-sans",children:se.length===0||J.length===0?"Select at least one Lab and one Designation to view eligible users.":"No users in the selected Lab(s) match the chosen Designation(s)."})]}):xe.map(we=>s.jsxs("label",{title:`${we.fullName||"Unnamed"} - ${we.designation} (${we.labName})`,className:`flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group relative ${U.includes(we._id)?"bg-indigo-50 border-indigo-200 shadow-sm":"bg-white border-gray-100 hover:border-gray-200 hover:shadow-sm"}`,children:[s.jsx("input",{type:"checkbox",checked:U.includes(we._id),onChange:()=>{_(Be=>Be.includes(we._id)?Be.filter(Ge=>Ge!==we._id):[...Be,we._id])},className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 shrink-0"}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsxs("span",{className:"text-xs font-bold text-gray-900 truncate font-sans",children:[we.fullName||"Unnamed User",we.designation&&s.jsxs("span",{className:"text-gray-400 font-normal",children:[", ",we.designation]})]}),s.jsxs("span",{className:"text-[10px] text-indigo-600 font-bold tracking-normal truncate font-sans",children:["(",we.labName,")"]})]})]},we._id))})]})]}),s.jsxs("div",{className:"p-4 md:p-6 border-t border-gray-100 flex flex-col md:flex-row items-center justify-between bg-white rounded-b-xl gap-4 md:gap-0 shrink-0",children:[s.jsxs("div",{className:"space-y-4 w-full md:w-auto text-center md:text-left",children:[s.jsxs("p",{className:"text-[10px] text-gray-400 font-medium font-sans",children:[U.length," Users selected."]}),s.jsxs("label",{className:"flex items-center justify-center md:justify-start gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded text-indigo-600",checked:R,onChange:we=>V(we.target.checked)}),s.jsxs("div",{className:"text-left font-sans",children:[s.jsx("p",{className:"text-sm font-bold text-gray-800",children:"Allow Multiple Submissions"}),s.jsx("p",{className:"text-[10px] text-gray-500",children:"Enable repeated entries from the same user"})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[L==="COLLECT"&&s.jsx(wt,{label:"Copy Link",variant:"secondary",icon:s.jsx(VA,{className:"w-4 h-4"}),onClick:()=>{const we=`${window.location.origin}/data-collection/shared`;navigator.clipboard.writeText(we),n({title:"Success",message:"Link copied to clipboard: "+we,type:"success"})},className:"text-indigo-600 border-indigo-200 hover:bg-indigo-50 w-full md:w-auto"}),s.jsx(wt,{label:"Cancel",variant:"secondary",onClick:()=>de(!1),className:"w-full md:w-auto"}),s.jsx(wt,{label:L==="COPY"?"Share Copy":"Distribute Form",icon:L==="COPY"?s.jsx(rf,{className:"w-5 h-5"}):s.jsx(Rr,{className:"w-5 h-5"}),onClick:Xe,loading:G,disabled:G||U.length===0,className:"px-8 shadow-lg shadow-indigo-200 w-full md:w-auto"})]})]})]})]})})]})}const d4=({fields:e,formData:t,onChange:n,readOnly:i=!1})=>{const o=(c,f,u)=>{!i&&n&&n(c,f,u)};return s.jsxs("div",{className:"space-y-4",children:[e.map(c=>s.jsxs("div",{className:"relative",children:[c.type==="text"&&s.jsx(ur,{id:c.id,label:c.label,type:"text",placeholder:c.placeholder,value:t[c.id]||"",onChange:f=>o(c.id,f.target.value,c),required:c.required,disabled:i}),c.type==="date"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[c.label," ",c.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all ${i?"bg-gray-100 cursor-not-allowed text-gray-600":"bg-white"}`,value:t[c.id]||"",onChange:f=>o(c.id,f.target.value,c),disabled:i}),s.jsx(Hp,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),c.type==="select"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[c.label," ",c.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(er,{placeholder:c.placeholder||"Select an option",options:c.options||[],selectedValue:t[c.id]||"",onChange:f=>o(c.id,f,c),disabled:i})]})]},c.id)),e.length===0&&s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No fields to display."})]})},_T=({templateId:e,formSchema:t,onClose:n})=>{const[i,o]=k.useState([]),[c,f]=k.useState(0),[u,h]=k.useState(!0),[m,p]=k.useState(null),[w,j]=k.useState(null);k.useEffect(()=>{e&&(async()=>{h(!0);const G=await c4(e);G.success&&Array.isArray(G.data)?(o(G.data),p(null)):p(G.message||"Failed to load submissions"),h(!1)})()},[e]);const y=()=>{c<i.length-1&&f(I=>I+1)},A=()=>{c>0&&f(I=>I-1)},T=()=>{if(!i||i.length===0)return;const I=i.map(Y=>{const O={"Submitted By":Y.submittedBy?.fullName||"Unknown",Email:Y.submittedBy?.email||"",Phone:Y.submittedBy?.phoneNumber||"",Designation:Y.submittedBy?.designation||"","Lab/Institution":Y.labName||"","Submission Date":new Date(Y.createdAt).toLocaleString(),"IP Address":Y.ipAddress||"Not Captured"};return t.fields.forEach(R=>{const V=Y.data?.[R.id];Array.isArray(V)?O[R.label]=V.join(", "):typeof V=="object"&&V!==null?O[R.label]=JSON.stringify(V):O[R.label]=V||""}),O}),G=Qp.unparse(I),D=new Blob([G],{type:"text/csv;charset=utf-8;"}),te=URL.createObjectURL(D),de=document.createElement("a");de.href=te,de.setAttribute("download",`${t.title.replace(/\s+/g,"_")}_responses.csv`),document.body.appendChild(de),de.click(),document.body.removeChild(de)};if(u)return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4",children:[s.jsx(Mn,{className:"w-8 h-8 animate-spin text-indigo-600"}),s.jsx("p",{className:"text-gray-500",children:"Loading submissions..."})]});if(m)return s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-500 font-medium mb-4",children:m}),s.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"})]});if(i.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center h-full relative",children:[s.jsx("button",{onClick:n,className:"absolute top-6 right-6 p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-400 hover:text-gray-600",children:s.jsx(Dn,{className:"w-5 h-5"})}),s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Submissions Yet"}),s.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mb-6",children:"There are no data submissions recorded for this form template yet."}),s.jsx("button",{onClick:n,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Back to Forms"})]});const E=i[c],C=i.length>1;return s.jsxs("div",{className:"flex flex-col h-full bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:n,className:"p-2 hover:bg-white rounded-full transition-colors text-gray-500 hover:text-gray-700 hover:shadow-sm",children:s.jsx(ff,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsxs("span",{className:"font-medium text-indigo-600",children:["Response #",c+1]}),s.jsxs("span",{children:["of ",i.length]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-3 py-2 bg-emerald-50 text-emerald-700 hover:bg-emerald-100 rounded-lg text-xs font-bold tracking-wider mr-2 border border-emerald-200 transition-colors",title:"Download CSV",children:[s.jsx(Vp,{className:"w-4 h-4"})," Export CSV"]}),C&&s.jsxs("div",{className:"flex items-center gap-2 pr-2 border-r border-gray-200 mr-2",children:[s.jsx("button",{onClick:A,disabled:c===0,className:"p-2 border rounded-lg hover:bg-white disabled:opacity-40 disabled:cursor-not-allowed transition-all hover:shadow-sm bg-gray-50",title:"Previous Submission",children:s.jsx(ff,{className:"w-5 h-5"})}),s.jsx("button",{onClick:y,disabled:c===i.length-1,className:"p-2 border rounded-lg hover:bg-white disabled:opacity-40 disabled:cursor-not-allowed transition-all hover:shadow-sm bg-gray-50",title:"Next Submission",children:s.jsx(hf,{className:"w-5 h-5"})})]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-200 rounded-full transition-colors text-gray-500 hover:text-gray-700",title:"Close Viewer",children:s.jsx(Dn,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center shrink-0",children:s.jsx(Yp,{className:"w-5 h-5 text-indigo-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-indigo-600 hover:underline cursor-pointer transition-all",onClick:()=>E.submittedBy?._id&&j(E.submittedBy._id),children:E.submittedBy?.fullName||"Unknown User"}),E.submittedBy?.designation&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 rounded-full text-gray-600 border border-gray-200",children:E.submittedBy.designation})]}),s.jsxs("div",{className:"text-sm text-gray-500 space-y-0.5",children:[s.jsx("p",{children:E.submittedBy?.email}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Submitted on ",new Date(E.createdAt).toLocaleString(),"  ",E.labName,E.ipAddress&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{className:"font-medium text-gray-600",children:["IP: ",E.ipAddress]})]})]})]})]})]}),s.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100",children:s.jsx(d4,{fields:t.fields,formData:E.data||{},readOnly:!0})})]})}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-100 bg-white flex justify-end",children:s.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium transition-colors",children:"Close Viewer"})}),s.jsx(Ef,{isOpen:!!w,onClose:()=>j(null),userId:w})]})};function ET(){const e=wr(),{showMessage:t,showConfirm:n}=cl(),[i,o]=k.useState(e.state?.activeTab||"with-me"),[c,f]=k.useState([]),[u,h]=k.useState({page:1,limit:9,total:0,totalPages:0}),[m,p]=k.useState(!0),[w,j]=k.useState(""),[y,A]=k.useState("active"),[T,E]=k.useState("all"),[C,I]=k.useState(new Set),[G,D]=k.useState(!1),[te,de]=k.useState(null),[Y,O]=k.useState({}),[R,V]=k.useState(!1),[F,z]=k.useState(!1),[ee,le]=k.useState("grid"),[ve,ae]=k.useState(null),[se,Z]=k.useState(null),[J,fe]=k.useState(null),[U,_]=k.useState(null),L=xe=>new Date(xe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),q=xe=>{const Ue=new Date(xe),ze=Math.abs(new Date().getTime()-Ue.getTime());return Math.ceil(ze/(1e3*60*60*24))},B=xe=>{if(!xe)return!1;const Ue=new Date(xe),Re=new Date,ze=Ue.getTime()-Re.getTime(),rt=Math.ceil(ze/(1e3*60*60*24));return rt>=0&&rt<=3};k.useEffect(()=>{h(xe=>({...xe,page:1})),re(1)},[i,y,T]),k.useEffect(()=>{const xe=setTimeout(()=>{h(Ue=>({...Ue,page:1})),re(1)},500);return()=>clearTimeout(xe)},[w]);const re=async(xe=u.page)=>{p(!0);try{const Ue={page:xe,limit:u.limit,view:y,status:T,search:w},Re=i==="with-me"?await yT(Ue):await vT(Ue);Re.success&&(f(Re.data.forms),Re.data.pagination&&h(Re.data.pagination))}catch(Ue){console.error(Ue)}finally{p(!1)}},oe=xe=>{xe>=1&&xe<=u.totalPages&&(h(Ue=>({...Ue,page:xe})),re(xe))},Q=xe=>{const Ue=new Set(C);Ue.has(xe)?Ue.delete(xe):Ue.add(xe),I(Ue)},ue=()=>{C.size===c.length&&c.length>0?I(new Set):I(new Set(c.map(xe=>xe._id)))},ye=async xe=>{const Ue=xe?"Archive":"Restore";if(await n({title:`Confirm ${Ue}`,message:`Are you sure you want to ${Ue.toLowerCase()} ${C.size} selected form(s)?`,type:"warning",confirmText:Ue,cancelText:"Cancel"}))try{let ze=0;const rt=Array.from(C).map(gt=>wT(gt,xe));ze=(await Promise.all(rt)).filter(gt=>gt.success).length,ze>0?(t({title:"Success",message:`${ze} forms ${xe?"archived":"restored"} successfully.`,type:"success"}),I(new Set),re()):t({title:"Error",message:"Failed to update forms.",type:"error"})}catch(ze){console.error(ze),t({title:"Error",message:"An unexpected error occurred.",type:"error"})}},ke=async xe=>{try{const Ue=await l4(xe);if(Ue.success){const Re=Ue.data;de(Re),O({});const ze=Re.isActive&&(!Re.deadline||new Date(Re.deadline)>new Date);z(!ze);const rt=await c4(xe);if(rt.success&&rt.data.length>0){const dt=rt.data[0];dt&&O(dt.data)}D(!0)}}catch(Ue){console.error(Ue)}},Ne=(xe,Ue)=>{O(Re=>({...Re,[xe]:Ue}))},pe=async xe=>{if(xe&&xe.preventDefault(),!!te){V(!0);try{const Ue=c.find(ze=>ze._id===te._id)?.isSubmitted;let Re;Ue&&te.allowMultipleSubmissions===!1?Re=await bT({templateId:te._id,data:Y}):Re=await gT({templateId:te._id,data:Y}),Re.success?(t({title:"Success",message:Ue?"Data updated successfully!":"Data submitted successfully!",type:"success"}),D(!1),O({}),re()):t({title:"Error",message:Re.message||"Submission failed",type:"error"})}catch(Ue){console.error(Ue)}finally{V(!1)}}},Fe=async xe=>{if(await n({title:"Confirm Delete",message:"Are you sure you want to delete this distribution? This will remove the template and all submissions.",type:"error",confirmText:"Delete Distribution",cancelText:"Cancel"}))try{(await pT(xe)).success&&re()}catch(Re){console.error(Re)}},X=c,We=async(xe,Ue)=>{if(U!==xe){_(xe);try{const Re=await o4(xe,{isActive:!Ue,notifyUsers:!1});Re.success?(f(ze=>ze.map(rt=>rt._id===xe?{...rt,isActive:!Ue}:rt)),Re.data?.taskId?t({title:"Success",message:Ue?"Form has been STOPPED.":"Form is now LIVE. Notifications are sending in the background.",type:"success"}):t({title:"Success",message:Ue?"Form has been STOPPED.":"Form is now LIVE and accepting submissions.",type:"success"})):t({title:"Error",message:Re.message||"Failed to update form status",type:"error"})}catch(Re){console.error("Failed to toggle live status",Re),t({title:"Error",message:"An unexpected error occurred",type:"error"})}finally{_(null)}}};return s.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 sm:p-8",children:[s.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-1 font-headline tracking-tighter",children:"Shared Forms"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold tracking-widest opacity-60",children:"Collabarative Data Ecosystem"})]}),s.jsxs("div",{className:"flex bg-white p-1 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("button",{onClick:()=>o("with-me"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i==="with-me"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:text-indigo-600"}`,children:[s.jsx(BS,{className:"w-4 h-4"}),"Shared With Me"]}),s.jsxs("button",{onClick:()=>o("by-me"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i==="by-me"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:text-indigo-600"}`,children:[s.jsx(Vm,{className:"w-4 h-4"}),"Distributed By Me"]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md group",children:[s.jsx(xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 group-focus-within:text-indigo-600 transition-colors"}),s.jsx("input",{type:"text",placeholder:"Find a form...",value:w,onChange:xe=>j(xe.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-100 transition-all text-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 md:pb-0",children:[s.jsxs("div",{className:"flex items-center bg-white border border-gray-200 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>A("active"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${y==="active"?"bg-indigo-50 text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Active"}),s.jsx("button",{onClick:()=>A("archived"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${y==="archived"?"bg-indigo-50 text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Archived"})]}),s.jsxs("select",{value:T,onChange:xe=>E(xe.target.value),className:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl px-3 py-2 outline-none focus:border-indigo-500 cursor-pointer min-w-[140px]",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"new",children:"New"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"expiring",children:"Expiring Soon"})]}),s.jsx("div",{className:"border-l border-gray-200 h-8 mx-2"}),s.jsxs("div",{className:"flex bg-white rounded-lg border border-gray-200 p-1",children:[s.jsx("button",{onClick:()=>le("grid"),className:`p-1.5 rounded-md transition-colors ${ee==="grid"?"bg-gray-100 text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:s.jsx(zA,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>le("list"),className:`p-1.5 rounded-md transition-colors ${ee==="list"?"bg-gray-100 text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:s.jsx(YA,{className:"w-4 h-4"})})]})]})]}),C.size>0&&s.jsxs("div",{className:"flex items-center justify-between p-4 bg-indigo-50 border border-indigo-100 rounded-xl animate-in slide-in-from-top-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-sm",children:C.size}),s.jsx("span",{className:"text-sm font-bold text-indigo-900",children:"Selected"}),s.jsx("button",{onClick:ue,className:"text-xs text-indigo-600 underline hover:text-indigo-800",children:C.size===c.length?"Deselect All":"Select All Visible"})]}),s.jsx("div",{className:"flex items-center gap-2",children:y==="active"?s.jsx(wt,{size:"sm",variant:"secondary",label:"Archive",icon:s.jsx(Gr,{className:"w-4 h-4"}),onClick:()=>ye(!0),className:"bg-white"}):s.jsx(wt,{size:"sm",variant:"secondary",label:"Restore",icon:s.jsx(Gr,{className:"w-4 h-4"}),onClick:()=>ye(!1),className:"bg-white"})})]}),m?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(xe=>s.jsx("div",{className:"h-48 bg-gray-200 animate-pulse rounded-2xl"},xe))}):X.length>0?ee==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(xe=>s.jsxs(Li,{className:`group hover:shadow-xl transition-all duration-300 border-transparent hover:border-indigo-100 h-full flex flex-col ${C.has(xe._id)?"ring-2 ring-indigo-500 bg-indigo-50/10":""}`,children:[s.jsxs(Ri,{className:`${i==="with-me"?"bg-indigo-50/50":"bg-emerald-50/50"} border-b border-gray-50 p-6 relative`,children:[s.jsxs("div",{className:"absolute top-0 right-0 flex flex-col items-end",children:[xe.isSubmitted&&s.jsxs("div",{className:"bg-emerald-500 text-white text-[10px] uppercase font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10 flex items-center gap-1.5 animate-in slide-in-from-right-2 fade-in duration-500 mb-0.5",children:[s.jsx($p,{className:"w-3 h-3 text-white"}),"Submitted"]}),!xe.isSubmitted&&new Date().getTime()-new Date(xe.createdAt).getTime()<2880*60*1e3&&s.jsxs("div",{className:"bg-blue-500 text-white text-[10px] uppercase font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10 flex items-center gap-1.5 animate-in slide-in-from-right-2 fade-in duration-500 mb-0.5",children:[s.jsx(po,{className:"w-3 h-3 text-white animate-sparkle"}),"New"]}),!xe.isSubmitted&&new Date().getTime()-new Date(xe.createdAt).getTime()>=2880*60*1e3&&s.jsxs("div",{className:"bg-amber-500 text-white text-[10px] uppercase font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10 flex items-center gap-1.5 animate-in slide-in-from-right-2 fade-in duration-500 mb-0.5",children:[s.jsx(mf,{className:"w-3 h-3 text-white"}),"Pending"]}),!xe.isSubmitted&&xe.deadline&&B(xe.deadline)&&s.jsxs("div",{className:"bg-red-500 text-white text-[10px] uppercase font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10 flex items-center gap-1.5 animate-in slide-in-from-right-2 fade-in duration-500",children:[s.jsx(ol,{className:"w-3 h-3 text-white animate-blink"}),"Expiring Soon"]})]}),s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-white shadow-sm flex items-center justify-center text-indigo-600 shrink-0 cursor-pointer",onClick:Ue=>{Ue.stopPropagation(),Q(xe._id)},children:C.has(xe._id)?s.jsx(Ym,{className:"w-6 h-6 text-indigo-600"}):s.jsx(Tr,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1 min-w-0 pr-28",children:[s.jsx(fo,{className:"text-lg font-bold text-gray-900 group-hover:text-indigo-600 transition-colors truncate",title:xe.title,children:xe.title}),s.jsx(N0,{className:"text-xs text-gray-500 line-clamp-1 mt-0.5",title:xe.description,children:xe.description})]})]})]}),s.jsxs(Xl,{className:"p-6 flex-1 flex flex-col",children:[s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400 font-medium",children:"Shared By"}),s.jsxs("button",{onClick:()=>fe(xe.createdBy?._id),className:"text-indigo-600 font-bold hover:underline transition-all",children:[xe.createdBy?.fullName||"System",xe.createdBy?.labName&&` (${xe.createdBy.labName})`]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400 font-bold",children:"Lab / Institution"}),s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-[10px] font-bold uppercase",children:xe.createdBy?.labName||"CSIR"})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400 font-bold",children:"Shared On"}),s.jsx("span",{className:"text-gray-600 font-bold",children:L(xe.createdAt)})]}),xe.deadline&&s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400 font-bold",children:"Live Until"}),s.jsxs("div",{className:"flex items-center gap-2",children:[B(xe.deadline)&&new Date(xe.deadline)>new Date&&s.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-600 rounded text-[10px] font-bold uppercase",children:"Soon"}),s.jsx("span",{className:`font-bold ${B(xe.deadline)?"text-red-600 animate-blink":new Date(xe.deadline)<new Date?"text-red-500":"text-emerald-600"}`,children:L(xe.deadline)})]})]}),(!xe.isSubmitted||i==="by-me")&&s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400 font-bold uppercase tracking-tight",children:"Pending Since"}),s.jsxs("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-700 rounded-full text-[10px] font-bold",children:[q(xe.createdAt)," Days"]})]})]}),s.jsx("div",{className:"mt-auto space-y-4",children:i==="by-me"&&s.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-50",children:[s.jsxs("div",{className:"flex flex-col gap-1.5 text-xs",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400 font-bold uppercase tracking-wider text-[9px]",children:"Distribution Targets"}),(xe.sharedWithLabs?.length>5||xe.sharedWithUsers?.length>5)&&s.jsx("button",{onClick:()=>Z(xe),className:"text-indigo-600 hover:text-indigo-700 font-bold text-[9px] uppercase tracking-tighter hover:underline",children:"View Full List"})]}),xe.sharedWithLabs?.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[xe.sharedWithLabs.slice(0,5).map(Ue=>s.jsx("span",{className:"px-1.5 py-0.5 bg-indigo-50 text-indigo-600 rounded-md font-bold text-[10px]",children:Ue},Ue)),xe.sharedWithLabs.length>5&&s.jsxs("button",{onClick:()=>Z(xe),className:"px-1.5 py-0.5 bg-gray-50 text-gray-500 rounded-md font-bold text-[10px] hover:bg-gray-100",children:["+",xe.sharedWithLabs.length-5]})]}),xe.sharedWithUsers?.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[xe.sharedWithUsers.slice(0,5).map(Ue=>s.jsx("span",{className:"px-1.5 py-0.5 bg-emerald-50 text-emerald-600 rounded-md font-bold text-[10px]",children:Ue.fullName||Ue.email},Ue._id)),xe.sharedWithUsers.length>5&&s.jsxs("button",{onClick:()=>Z(xe),className:"px-1.5 py-0.5 bg-gray-50 text-gray-500 rounded-md font-bold text-[10px] hover:bg-gray-100",children:["+",xe.sharedWithUsers.length-5]})]}),xe.isPublic&&s.jsx("span",{className:"text-amber-600 font-bold italic text-[10px]",children:"Public Access"})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs pt-1",children:[s.jsx("span",{className:"text-gray-400 font-medium",children:"Responses Collected"}),s.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white rounded-full font-bold text-[10px]",children:xe.responseCount||0})]})]})}),s.jsxs("div",{className:"space-y-4",children:[i==="by-me"&&s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50",children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Manual LifeCycle"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{onClick:Ue=>{Ue.stopPropagation(),We(xe._id,xe.isActive)},className:`w-9 h-5 rounded-full relative cursor-pointer transition-all duration-300 ${U===xe._id?"bg-indigo-300 cursor-not-allowed":xe.isActive?"bg-indigo-600 shadow-sm":"bg-gray-200"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white shadow-sm transition-all duration-300 flex items-center justify-center ${xe.isActive?"translate-x-5":"translate-x-1"}`,children:U===xe._id&&s.jsx(Mn,{className:"w-2 h-2 text-indigo-600 animate-spin"})})}),s.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${xe.isActive?"text-indigo-600":"text-gray-400"}`,children:U===xe._id?"Updating...":xe.isActive?"Live":"Stopped"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:i==="with-me"?s.jsx(wt,{label:xe.isSubmitted?!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date?"View Response":"Edit Response":!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date?"Form Closed":"Open & Fill Form",className:"w-full",onClick:()=>ke(xe._id),icon:xe.isSubmitted?s.jsx(co,{className:"w-4 h-4"}):!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date?s.jsx(Dn,{className:"w-4 h-4"}):s.jsx(Vm,{className:"w-4 h-4"}),disabled:!xe.isSubmitted&&(!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date),variant:!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date?(xe.isSubmitted,"secondary"):"primary"}):s.jsxs(s.Fragment,{children:[s.jsx(wt,{variant:"secondary",label:"Responses",className:"flex-1",icon:s.jsx(co,{className:"w-4 h-4"}),onClick:()=>ae(xe)}),s.jsx("button",{onClick:()=>Fe(xe._id),className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all border border-gray-100",children:s.jsx(Kl,{className:"w-4 h-4"})})]})})]})]})]},xe._id))}):s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-[10px] font-bold uppercase tracking-wider text-gray-500",children:[s.jsx("th",{className:"p-4 w-10",children:s.jsx("div",{className:"cursor-pointer text-gray-400 hover:text-indigo-600",onClick:ue,children:C.size===c.length&&c.length>0?s.jsx(Ym,{className:"w-4 h-4 text-indigo-600"}):s.jsx(l2,{className:"w-4 h-4"})})}),s.jsx("th",{className:"p-4",children:"Form Details"}),s.jsx("th",{className:"p-4",children:"Shared By / Creator"}),s.jsx("th",{className:"p-4 text-center",children:"Responses"}),s.jsx("th",{className:"p-4",children:"Status / Deadline"}),s.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50",children:X.map(xe=>s.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${C.has(xe._id)?"bg-indigo-50/30":""}`,children:[s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"cursor-pointer text-gray-300 hover:text-indigo-600 transition-colors",onClick:()=>Q(xe._id),children:C.has(xe._id)?s.jsx(Ym,{className:"w-4 h-4 text-indigo-600"}):s.jsx(l2,{className:"w-4 h-4"})})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 text-indigo-600 flex items-center justify-center shrink-0",children:s.jsx(Tr,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-gray-900 text-sm truncate max-w-[200px]",title:xe.title,children:xe.title}),s.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",title:xe.description,children:xe.description})]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs font-bold text-gray-700",children:xe.createdBy?.fullName||"System"}),s.jsx("span",{className:"text-[10px] text-gray-500",children:xe.createdBy?.labName})]})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-600 rounded-full text-[10px] font-bold",children:xe.responseCount||0})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[xe.isActive?s.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-emerald-600",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," Live"]}):s.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"})," Inactive"]}),xe.deadline&&s.jsx("span",{className:`text-[10px] font-mono ${B(xe.deadline)?"text-red-600 font-bold animate-blink":new Date(xe.deadline)>new Date?"text-gray-500":"text-red-500"}`,children:L(xe.deadline)})]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"flex items-center justify-end gap-2",children:i==="with-me"?s.jsx(wt,{size:"sm",label:xe.isSubmitted?!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date?"View":"Edit":!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date?"Closed":"Fill",onClick:()=>ke(xe._id),icon:xe.isSubmitted?s.jsx(co,{className:"w-3 h-3"}):!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date?s.jsx(Dn,{className:"w-3 h-3"}):s.jsx(Vm,{className:"w-3 h-3"}),disabled:!xe.isSubmitted&&(!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date),variant:!xe.isActive||xe.deadline&&new Date(xe.deadline)<new Date?(xe.isSubmitted,"secondary"):"primary"}):s.jsxs(s.Fragment,{children:[s.jsx(wt,{variant:"secondary",size:"sm",label:"View",icon:s.jsx(co,{className:"w-3 h-3"}),onClick:()=>ae(xe)}),s.jsx("div",{onClick:Ue=>{Ue.stopPropagation(),We(xe._id,xe.isActive)},className:`w-8 h-4 rounded-full relative cursor-pointer transition-all duration-300 ${U===xe._id?"bg-indigo-300 cursor-not-allowed":xe.isActive?"bg-indigo-600 shadow-sm":"bg-gray-200"}`,title:xe.isActive?"Stop Form":"Start Form",children:s.jsx("div",{className:`absolute top-0.5 w-3 h-3 rounded-full bg-white shadow-sm transition-all duration-300 flex items-center justify-center ${xe.isActive?"translate-x-4":"translate-x-0.5"}`,children:U===xe._id&&s.jsx(Mn,{className:"w-2 h-2 text-indigo-600 animate-spin"})})}),s.jsx("button",{onClick:()=>Fe(xe._id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:s.jsx(Kl,{className:"w-4 h-4"})})]})})})]},xe._id))})]})}):s.jsxs("div",{className:"p-20 text-center bg-white rounded-3xl border border-gray-100 shadow-sm",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-50 text-gray-300 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Tr,{className:"w-10 h-10"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 font-headline",children:"No forms found"}),s.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:i==="with-me"?"You haven't been invited to fill any forms yet.":"You haven't distributed any forms for data collection yet."})]}),u.totalPages>1&&s.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4 animate-in fade-in",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",s.jsx("span",{className:"font-bold",children:(u.page-1)*u.limit+1})," to ",s.jsx("span",{className:"font-bold",children:Math.min(u.page*u.limit,u.total)})," of ",s.jsx("span",{className:"font-bold",children:u.total})," forms"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>oe(u.page-1),disabled:u.page===1,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(ff,{className:"w-4 h-4 text-gray-600"})}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(u.totalPages,5)},(xe,Ue)=>{let Re=Ue+1;return u.totalPages>5&&u.page>3&&(Re=u.page-2+Ue),Re>u.totalPages?null:s.jsx("button",{onClick:()=>oe(Re),className:`w-8 h-8 rounded-lg text-sm font-bold flex items-center justify-center transition-all ${Re===u.page?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"text-gray-600 hover:bg-gray-50"}`,children:Re},Re)})}),s.jsx("button",{onClick:()=>oe(u.page+1),disabled:u.page===u.totalPages,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(hf,{className:"w-4 h-4 text-gray-600"})})]})]})]}),G&&te&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"bg-indigo-600 p-6 text-white flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold font-headline",children:te.title}),s.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:te.description})]}),te.deadline&&s.jsxs("div",{className:`flex flex-col items-end ${B(te.deadline)?"animate-pulse":""}`,children:[s.jsx("span",{className:"text-[10px] uppercase font-bold text-indigo-200 tracking-wider",children:"Submission Deadline"}),s.jsx("span",{className:"text-sm font-bold bg-white/20 px-2 py-0.5 rounded text-white backdrop-blur-sm",children:L(te.deadline)})]}),s.jsx("button",{onClick:()=>D(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(Dn,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-8 overflow-y-auto flex-1 global-scrollbar bg-white",children:s.jsx(d4,{fields:te.fields,formData:Y,onChange:Ne,readOnly:F})}),s.jsx("div",{className:"p-6 border-t border-gray-50 bg-white shrink-0",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(wt,{variant:"secondary",label:F?"Close":"Cancel",onClick:()=>D(!1),className:"flex-1"}),!F&&s.jsx(wt,{variant:"primary",label:c.find(xe=>xe._id===te._id)?.isSubmitted?"Update Response":"Submit Response",onClick:pe,loading:R,className:"flex-1"})]})})]})}),ve&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-100 flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-5xl bg-white rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 h-[90vh] flex flex-col",children:s.jsx(_T,{templateId:ve._id,formSchema:ve,onClose:()=>ae(null)})})}),se&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 max-h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Distribution Targets"}),s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:se.title})]}),s.jsx("button",{onClick:()=>Z(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Dn,{className:"w-5 h-5 text-gray-400"})})]}),s.jsxs("div",{className:"p-8 overflow-y-auto flex-1 global-scrollbar space-y-8",children:[se.sharedWithLabs?.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:["Laboratories (",se.sharedWithLabs.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:se.sharedWithLabs.map(xe=>s.jsxs("div",{className:"px-3 py-2 bg-indigo-50 text-indigo-700 rounded-xl text-[11px] font-bold border border-indigo-100 flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400"}),xe]},xe))})]}),se.sharedWithUsers?.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:["Specific Users (",se.sharedWithUsers.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:se.sharedWithUsers.map(xe=>s.jsxs("div",{className:"p-3 bg-emerald-50 border border-emerald-100 rounded-2xl flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-200 flex items-center justify-center text-emerald-700 font-bold text-xs",children:(xe.fullName||xe.email||"?").charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] font-bold text-gray-900",children:xe.fullName||xe.email}),s.jsxs("div",{className:"text-[9px] text-emerald-600 font-medium uppercase tracking-tighter",children:[xe.designation||"Staff","  ",xe.labName||"CSIR"]})]})]},xe._id))})]}),se.isPublic&&s.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-100 rounded-2xl flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center text-amber-600",children:s.jsx(co,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-amber-900",children:"Public Access Enabled"}),s.jsx("div",{className:"text-[10px] text-amber-600",children:"This form is open to all authenticated users in the system."})]})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-50 flex justify-end",children:s.jsx(wt,{label:"Close",onClick:()=>Z(null)})})]})}),s.jsx(Ef,{isOpen:!!J,onClose:()=>fe(null),userId:J})]})}function CT(){const e=tr(),{showConfirm:t}=cl(),[n,i]=k.useState([]),[o,c]=k.useState(!0),[f,u]=k.useState("");k.useEffect(()=>{h()},[]);const h=async()=>{c(!0);try{const w=await jT();w.success&&i(w.data)}catch(w){console.error(w)}finally{c(!1)}},m=async w=>{if(await t({title:"Confirm Delete",message:"Are you sure you want to delete this blueprint? This will not affect active forms created from it.",type:"error",confirmText:"Delete Blueprint",cancelText:"Cancel"}))try{(await AT(w)).success&&h()}catch(y){console.error(y)}},p=n.filter(w=>w.title.toLowerCase().includes(f.toLowerCase())||w.description?.toLowerCase().includes(f.toLowerCase()));return s.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 sm:p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[s.jsx("div",{className:"flex items-center gap-6",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-1 font-headline tracking-tighter",children:"Form Blueprints"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold tracking-widest opacity-60",children:"REUSABLE TEMPLATE REPOSITORY"})]})}),s.jsx(wt,{variant:"primary",label:"Design New Blueprint",onClick:()=>e("/data-collection/create"),icon:s.jsx(Qo,{className:"w-4 h-4"}),className:"shadow-lg shadow-indigo-200"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(xo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Find a blueprint...",className:"w-full pl-11 pr-4 py-3 bg-white border border-gray-100 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 transition-all shadow-sm",value:f,onChange:w=>u(w.target.value)})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"px-3 py-1 bg-white border border-gray-100 rounded-lg text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[p.length," Blueprints"]})})]}),o?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(w=>s.jsx("div",{className:"h-64 bg-gray-200 animate-pulse rounded-2xl"},w))}):p.length>0?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.map(w=>s.jsxs(Li,{className:"group hover:border-indigo-500 transition-all duration-300 shadow-sm hover:shadow-xl bg-white overflow-hidden flex flex-col",children:[s.jsx(Ri,{className:"bg-slate-50/50 border-b border-gray-50 p-6",children:s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-white shadow-sm flex items-center justify-center text-indigo-600 shrink-0",children:s.jsx(qA,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(fo,{className:"text-lg font-bold text-gray-900 group-hover:text-indigo-600 transition-colors truncate",title:w.title,children:w.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:["Fields: ",w.fields?.length||0]}),s.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),s.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:["Created: ",new Date(w.createdAt).toLocaleDateString()]})]})]}),s.jsx("div",{className:"relative group/menu",children:s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(vA,{className:"w-4 h-4 text-gray-400"})})})]})}),s.jsxs(Xl,{className:"p-6 flex-1 flex flex-col",children:[s.jsx("p",{className:"text-gray-500 text-xs line-clamp-3 mb-6 flex-1",children:w.description||"No description provided for this blueprint."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(wt,{variant:"primary",size:"sm",label:"Use This Template",onClick:()=>e(`/data-collection/create?useBlueprint=${w._id}`),icon:s.jsx(gA,{className:"w-3.5 h-3.5"}),className:"w-full text-[11px]"}),s.jsx("button",{onClick:()=>m(w._id),className:"flex items-center justify-center p-2 rounded-lg border border-red-50 text-red-400 hover:text-red-600 hover:bg-red-50 hover:border-red-100 transition-all",title:"Delete Blueprint",children:s.jsx(Kl,{className:"w-4 h-4"})})]})]})]},w._id)),s.jsxs("button",{onClick:()=>e("/data-collection/create"),className:"bg-white border-2 border-dashed border-gray-100 rounded-2xl flex flex-col items-center justify-center p-8 text-gray-400 hover:border-indigo-300 hover:text-indigo-600 transition-all group min-h-[260px]",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mb-4 group-hover:bg-indigo-50 transition-colors",children:s.jsx(po,{className:"w-8 h-8"})}),s.jsx("span",{className:"font-bold text-sm",children:"Design New Blueprint"}),s.jsx("span",{className:"text-[10px] mt-1 opacity-60",children:"AI-Powered Generation"})]})]}):s.jsxs("div",{className:"p-20 text-center bg-white rounded-3xl border border-gray-100 shadow-sm",children:[s.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-400 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Qo,{className:"w-10 h-10"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 font-headline",children:"Create your first blueprint"}),s.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mb-8",children:"Blueprints are reusable templates that help you standardize data collection across your organization."}),s.jsx("div",{className:"flex justify-center",children:s.jsx(wt,{variant:"primary",label:"Start Designing",onClick:()=>e("/data-collection/create"),icon:s.jsx(po,{className:"w-4 h-4"})})})]})]})})}const LT={theme:"light",accentColor:"indigo",fontSize:"medium"},u4=k.createContext(void 0),RT=({children:e})=>{const{user:t,login:n}=Qa(),[i,o]=k.useState(t?.settings||LT);k.useEffect(()=>{t?.settings&&o(t.settings)},[t]);const c=i.theme==="dark"||i.theme==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;k.useEffect(()=>{c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.documentElement.setAttribute("data-font-size",i.fontSize),document.documentElement.setAttribute("data-accent-color",i.accentColor)},[i,c]);const f=async u=>{const h={...i,...u};o(h);try{const m=await hv({settings:u});m&&m.data&&n(m.data)}catch(m){console.error("Failed to update settings:",m),o(i)}};return s.jsx(u4.Provider,{value:{settings:i,updateSettings:f,isDark:c},children:e})},TT=()=>{const e=k.useContext(u4);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e},OT=[{id:"light",name:"Light",icon:Dk,description:"Classic light theme"},{id:"dark",name:"Dark",icon:lk,description:"Easy on the eyes in the dark"},{id:"system",name:"System",icon:ik,description:"Follows your system settings"}],MT=[{id:"indigo",name:"Indigo",class:"bg-indigo-600"},{id:"blue",name:"Blue",class:"bg-blue-600"},{id:"emerald",name:"Emerald",class:"bg-emerald-600"},{id:"rose",name:"Rose",class:"bg-rose-600"},{id:"amber",name:"Amber",class:"bg-amber-600"}],DT=[{id:"small",name:"Small",description:"Tight and compact"},{id:"medium",name:"Medium",description:"Standard readability"},{id:"large",name:"Large",description:"Big and bold"}],FT=()=>{const{settings:e,updateSettings:t}=TT();return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-12 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-heading dark:text-white",children:"Settings"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-heading",children:"Customize your experience and preferences."})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 text-xl font-semibold text-gray-800 font-heading dark:text-white",children:[s.jsx(Wm,{className:"w-6 h-6 text-indigo-600"}),s.jsx("h2",{children:"Appearance"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:OT.map(n=>{const i=n.icon,o=e.theme===n.id;return s.jsxs("button",{onClick:()=>t({theme:n.id}),className:`flex flex-col items-center gap-3 p-6 rounded-2xl border-2 transition-all group ${o?"border-indigo-600 bg-indigo-50/50 dark:bg-indigo-900/20":"border-gray-100 bg-white hover:border-indigo-200 hover:shadow-lg dark:bg-gray-800 dark:border-gray-700"}`,children:[s.jsx("div",{className:`p-4 rounded-xl transition-colors ${o?"bg-indigo-600 text-white":"bg-gray-50 text-gray-400 group-hover:text-indigo-600 group-hover:bg-indigo-50 dark:bg-gray-700 dark:text-gray-400 dark:group-hover:bg-indigo-900/30"}`,children:s.jsx(i,{className:"w-8 h-8"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:`block font-bold font-heading text-lg ${o?"text-indigo-900 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,children:n.name}),s.jsx("p",{className:"text-sm text-gray-500 font-heading dark:text-gray-400",children:n.description})]}),o&&s.jsx(Rr,{className:"w-5 h-5 text-indigo-600"})]},n.id)})})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 text-xl font-semibold text-gray-800 font-heading dark:text-white",children:[s.jsx(Wm,{className:"w-6 h-6 text-indigo-600"}),s.jsx("h2",{children:"Accent Color"})]}),s.jsx("div",{className:"flex flex-wrap gap-4",children:MT.map(n=>{const i=e.accentColor===n.id;return s.jsxs("button",{onClick:()=>t({accentColor:n.id}),className:"group relative flex flex-col items-center gap-2 transition-all",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${n.class} shadow-lg transition-transform group-hover:scale-110 ${i?"ring-4 ring-offset-2 ring-indigo-600 dark:ring-offset-gray-900":""}`}),s.jsx("span",{className:`text-sm font-medium font-heading ${i?"text-indigo-600 dark:text-indigo-400":"text-gray-500 dark:text-gray-400"}`,children:n.name})]},n.id)})})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 text-xl font-semibold text-gray-800 font-heading dark:text-white",children:[s.jsx($k,{className:"w-6 h-6 text-indigo-600"}),s.jsx("h2",{children:"Typography"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:DT.map(n=>{const i=e.fontSize===n.id;return s.jsxs("button",{onClick:()=>t({fontSize:n.id}),className:`flex flex-col items-start gap-1 p-6 rounded-2xl border-2 transition-all ${i?"border-indigo-600 bg-indigo-50/50 dark:bg-indigo-900/20":"border-gray-100 bg-white hover:border-indigo-200 hover:shadow-lg dark:bg-gray-800 dark:border-gray-700"}`,children:[s.jsx("span",{className:`block font-bold font-heading text-lg ${i?"text-indigo-900 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,children:n.name}),s.jsx("p",{className:"text-sm text-gray-500 font-heading dark:text-gray-400",children:n.description}),s.jsx("div",{className:"mt-4 w-full h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-indigo-600 transition-all ${n.id==="small"?"w-1/3":n.id==="medium"?"w-2/3":"w-full"}`})})]},n.id)})})]}),s.jsxs("section",{className:"space-y-6 pt-8 border-t border-gray-100 dark:border-gray-800",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-heading text-center dark:text-white",children:"Live Preview"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-6 w-32 bg-indigo-600 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-4 w-48 bg-gray-100 dark:bg-gray-700 rounded-lg"})]}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:s.jsx(Wm,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(n=>s.jsx("div",{className:"h-24 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-100 dark:border-gray-600"},n))}),s.jsx("div",{className:"h-40 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-100 dark:border-gray-600 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 dark:text-gray-500 font-heading",children:"Sample Content Area"})})]})]})]})},PT=async(e,t)=>{try{return(await Gt.get("/archive/count",{params:{date:e,type:t}})).data}catch(n){return n.response?.data||{success:!1,message:"Failed to fetch archivable count"}}},UT=async(e,t)=>{try{return(await Gt.post("/archive/run",{date:e,type:t})).data}catch(n){return n.response?.data||{success:!1,message:"Failed to perform archiving"}}},BT=()=>{const[e,t]=k.useState(!0),[n,i]=k.useState(!1),[o,c]=k.useState(null),[f,u]=k.useState("150"),[h,m]=k.useState("365"),[p,w]=k.useState(!1),[j,y]=k.useState(""),[A,T]=k.useState(null),[E,C]=k.useState(!1),[I,G]=k.useState(!1),[D,te]=k.useState([]),[de,Y]=k.useState(""),[O,R]=k.useState(!1),[V,F]=k.useState([]),[z,ee]=k.useState(""),[le,ve]=k.useState(!1),[ae,se]=k.useState([]),[Z,J]=k.useState(""),[fe,U]=k.useState(!1),[_,L]=k.useState([]),[q,B]=k.useState(""),[re,oe]=k.useState(!1);k.useEffect(()=>{Q()},[]);const Q=async()=>{t(!0);try{await Promise.all([ue(),pe(),ye(),ke(),Ne()])}catch(Le){console.error("Failed to fetch settings",Le),c({type:"error",text:"Failed to load some system settings"})}finally{t(!1)}},ue=async()=>{const Le=await _f();Le.success&&Le.data&&(Le.data.REMARKS_WORD_LIMIT&&u(String(Le.data.REMARKS_WORD_LIMIT)),Le.data.ARCHIVE_RETENTION_DAYS&&m(String(Le.data.ARCHIVE_RETENTION_DAYS)),Le.data.AUTO_ARCHIVE_ENABLED!==void 0&&w(Le.data.AUTO_ARCHIVE_ENABLED))},ye=async()=>{ve(!0);const Le=await zp();Le.success&&F(Le.data.labs),ve(!1)},ke=async()=>{U(!0);const Le=await Ip();Le.success&&se(Le.data.designations),U(!1)},Ne=async()=>{oe(!0);const Le=await fv();Le.success&&L(Le.data.divisions),oe(!1)},pe=async()=>{R(!0);const Le=await uv();Le.success&&te(Le.data.allowedDomains),R(!1)},Fe=async Le=>{Le.preventDefault(),c(null),i(!0);try{const Xe={REMARKS_WORD_LIMIT:Number(f),ARCHIVE_RETENTION_DAYS:Number(h),AUTO_ARCHIVE_ENABLED:p},Ze=await c_(Xe);Ze.success?(c({type:"success",text:"Settings updated successfully"}),ta.success("System settings updated")):c({type:"error",text:Ze.message||"Failed to update settings"})}catch(Xe){c({type:"error",text:Xe.message||"An unexpected error occurred"})}finally{i(!1)}},X=async()=>{if(j){C(!0);try{const Le=await PT(j);Le.success&&T(Le.data.count)}catch{ta.error("Failed to calculate archivable documents")}finally{C(!1)}}},We=async()=>{if(!(!j||A===0)&&window.confirm(`Are you sure you want to archive ${A} closed references? This will move them to archive collections and removed from active collections.`)){G(!0);try{const Le=await UT(j);Le.success?(ta.success(`Succesfully archived ${Le.data.total} references`),y(""),T(null)):ta.error(Le.message)}catch(Le){ta.error("Archiving failed: "+Le.message)}finally{G(!1)}}},xe=async()=>{if(!de)return;const Le=de.trim().toLowerCase();if(!Le.includes(".")||Le.includes("@")){ta.error("Please enter a valid domain (e.g., csir.res.in)");return}if(D.includes(Le)){ta.error("Domain already allowed");return}const Xe=[...D,Le];try{const Ze=await t2(Xe);Ze.success&&(te(Ze.data.allowedDomains),Y(""),ta.success("Domain added successfully"))}catch(Ze){console.error("Error adding domain:",Ze),ta.error("Failed to add domain")}},Ue=async Le=>{const Xe=D.filter(we=>we!==Le),Ze=await t2(Xe);Ze.success&&te(Ze.data.allowedDomains)},Re=async()=>{if(!z)return;const Le=z.trim();if(V.includes(Le)){ta.error("Lab already exists");return}const Xe=[...V,Le],Ze=await a2(Xe);Ze.success&&(F(Ze.data.labs),ee(""))},ze=async Le=>{const Xe=V.filter(we=>we!==Le),Ze=await a2(Xe);Ze.success&&F(Ze.data.labs)},rt=async()=>{if(!Z)return;const Le=Z.trim();if(ae.includes(Le)){ta.error("Designation already exists");return}const Xe=[...ae,Le],Ze=await Sh(Xe);Ze.success&&(se(Ze.data.designations),J(""))},dt=async Le=>{const Xe=ae.filter(we=>we!==Le),Ze=await Sh(Xe);Ze.success&&se(Ze.data.designations)},gt=async()=>{if(!q)return;const Le=q.trim();if(_.includes(Le)){ta.error("Division already exists");return}const Xe=[..._,Le],Ze=await n2(Xe);Ze.success&&(L(Ze.data.divisions),B(""))},Ee=async Le=>{const Xe=_.filter(we=>we!==Le),Ze=await n2(Xe);Ze.success&&L(Ze.data.divisions)};return e?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx(Mn,{className:"w-8 h-8 animate-spin text-indigo-600"})}):s.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"mb-0",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3 font-heading dark:text-white leading-none",children:[s.jsx(nl,{className:"w-9 h-9 text-indigo-600 shrink-0"}),s.jsx("span",{children:"System Configuration"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-lg dark:text-gray-400",children:"Manage global system configurations, limits, and security settings."})]}),o&&s.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-2 border ${o.type==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/10 dark:text-green-400 dark:border-green-800":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/10 dark:text-red-400 dark:border-red-800"}`,children:[o.type==="error"&&s.jsx(ol,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:o.text})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tr,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-[1.5px]"}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white font-heading m-0",children:"Application Limits"})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:Fe,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(ur,{id:"remarksLimit",label:"Remarks Word Limit",type:"number",value:f,onChange:Le=>u(Le.target.value),placeholder:"e.g. 150",min:"10",max:"1000",required:!0,icon:s.jsx(Tr,{className:"w-4 h-4 text-gray-400"})}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Maximum number of words allowed in the remarks field globally."})]}),s.jsxs("div",{children:[s.jsx(ur,{id:"retentionDays",label:"Archive Retention Period (Days)",type:"number",value:h,onChange:Le=>m(Le.target.value),placeholder:"e.g. 365",min:"30",required:!0,icon:s.jsx(o2,{className:"w-4 h-4 text-gray-400"})}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Closed references older than this will be archived."})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/40 rounded-xl border border-gray-100 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(bk,{className:`w-5 h-5 ${p?"text-emerald-500 animate-spin-slow":"text-gray-400"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-white leading-none",children:"Enable Automated Archiving"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"System will periodically archive references automatically."})]})]}),s.jsx("button",{type:"button",onClick:()=>w(!p),className:`p-1 rounded-lg transition-all ${p?"text-emerald-500":"text-gray-400"}`,children:p?s.jsx(zk,{className:"w-10 h-10"}):s.jsx(Uk,{className:"w-10 h-10"})})]}),s.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:s.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-md font-medium disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2",children:[n?s.jsx(Mn,{className:"w-4 h-4 animate-spin"}):s.jsx(go,{className:"w-4 h-4"}),n?"Saving...":"Save All Settings"]})})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gr,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-[1.5px]"}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white font-heading m-0",children:"Manual Archiving Utility"})]}),s.jsx("span",{className:"px-3 py-1 bg-amber-50 text-amber-700 text-[10px] font-bold uppercase rounded-full border border-amber-100",children:"Admin Only"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:"Cutoff Date"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"date",value:j,onChange:Le=>{y(Le.target.value),T(null)},className:"w-full pl-4 pr-10 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),s.jsx("p",{className:"text-xs text-gray-500 italic",children:"References closed before this date will be scanned."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:X,disabled:!j||E,className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-medium disabled:opacity-50 flex items-center gap-2",children:E?s.jsx(Mn,{className:"w-4 h-4 animate-spin"}):"Scan Documents"}),s.jsxs("button",{type:"button",onClick:We,disabled:!A||A===0||I,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-md font-medium disabled:opacity-50 flex items-center gap-2",children:[I?s.jsx(Mn,{className:"w-4 h-4 animate-spin"}):s.jsx(Gr,{className:"w-4 h-4"}),I?"Archiving...":`Archive ${A||0} Items`]})]})]}),A!==null&&s.jsxs("div",{className:`mt-6 p-4 rounded-2xl border flex items-center gap-4 animate-in slide-in-from-top-2 duration-300 ${A>0?"bg-amber-50 border-amber-100 text-amber-800":"bg-green-50 border-green-100 text-green-800"}`,children:[s.jsx("div",{className:`p-3 rounded-xl ${A>0?"bg-amber-100":"bg-green-100"}`,children:s.jsx(o2,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg leading-tight",children:A>0?`Found ${A} archivable documents.`:"No closed documents found for the selected cutoff."}),s.jsx("p",{className:"text-sm opacity-80",children:A>0?"Proceed to archive these items. This action is irreversible via UI.":"Your primary database is already lean for this period!"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zs,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-[1.5px]"}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white font-heading m-0",children:"System Security"})]})}),s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:"Allowed Email Domains"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Restrict registration and login to specific domains."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",value:de,onChange:Le=>Y(Le.target.value),placeholder:"e.g. csir.res.in",className:"flex-1 px-4 py-2 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white",onKeyDown:Le=>Le.key==="Enter"&&xe()}),s.jsxs("button",{type:"button",onClick:xe,className:"px-5 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors flex items-center gap-2 font-medium shadow-sm",children:[s.jsx(Qo,{className:"w-5 h-5"})," Add"]})]}),O?s.jsx("div",{className:"py-2 text-center text-gray-400 animate-pulse",children:"Loading domains..."}):D.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(Le=>s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 rounded-lg shadow-sm",children:[s.jsx(Hc,{className:"w-4 h-4 text-indigo-500"}),s.jsx("span",{className:"text-sm font-semibold text-indigo-700 dark:text-indigo-300",children:Le}),s.jsx("button",{onClick:()=>Ue(Le),className:"text-indigo-300 hover:text-red-500 transition-colors",children:s.jsx(Kl,{className:"w-4 h-4"})})]},Le))}):s.jsx("div",{className:"py-4 text-center bg-gray-50 dark:bg-gray-900/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 text-gray-500",children:"No restricted domains. All domains allowed."})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(mo,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-[1.5px]"}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white font-heading m-0",children:"Manage Labs / Institutions"})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",value:z,onChange:Le=>ee(Le.target.value),placeholder:"e.g. CSIR-NCL",className:"flex-1 px-4 py-2 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white",onKeyDown:Le=>Le.key==="Enter"&&Re()}),s.jsxs("button",{onClick:Re,className:"px-5 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors flex items-center gap-2 font-medium",children:[s.jsx(Qo,{className:"w-5 h-5"})," Add Lab"]})]}),le?s.jsx("div",{className:"py-2 text-center text-gray-400",children:"Loading labs..."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-80 overflow-y-auto p-1 custom-scrollbar",children:V.map(Le=>s.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl hover:border-indigo-200 dark:hover:border-indigo-900 transition-all",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate",children:Le}),s.jsx("button",{onClick:()=>ze(Le),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(Kl,{className:"w-4 h-4"})})]},Le))})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yv,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-[1.5px]"}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white font-heading m-0",children:"Manage Designations"})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",value:Z,onChange:Le=>J(Le.target.value),placeholder:"e.g. Scientist",className:"flex-1 px-4 py-2 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white",onKeyDown:Le=>Le.key==="Enter"&&rt()}),s.jsxs("button",{onClick:rt,className:"px-5 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors flex items-center gap-2 font-medium",children:[s.jsx(Qo,{className:"w-5 h-5"})," Add"]})]}),fe?s.jsx("div",{className:"py-2 text-center text-gray-400",children:"Loading designations..."}):s.jsx("div",{className:"flex flex-col gap-2 max-h-[500px] overflow-y-auto p-1 custom-scrollbar",children:ae.map((Le,Xe)=>s.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl hover:border-indigo-200 dark:hover:border-indigo-900 transition-all group",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate flex-1",children:Le}),s.jsxs("div",{className:"flex items-center gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>{if(Xe>0){const Ze=[...ae];[Ze[Xe-1],Ze[Xe]]=[Ze[Xe],Ze[Xe-1]],Sh(Ze).then(we=>{we.success&&se(we.data.designations)})}},disabled:Xe===0,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30 disabled:hover:text-gray-400",title:"Move Up",children:s.jsx(WS,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{if(Xe<ae.length-1){const Ze=[...ae];[Ze[Xe],Ze[Xe+1]]=[Ze[Xe+1],Ze[Xe]],Sh(Ze).then(we=>{we.success&&se(we.data.designations)})}},disabled:Xe===ae.length-1,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30 disabled:hover:text-gray-400",title:"Move Down",children:s.jsx(IS,{className:"w-4 h-4"})}),s.jsx("div",{className:"w-px h-4 bg-gray-200 dark:bg-gray-700 mx-1"}),s.jsx("button",{onClick:()=>dt(Le),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete",children:s.jsx(Kl,{className:"w-4 h-4"})})]})]},Le))})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lo,{className:"w-5 h-5 text-indigo-600 shrink-0 mt-[1.5px]"}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white font-heading m-0",children:"Manage Divisions / Sections"})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",value:q,onChange:Le=>B(Le.target.value),placeholder:"e.g. Finance & Accounts",className:"flex-1 px-4 py-2 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-white",onKeyDown:Le=>Le.key==="Enter"&&gt()}),s.jsxs("button",{onClick:gt,className:"px-5 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors flex items-center gap-2 font-medium",children:[s.jsx(Qo,{className:"w-5 h-5"})," Add Division"]})]}),re?s.jsx("div",{className:"py-2 text-center text-gray-400",children:"Loading divisions..."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-80 overflow-y-auto p-1 custom-scrollbar",children:_.map(Le=>s.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl hover:border-indigo-200 dark:hover:border-indigo-900 transition-all",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate",children:Le}),s.jsx("button",{onClick:()=>Ee(Le),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(Kl,{className:"w-4 h-4"})})]},Le))})]})]})]})},zT=()=>{const{user:e,hasPermission:t}=Qa(),{showConfirm:n}=cl(),i=tr(),[o,c]=k.useState(!0),[f,u]=k.useState([]),[h,m]=k.useState(null);k.useEffect(()=>{p()},[]),k.useEffect(()=>{e&&!t(xt.FEATURE_SYSTEM_CONFIGURATION)&&i("/references/local")},[e,t,i]);const p=async()=>{c(!0);try{const j=await ep();j.success&&u(j.data.permissions)}catch(j){console.error("Failed to fetch permissions",j),m({type:"error",text:"Failed to load permissions"})}finally{c(!1)}},w=async(j,y)=>{if((j==="Audit Trails"||j==="System Configuration")&&y!==dr){const E=f.find(I=>I.feature===j);if(E&&!E.roles.includes(y)&&!await n({title:"Granting Sensitive Access",message:` WARNING: You are about to grant '${j}' access to '${y}'.

This feature grants high-level system access. Only Superadmins should typically have this access.

Are you sure you want to proceed?`,type:"warning",confirmText:"Grant Access",cancelText:"Cancel"}))return}const A=f.map(E=>{if(E.feature===j){const I=E.roles.includes(y)?E.roles.filter(G=>G!==y):[...E.roles,y];return{...E,roles:I}}return E});if(u(A),!(await hS(A)).success){const E=await ep();E.success&&u(E.data.permissions),m({type:"error",text:"Failed to update permission"})}};return o?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx(Mn,{className:"w-8 h-8 animate-spin text-indigo-600"})}):s.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-4 space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"mb-0",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3 font-heading dark:text-white leading-none",children:[s.jsx(Zs,{className:"w-9 h-9 text-indigo-600 shrink-0"}),s.jsx("span",{children:"Feature Access Control"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-lg dark:text-gray-400",children:"Manage granular feature permissions for different user roles."})]}),h&&s.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-2 border ${h.type==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/10 dark:text-green-400 dark:border-green-800":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/10 dark:text-red-400 dark:border-red-800"}`,children:[h.type==="error"&&s.jsx(ol,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:h.text})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden mb-8",children:[s.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zs,{className:"w-5 h-5 text-indigo-600 shrink-0"}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white font-heading m-0",children:"Permissions Matrix"})]})}),s.jsx("div",{className:"hidden md:block p-6 overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[600px] border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 text-left",children:[s.jsx("th",{className:"py-3 px-4 text-sm font-semibold text-gray-500 dark:text-gray-400",children:"Feature"}),["User","Inter Lab sender","Delegated Admin",dr].map(j=>s.jsx("th",{className:"py-3 px-4 text-sm font-semibold text-gray-500 dark:text-gray-400 text-center",children:j},j))]})}),s.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f.map(j=>s.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-700/30 transition-colors",children:[s.jsxs("td",{className:"py-4 px-4",children:[s.jsx("div",{className:"font-medium text-gray-800 dark:text-white",children:j.label||j.feature}),s.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:j.description})]}),["User","Inter Lab sender","Delegated Admin",dr].map(y=>{const A=j.roles.includes(y);return s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:A,onChange:()=>w(j.feature,y)}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]})},y)})]},j.feature))})]})}),s.jsx("div",{className:"md:hidden p-4 space-y-4",children:f.map(j=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 border border-gray-100 dark:border-gray-700",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold text-gray-900 dark:text-white text-lg",children:j.label||j.feature}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:j.description})]}),s.jsx("div",{className:"space-y-4",children:["User","Inter Lab sender","Delegated Admin",dr].map(y=>{const A=j.roles.includes(y);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-100 dark:border-gray-700",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:y}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:A,onChange:()=>w(j.feature,y)}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]})]},y)})})]},j.feature))})]})]})};function IT(){return s.jsx(RT,{children:s.jsx(KC,{children:s.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50 dark:bg-slate-900 transition-colors duration-300 w-full overflow-x-hidden relative",children:[s.jsx(b8,{}),s.jsx("main",{id:"maincontent",className:"w-full grow",children:s.jsxs(w3,{children:[s.jsx(Na,{path:"/",element:s.jsx(cL,{})}),s.jsx(Na,{path:"/profile",element:s.jsx(qn,{children:s.jsx(qy,{})})}),s.jsx(Na,{path:"/profile/:userId",element:s.jsx(qn,{children:s.jsx(qy,{})})}),s.jsx(Na,{path:"/settings",element:s.jsx(qn,{children:s.jsx(FT,{})})}),s.jsx(Na,{path:"/references",element:s.jsx($r,{to:"/references/local",replace:!0})}),s.jsx(Na,{path:"/references/global",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_VIEW_INTER_OFFICE_SENDER],children:s.jsx(GC,{})})}),s.jsx(Na,{path:"/references/local",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_VIEW_OWN_OFFICE_SENDER],children:s.jsx(YC,{})})}),s.jsx(Na,{path:"/references/vip",element:s.jsx(qn,{children:s.jsx("div",{className:"p-8 text-center text-gray-500",children:"VIP References - Coming Soon"})})}),s.jsx(Na,{path:"/admin",element:s.jsx($r,{to:"/admin/references/local",replace:!0})}),s.jsx(Na,{path:"/admin/references",element:s.jsx($r,{to:"/admin/references/local",replace:!0})}),s.jsx(Na,{path:"/admin/references/global",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_MANAGE_GLOBAL_REFERENCES],children:s.jsx(JC,{})})}),s.jsx(Na,{path:"/admin/references/local",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE,xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES],children:s.jsx(By,{})})}),s.jsx(Na,{path:"/admin/references/local",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE,xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES],children:s.jsx(By,{})})}),s.jsx(Na,{path:"/references/global/:id",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_VIEW_INTER_OFFICE_SENDER,xt.FEATURE_MANAGE_GLOBAL_REFERENCES],children:s.jsx(zy,{})})}),s.jsx(Na,{path:"/references/local/:id",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_VIEW_OWN_OFFICE_SENDER,xt.FEATURE_MANAGE_LOCAL_REFERENCES_OWN_OFFICE,xt.FEATURE_MANAGE_LOCAL_REFERENCES_ALL_OFFICES],children:s.jsx(zy,{})})}),s.jsx(Na,{path:"/references/vip/:id",element:s.jsx(qn,{children:s.jsx(tL,{})})}),s.jsx(Na,{path:"/users",element:s.jsx(qn,{allowedRoles:["Inter Lab sender","Delegated Admin",dr],requiredPermissions:[xt.FEATURE_MANAGE_USERS_OWN_OFFICE,xt.FEATURE_MANAGE_USERS_ALL_OFFICES],children:s.jsx(OL,{})})}),s.jsx(Na,{path:"/audit-trails",element:s.jsx(qn,{allowedRoles:[dr],requiredPermissions:[xt.FEATURE_AUDIT_TRAILS],children:s.jsx(VR,{})})}),s.jsx(Na,{path:"/system-settings",element:s.jsx(qn,{allowedRoles:[dr],requiredPermissions:[xt.FEATURE_SYSTEM_CONFIGURATION],children:s.jsx(BT,{})})}),s.jsx(Na,{path:"/feature-permissions",element:s.jsx(qn,{allowedRoles:[dr],requiredPermissions:[xt.FEATURE_SYSTEM_CONFIGURATION],children:s.jsx(zT,{})})}),s.jsx(Na,{path:"/data-collection",element:s.jsx($r,{to:"/data-collection/shared",replace:!0})}),s.jsx(Na,{path:"/data-collection/create",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_FORM_MANAGEMENT],children:s.jsx(kT,{})})}),s.jsx(Na,{path:"/data-collection/shared",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_FORM_MANAGEMENT],children:s.jsx(ET,{})})}),s.jsx(Na,{path:"/data-collection/saved",element:s.jsx(qn,{requiredPermissions:[xt.FEATURE_FORM_MANAGEMENT],children:s.jsx(CT,{})})}),s.jsx(Na,{path:"/help",element:s.jsx(qn,{children:s.jsx(FL,{})})}),s.jsx(Na,{path:"/logout",element:s.jsx(ML,{})}),s.jsx(Na,{path:"/auth",element:s.jsx(Iy,{})}),s.jsx(Na,{path:"/login",element:s.jsx(Iy,{})}),s.jsx(Na,{path:"/oauth/parichay/callback",element:s.jsx(sL,{})}),s.jsx(Na,{path:"/forgotPassword",element:s.jsx(dL,{})}),s.jsx(Na,{path:"/reset-password",element:s.jsx(uL,{})}),s.jsx(Na,{path:"/activate-account",element:s.jsx(DL,{})})]})})]})})})}_N.createRoot(document.getElementById("root")).render(s.jsx(k.StrictMode,{children:s.jsx(G3,{children:s.jsx(LS,{children:s.jsx(IT,{})})})}));export{Ma as _,qT as c,Ap as g};
